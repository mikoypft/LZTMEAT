(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fm={exports:{}},Ys={},pm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function e4(){if(F1)return Ze;F1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(E){return E===null||typeof E!="object"?null:(E=m&&E[m]||E["@@iterator"],typeof E=="function"?E:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function v(E,R,X){this.props=E,this.context=R,this.refs=w,this.updater=X||b}v.prototype.isReactComponent={},v.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},v.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function O(){}O.prototype=v.prototype;function _(E,R,X){this.props=E,this.context=R,this.refs=w,this.updater=X||b}var A=_.prototype=new O;A.constructor=_,j(A,v.prototype),A.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(E,R,X){var re,le={},K=null,he=null;if(R!=null)for(re in R.ref!==void 0&&(he=R.ref),R.key!==void 0&&(K=""+R.key),R)P.call(R,re)&&!C.hasOwnProperty(re)&&(le[re]=R[re]);var Pe=arguments.length-2;if(Pe===1)le.children=X;else if(1<Pe){for(var V=Array(Pe),oe=0;oe<Pe;oe++)V[oe]=arguments[oe+2];le.children=V}if(E&&E.defaultProps)for(re in Pe=E.defaultProps,Pe)le[re]===void 0&&(le[re]=Pe[re]);return{$$typeof:e,type:E,key:K,ref:he,props:le,_owner:S.current}}function q(E,R){return{$$typeof:e,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function H(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function F(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(X){return R[X]})}var L=/\/+/g;function Y(E,R){return typeof E=="object"&&E!==null&&E.key!=null?F(""+E.key):R.toString(36)}function G(E,R,X,re,le){var K=typeof E;(K==="undefined"||K==="boolean")&&(E=null);var he=!1;if(E===null)he=!0;else switch(K){case"string":case"number":he=!0;break;case"object":switch(E.$$typeof){case e:case t:he=!0}}if(he)return he=E,le=le(he),E=re===""?"."+Y(he,0):re,k(le)?(X="",E!=null&&(X=E.replace(L,"$&/")+"/"),G(le,R,X,"",function(oe){return oe})):le!=null&&(H(le)&&(le=q(le,X+(!le.key||he&&he.key===le.key?"":(""+le.key).replace(L,"$&/")+"/")+E)),R.push(le)),1;if(he=0,re=re===""?".":re+":",k(E))for(var Pe=0;Pe<E.length;Pe++){K=E[Pe];var V=re+Y(K,Pe);he+=G(K,R,X,V,le)}else if(V=y(E),typeof V=="function")for(E=V.call(E),Pe=0;!(K=E.next()).done;)K=K.value,V=re+Y(K,Pe++),he+=G(K,R,X,V,le);else if(K==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return he}function te(E,R,X){if(E==null)return E;var re=[],le=0;return G(E,re,"","",function(K){return R.call(X,K,le++)}),re}function U(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(X){(E._status===0||E._status===-1)&&(E._status=1,E._result=X)},function(X){(E._status===0||E._status===-1)&&(E._status=2,E._result=X)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var Q={current:null},Z={transition:null},B={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:Z,ReactCurrentOwner:S};function $(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:te,forEach:function(E,R,X){te(E,function(){R.apply(this,arguments)},X)},count:function(E){var R=0;return te(E,function(){R++}),R},toArray:function(E){return te(E,function(R){return R})||[]},only:function(E){if(!H(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ze.Component=v,Ze.Fragment=r,Ze.Profiler=a,Ze.PureComponent=_,Ze.StrictMode=n,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ze.act=$,Ze.cloneElement=function(E,R,X){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var re=j({},E.props),le=E.key,K=E.ref,he=E._owner;if(R!=null){if(R.ref!==void 0&&(K=R.ref,he=S.current),R.key!==void 0&&(le=""+R.key),E.type&&E.type.defaultProps)var Pe=E.type.defaultProps;for(V in R)P.call(R,V)&&!C.hasOwnProperty(V)&&(re[V]=R[V]===void 0&&Pe!==void 0?Pe[V]:R[V])}var V=arguments.length-2;if(V===1)re.children=X;else if(1<V){Pe=Array(V);for(var oe=0;oe<V;oe++)Pe[oe]=arguments[oe+2];re.children=Pe}return{$$typeof:e,type:E.type,key:le,ref:K,props:re,_owner:he}},Ze.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:s,_context:E},E.Consumer=E},Ze.createElement=T,Ze.createFactory=function(E){var R=T.bind(null,E);return R.type=E,R},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(E){return{$$typeof:u,render:E}},Ze.isValidElement=H,Ze.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:U}},Ze.memo=function(E,R){return{$$typeof:p,type:E,compare:R===void 0?null:R}},Ze.startTransition=function(E){var R=Z.transition;Z.transition={};try{E()}finally{Z.transition=R}},Ze.unstable_act=$,Ze.useCallback=function(E,R){return Q.current.useCallback(E,R)},Ze.useContext=function(E){return Q.current.useContext(E)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(E){return Q.current.useDeferredValue(E)},Ze.useEffect=function(E,R){return Q.current.useEffect(E,R)},Ze.useId=function(){return Q.current.useId()},Ze.useImperativeHandle=function(E,R,X){return Q.current.useImperativeHandle(E,R,X)},Ze.useInsertionEffect=function(E,R){return Q.current.useInsertionEffect(E,R)},Ze.useLayoutEffect=function(E,R){return Q.current.useLayoutEffect(E,R)},Ze.useMemo=function(E,R){return Q.current.useMemo(E,R)},Ze.useReducer=function(E,R,X){return Q.current.useReducer(E,R,X)},Ze.useRef=function(E){return Q.current.useRef(E)},Ze.useState=function(E){return Q.current.useState(E)},Ze.useSyncExternalStore=function(E,R,X){return Q.current.useSyncExternalStore(E,R,X)},Ze.useTransition=function(){return Q.current.useTransition()},Ze.version="18.3.1",Ze}var q1;function eb(){return q1||(q1=1,pm.exports=e4()),pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function t4(){if(B1)return Ys;B1=1;var e=eb(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,p){var h,m={},y=null,b=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(b=f.ref);for(h in f)n.call(f,h)&&!s.hasOwnProperty(h)&&(m[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)m[h]===void 0&&(m[h]=f[h]);return{$$typeof:t,type:u,key:y,ref:b,props:m,_owner:a.current}}return Ys.Fragment=r,Ys.jsx=c,Ys.jsxs=c,Ys}var z1;function r4(){return z1||(z1=1,fm.exports=t4()),fm.exports}var o=r4(),wu={},mm={exports:{}},Ar={},hm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function n4(){return U1||(U1=1,(function(e){function t(Z,B){var $=Z.length;Z.push(B);e:for(;0<$;){var E=$-1>>>1,R=Z[E];if(0<a(R,B))Z[E]=B,Z[$]=R,$=E;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var B=Z[0],$=Z.pop();if($!==B){Z[0]=$;e:for(var E=0,R=Z.length,X=R>>>1;E<X;){var re=2*(E+1)-1,le=Z[re],K=re+1,he=Z[K];if(0>a(le,$))K<R&&0>a(he,le)?(Z[E]=he,Z[K]=$,E=K):(Z[E]=le,Z[re]=$,E=re);else if(K<R&&0>a(he,$))Z[E]=he,Z[K]=$,E=K;else break e}}return B}function a(Z,B){var $=Z.sortIndex-B.sortIndex;return $!==0?$:Z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],h=1,m=null,y=3,b=!1,j=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Z){for(var B=r(p);B!==null;){if(B.callback===null)n(p);else if(B.startTime<=Z)n(p),B.sortIndex=B.expirationTime,t(f,B);else break;B=r(p)}}function k(Z){if(w=!1,A(Z),!j)if(r(f)!==null)j=!0,U(P);else{var B=r(p);B!==null&&Q(k,B.startTime-Z)}}function P(Z,B){j=!1,w&&(w=!1,O(T),T=-1),b=!0;var $=y;try{for(A(B),m=r(f);m!==null&&(!(m.expirationTime>B)||Z&&!F());){var E=m.callback;if(typeof E=="function"){m.callback=null,y=m.priorityLevel;var R=E(m.expirationTime<=B);B=e.unstable_now(),typeof R=="function"?m.callback=R:m===r(f)&&n(f),A(B)}else n(f);m=r(f)}if(m!==null)var X=!0;else{var re=r(p);re!==null&&Q(k,re.startTime-B),X=!1}return X}finally{m=null,y=$,b=!1}}var S=!1,C=null,T=-1,q=5,H=-1;function F(){return!(e.unstable_now()-H<q)}function L(){if(C!==null){var Z=e.unstable_now();H=Z;var B=!0;try{B=C(!0,Z)}finally{B?Y():(S=!1,C=null)}}else S=!1}var Y;if(typeof _=="function")Y=function(){_(L)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=L,Y=function(){te.postMessage(null)}}else Y=function(){v(L,0)};function U(Z){C=Z,S||(S=!0,Y())}function Q(Z,B){T=v(function(){Z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,U(P))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var $=y;y=B;try{return Z()}finally{y=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,B){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var $=y;y=Z;try{return B()}finally{y=$}},e.unstable_scheduleCallback=function(Z,B,$){var E=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?E+$:E):$=E,Z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,Z={id:h++,callback:B,priorityLevel:Z,startTime:$,expirationTime:R,sortIndex:-1},$>E?(Z.sortIndex=$,t(p,Z),r(f)===null&&Z===r(p)&&(w?(O(T),T=-1):w=!0,Q(k,$-E))):(Z.sortIndex=R,t(f,Z),j||b||(j=!0,U(P))),Z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Z){var B=y;return function(){var $=y;y=B;try{return Z.apply(this,arguments)}finally{y=$}}}})(gm)),gm}var W1;function a4(){return W1||(W1=1,hm.exports=n4()),hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function i4(){if(H1)return Ar;H1=1;var e=eb(),t=a4();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(i){return f.call(m,i)?!0:f.call(h,i)?!1:p.test(i)?m[i]=!0:(h[i]=!0,!1)}function b(i,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,d,g){if(l===null||typeof l>"u"||b(i,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,d,g,x,N,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=N,this.removeEmptyString=I}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){v[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];v[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){v[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){v[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){v[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){v[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){v[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){v[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){v[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function _(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(O,_);v[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(O,_);v[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(O,_);v[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){v[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),v.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){v[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,l,d,g){var x=v.hasOwnProperty(l)?v[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,d,x,g)&&(d=null),g||x===null?y(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,g=x.attributeNamespace,d===null?i.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?i.setAttributeNS(g,l,d):i.setAttribute(l,d))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),Z=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var $=Object.assign,E;function R(i){if(E===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);E=l&&l[1]||""}return`
`+E+i}var X=!1;function re(i,l){if(!i||X)return"";X=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ue){var g=ue}Reflect.construct(i,[],l)}else{try{l.call()}catch(ue){g=ue}i.call(l.prototype)}else{try{throw Error()}catch(ue){g=ue}i()}}catch(ue){if(ue&&g&&typeof ue.stack=="string"){for(var x=ue.stack.split(`
`),N=g.stack.split(`
`),I=x.length-1,W=N.length-1;1<=I&&0<=W&&x[I]!==N[W];)W--;for(;1<=I&&0<=W;I--,W--)if(x[I]!==N[W]){if(I!==1||W!==1)do if(I--,W--,0>W||x[I]!==N[W]){var J=`
`+x[I].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=I&&0<=W);break}}}finally{X=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?R(i):""}function le(i){switch(i.tag){case 5:return R(i.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return i=re(i.type,!1),i;case 11:return i=re(i.type.render,!1),i;case 1:return i=re(i.type,!0),i;default:return""}}function K(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case S:return"Portal";case q:return"Profiler";case T:return"StrictMode";case Y:return"Suspense";case G:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case H:return(i._context.displayName||"Context")+".Provider";case L:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case te:return l=i.displayName||null,l!==null?l:K(i.type)||"Memo";case U:l=i._payload,i=i._init;try{return K(i(l))}catch{}}return null}function he(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(l);case 8:return l===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function V(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function oe(i){var l=V(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,N=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(I){g=""+I,N.call(this,I)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function me(i){i._valueTracker||(i._valueTracker=oe(i))}function ce(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return i&&(g=V(i)?i.checked?"true":"false":i.value),i=g,i!==d?(l.setValue(i),!0):!1}function _e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ie(i,l){var d=l.checked;return $({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Je(i,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Pe(l.value!=null?l.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function tt(i,l){l=l.checked,l!=null&&A(i,"checked",l,!1)}function ae(i,l){tt(i,l);var d=Pe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?z(i,l.type,d):l.hasOwnProperty("defaultValue")&&z(i,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function we(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function z(i,l,d){(l!=="number"||_e(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var fe=Array.isArray;function ve(i,l,d,g){if(i=i.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=l.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&g&&(i[d].defaultSelected=!0)}else{for(d=""+Pe(d),l=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function je(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Fe(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(fe(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:Pe(d)}}function Ve(i,l){var d=Pe(l.value),g=Pe(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function pt(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Jt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Jt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ir,er=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,d,g,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ir.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Lt(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(i){hr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),or[l]=or[i]})});function Li(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||or.hasOwnProperty(i)&&or[i]?(""+l).trim():l+"px"}function Fi(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=Li(d,l[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,x):i[d]=x}}var qi=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(i,l){if(l){if(qi[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function pe(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Oe(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ge=null,ot=null,$e=null;function Qe(i){if(i=Ds(i)){if(typeof Ge!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Dc(l),Ge(i.stateNode,i.type,l))}}function Le(i){ot?$e?$e.push(i):$e=[i]:ot=i}function rt(){if(ot){var i=ot,l=$e;if($e=ot=null,Qe(i),l)for(i=0;i<l.length;i++)Qe(l[i])}}function et(i,l){return i(l)}function Et(){}var ma=!1;function It(i,l,d){if(ma)return i(l,d);ma=!0;try{return et(i,l,d)}finally{ma=!1,(ot!==null||$e!==null)&&(Et(),rt())}}function Wt(i,l){var d=i.stateNode;if(d===null)return null;var g=Dc(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ha=!1;if(u)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){ha=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{ha=!1}function Mr(i,l,d,g,x,N,I,W,J){var ue=Array.prototype.slice.call(arguments,3);try{l.apply(d,ue)}catch(ye){this.onError(ye)}}var ga=!1,Wr=null,gs=!1,Cf=null,sT={onError:function(i){ga=!0,Wr=i}};function lT(i,l,d,g,x,N,I,W,J){ga=!1,Wr=null,Mr.apply(sT,arguments)}function cT(i,l,d,g,x,N,I,W,J){if(lT.apply(this,arguments),ga){if(ga){var ue=Wr;ga=!1,Wr=null}else throw Error(r(198));gs||(gs=!0,Cf=ue)}}function Za(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function l0(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c0(i){if(Za(i)!==i)throw Error(r(188))}function uT(i){var l=i.alternate;if(!l){if(l=Za(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,g=l;;){var x=d.return;if(x===null)break;var N=x.alternate;if(N===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===d)return c0(x),i;if(N===g)return c0(x),l;N=N.sibling}throw Error(r(188))}if(d.return!==g.return)d=x,g=N;else{for(var I=!1,W=x.child;W;){if(W===d){I=!0,d=x,g=N;break}if(W===g){I=!0,g=x,d=N;break}W=W.sibling}if(!I){for(W=N.child;W;){if(W===d){I=!0,d=N,g=x;break}if(W===g){I=!0,g=N,d=x;break}W=W.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function u0(i){return i=uT(i),i!==null?d0(i):null}function d0(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=d0(i);if(l!==null)return l;i=i.sibling}return null}var f0=t.unstable_scheduleCallback,p0=t.unstable_cancelCallback,dT=t.unstable_shouldYield,fT=t.unstable_requestPaint,Ct=t.unstable_now,pT=t.unstable_getCurrentPriorityLevel,Tf=t.unstable_ImmediatePriority,m0=t.unstable_UserBlockingPriority,hc=t.unstable_NormalPriority,mT=t.unstable_LowPriority,h0=t.unstable_IdlePriority,gc=null,Pn=null;function hT(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(gc,i,void 0,(i.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:vT,gT=Math.log,yT=Math.LN2;function vT(i){return i>>>=0,i===0?32:31-(gT(i)/yT|0)|0}var yc=64,vc=4194304;function ys(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xc(i,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,x=i.suspendedLanes,N=i.pingedLanes,I=d&268435455;if(I!==0){var W=I&~x;W!==0?g=ys(W):(N&=I,N!==0&&(g=ys(N)))}else I=d&~x,I!==0?g=ys(I):N!==0&&(g=ys(N));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,N=l&-l,x>=N||x===16&&(N&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)d=31-ln(l),x=1<<d,g|=i[d],l&=~x;return g}function xT(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bT(i,l){for(var d=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,N=i.pendingLanes;0<N;){var I=31-ln(N),W=1<<I,J=x[I];J===-1?((W&d)===0||(W&g)!==0)&&(x[I]=xT(W,l)):J<=l&&(i.expiredLanes|=W),N&=~W}}function If(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function g0(){var i=yc;return yc<<=1,(yc&4194240)===0&&(yc=64),i}function Mf(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function vs(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-ln(l),i[l]=d}function wT(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-ln(d),N=1<<x;l[x]=0,g[x]=-1,i[x]=-1,d&=~N}}function Df(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var g=31-ln(d),x=1<<g;x&l|i[g]&l&&(i[g]|=l),d&=~x}}var ut=0;function y0(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var v0,$f,x0,b0,w0,Rf=!1,bc=[],ya=null,va=null,xa=null,xs=new Map,bs=new Map,ba=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(i,l){switch(i){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":xs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(l.pointerId)}}function ws(i,l,d,g,x,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[x]},l!==null&&(l=Ds(l),l!==null&&$f(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function NT(i,l,d,g,x){switch(l){case"focusin":return ya=ws(ya,i,l,d,g,x),!0;case"dragenter":return va=ws(va,i,l,d,g,x),!0;case"mouseover":return xa=ws(xa,i,l,d,g,x),!0;case"pointerover":var N=x.pointerId;return xs.set(N,ws(xs.get(N)||null,i,l,d,g,x)),!0;case"gotpointercapture":return N=x.pointerId,bs.set(N,ws(bs.get(N)||null,i,l,d,g,x)),!0}return!1}function N0(i){var l=ei(i.target);if(l!==null){var d=Za(l);if(d!==null){if(l=d.tag,l===13){if(l=l0(d),l!==null){i.blockedOn=l,w0(i.priority,function(){x0(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Ff(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);xe=g,d.target.dispatchEvent(g),xe=null}else return l=Ds(d),l!==null&&$f(l),i.blockedOn=d,!1;l.shift()}return!0}function S0(i,l,d){wc(i)&&d.delete(l)}function ST(){Rf=!1,ya!==null&&wc(ya)&&(ya=null),va!==null&&wc(va)&&(va=null),xa!==null&&wc(xa)&&(xa=null),xs.forEach(S0),bs.forEach(S0)}function js(i,l){i.blockedOn===l&&(i.blockedOn=null,Rf||(Rf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ST)))}function Ns(i){function l(x){return js(x,i)}if(0<bc.length){js(bc[0],i);for(var d=1;d<bc.length;d++){var g=bc[d];g.blockedOn===i&&(g.blockedOn=null)}}for(ya!==null&&js(ya,i),va!==null&&js(va,i),xa!==null&&js(xa,i),xs.forEach(l),bs.forEach(l),d=0;d<ba.length;d++)g=ba[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<ba.length&&(d=ba[0],d.blockedOn===null);)N0(d),d.blockedOn===null&&ba.shift()}var Bi=k.ReactCurrentBatchConfig,jc=!0;function PT(i,l,d,g){var x=ut,N=Bi.transition;Bi.transition=null;try{ut=1,Lf(i,l,d,g)}finally{ut=x,Bi.transition=N}}function OT(i,l,d,g){var x=ut,N=Bi.transition;Bi.transition=null;try{ut=4,Lf(i,l,d,g)}finally{ut=x,Bi.transition=N}}function Lf(i,l,d,g){if(jc){var x=Ff(i,l,d,g);if(x===null)rp(i,l,g,Nc,d),j0(i,g);else if(NT(x,i,l,d,g))g.stopPropagation();else if(j0(i,g),l&4&&-1<jT.indexOf(i)){for(;x!==null;){var N=Ds(x);if(N!==null&&v0(N),N=Ff(i,l,d,g),N===null&&rp(i,l,g,Nc,d),N===x)break;x=N}x!==null&&g.stopPropagation()}else rp(i,l,g,null,d)}}var Nc=null;function Ff(i,l,d,g){if(Nc=null,i=Oe(g),i=ei(i),i!==null)if(l=Za(i),l===null)i=null;else if(d=l.tag,d===13){if(i=l0(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Nc=i,null}function P0(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pT()){case Tf:return 1;case m0:return 4;case hc:case mT:return 16;case h0:return 536870912;default:return 16}default:return 16}}var wa=null,qf=null,Sc=null;function O0(){if(Sc)return Sc;var i,l=qf,d=l.length,g,x="value"in wa?wa.value:wa.textContent,N=x.length;for(i=0;i<d&&l[i]===x[i];i++);var I=d-i;for(g=1;g<=I&&l[d-g]===x[N-g];g++);return Sc=x.slice(i,1<g?1-g:void 0)}function Pc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Oc(){return!0}function _0(){return!1}function Dr(i){function l(d,g,x,N,I){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(d=i[W],this[W]=d?d(N):N[W]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Oc:_0,this.isPropagationStopped=_0,this}return $(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),l}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bf=Dr(zi),Ss=$({},zi,{view:0,detail:0}),_T=Dr(Ss),zf,Uf,Ps,_c=$({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ps&&(Ps&&i.type==="mousemove"?(zf=i.screenX-Ps.screenX,Uf=i.screenY-Ps.screenY):Uf=zf=0,Ps=i),zf)},movementY:function(i){return"movementY"in i?i.movementY:Uf}}),A0=Dr(_c),AT=$({},_c,{dataTransfer:0}),kT=Dr(AT),ET=$({},Ss,{relatedTarget:0}),Wf=Dr(ET),CT=$({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),TT=Dr(CT),IT=$({},zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MT=Dr(IT),DT=$({},zi,{data:0}),k0=Dr(DT),$T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=LT[i])?!!l[i]:!1}function Hf(){return FT}var qT=$({},Ss,{key:function(i){if(i.key){var l=$T[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Pc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(i){return i.type==="keypress"?Pc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BT=Dr(qT),zT=$({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=Dr(zT),UT=$({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),WT=Dr(UT),HT=$({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),KT=Dr(HT),VT=$({},_c,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=Dr(VT),XT=[9,13,27,32],Kf=u&&"CompositionEvent"in window,Os=null;u&&"documentMode"in document&&(Os=document.documentMode);var YT=u&&"TextEvent"in window&&!Os,C0=u&&(!Kf||Os&&8<Os&&11>=Os),T0=" ",I0=!1;function M0(i,l){switch(i){case"keyup":return XT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ui=!1;function QT(i,l){switch(i){case"compositionend":return D0(l);case"keypress":return l.which!==32?null:(I0=!0,T0);case"textInput":return i=l.data,i===T0&&I0?null:i;default:return null}}function JT(i,l){if(Ui)return i==="compositionend"||!Kf&&M0(i,l)?(i=O0(),Sc=qf=wa=null,Ui=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return C0&&l.locale!=="ko"?null:l.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!ZT[i.type]:l==="textarea"}function R0(i,l,d,g){Le(g),l=Tc(l,"onChange"),0<l.length&&(d=new Bf("onChange","change",null,d,g),i.push({event:d,listeners:l}))}var _s=null,As=null;function eI(i){tw(i,0)}function Ac(i){var l=Gi(i);if(ce(l))return i}function tI(i,l){if(i==="change")return l}var L0=!1;if(u){var Vf;if(u){var Gf="oninput"in document;if(!Gf){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Gf=typeof F0.oninput=="function"}Vf=Gf}else Vf=!1;L0=Vf&&(!document.documentMode||9<document.documentMode)}function q0(){_s&&(_s.detachEvent("onpropertychange",B0),As=_s=null)}function B0(i){if(i.propertyName==="value"&&Ac(As)){var l=[];R0(l,As,i,Oe(i)),It(eI,l)}}function rI(i,l,d){i==="focusin"?(q0(),_s=l,As=d,_s.attachEvent("onpropertychange",B0)):i==="focusout"&&q0()}function nI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ac(As)}function aI(i,l){if(i==="click")return Ac(l)}function iI(i,l){if(i==="input"||i==="change")return Ac(l)}function oI(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var cn=typeof Object.is=="function"?Object.is:oI;function ks(i,l){if(cn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!f.call(l,x)||!cn(i[x],l[x]))return!1}return!0}function z0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function U0(i,l){var d=z0(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=l&&g>=l)return{node:d,offset:l-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=z0(d)}}function W0(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?W0(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function H0(){for(var i=window,l=_e();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=_e(i.document)}return l}function Xf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function sI(i){var l=H0(),d=i.focusedElem,g=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&W0(d.ownerDocument.documentElement,d)){if(g!==null&&Xf(d)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,N=Math.min(g.start,x);g=g.end===void 0?N:Math.min(g.end,x),!i.extend&&N>g&&(x=g,g=N,N=x),x=U0(d,N);var I=U0(d,g);x&&I&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),N>g?(i.addRange(l),i.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var lI=u&&"documentMode"in document&&11>=document.documentMode,Wi=null,Yf=null,Es=null,Qf=!1;function K0(i,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Qf||Wi==null||Wi!==_e(g)||(g=Wi,"selectionStart"in g&&Xf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Es&&ks(Es,g)||(Es=g,g=Tc(Yf,"onSelect"),0<g.length&&(l=new Bf("onSelect","select",null,l,d),i.push({event:l,listeners:g}),l.target=Wi)))}function kc(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Hi={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Jf={},V0={};u&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Ec(i){if(Jf[i])return Jf[i];if(!Hi[i])return i;var l=Hi[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in V0)return Jf[i]=l[d];return i}var G0=Ec("animationend"),X0=Ec("animationiteration"),Y0=Ec("animationstart"),Q0=Ec("transitionend"),J0=new Map,Z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(i,l){J0.set(i,l),s(l,[i])}for(var Zf=0;Zf<Z0.length;Zf++){var ep=Z0[Zf],cI=ep.toLowerCase(),uI=ep[0].toUpperCase()+ep.slice(1);ja(cI,"on"+uI)}ja(G0,"onAnimationEnd"),ja(X0,"onAnimationIteration"),ja(Y0,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(Q0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function ew(i,l,d){var g=i.type||"unknown-event";i.currentTarget=d,cT(g,l,void 0,i),i.currentTarget=null}function tw(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],x=g.event;g=g.listeners;e:{var N=void 0;if(l)for(var I=g.length-1;0<=I;I--){var W=g[I],J=W.instance,ue=W.currentTarget;if(W=W.listener,J!==N&&x.isPropagationStopped())break e;ew(x,W,ue),N=J}else for(I=0;I<g.length;I++){if(W=g[I],J=W.instance,ue=W.currentTarget,W=W.listener,J!==N&&x.isPropagationStopped())break e;ew(x,W,ue),N=J}}}if(gs)throw i=Cf,gs=!1,Cf=null,i}function vt(i,l){var d=l[lp];d===void 0&&(d=l[lp]=new Set);var g=i+"__bubble";d.has(g)||(rw(l,i,2,!1),d.add(g))}function tp(i,l,d){var g=0;l&&(g|=4),rw(d,i,g,l)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Ts(i){if(!i[Cc]){i[Cc]=!0,n.forEach(function(d){d!=="selectionchange"&&(dI.has(d)||tp(d,!1,i),tp(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Cc]||(l[Cc]=!0,tp("selectionchange",!1,l))}}function rw(i,l,d,g){switch(P0(l)){case 1:var x=PT;break;case 4:x=OT;break;default:x=Lf}d=x.bind(null,l,d,i),x=void 0,!ha||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,d,{capture:!0,passive:x}):i.addEventListener(l,d,!0):x!==void 0?i.addEventListener(l,d,{passive:x}):i.addEventListener(l,d,!1)}function rp(i,l,d,g,x){var N=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var W=g.stateNode.containerInfo;if(W===x||W.nodeType===8&&W.parentNode===x)break;if(I===4)for(I=g.return;I!==null;){var J=I.tag;if((J===3||J===4)&&(J=I.stateNode.containerInfo,J===x||J.nodeType===8&&J.parentNode===x))return;I=I.return}for(;W!==null;){if(I=ei(W),I===null)return;if(J=I.tag,J===5||J===6){g=N=I;continue e}W=W.parentNode}}g=g.return}It(function(){var ue=N,ye=Oe(d),be=[];e:{var ge=J0.get(i);if(ge!==void 0){var Ae=Bf,Ce=i;switch(i){case"keypress":if(Pc(d)===0)break e;case"keydown":case"keyup":Ae=BT;break;case"focusin":Ce="focus",Ae=Wf;break;case"focusout":Ce="blur",Ae=Wf;break;case"beforeblur":case"afterblur":Ae=Wf;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=A0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=kT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=WT;break;case G0:case X0:case Y0:Ae=TT;break;case Q0:Ae=KT;break;case"scroll":Ae=_T;break;case"wheel":Ae=GT;break;case"copy":case"cut":case"paste":Ae=MT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=E0}var Me=(l&4)!==0,Tt=!Me&&i==="scroll",ie=Me?ge!==null?ge+"Capture":null:ge;Me=[];for(var ee=ue,se;ee!==null;){se=ee;var Se=se.stateNode;if(se.tag===5&&Se!==null&&(se=Se,ie!==null&&(Se=Wt(ee,ie),Se!=null&&Me.push(Is(ee,Se,se)))),Tt)break;ee=ee.return}0<Me.length&&(ge=new Ae(ge,Ce,null,d,ye),be.push({event:ge,listeners:Me}))}}if((l&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",ge&&d!==xe&&(Ce=d.relatedTarget||d.fromElement)&&(ei(Ce)||Ce[Un]))break e;if((Ae||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ae?(Ce=d.relatedTarget||d.toElement,Ae=ue,Ce=Ce?ei(Ce):null,Ce!==null&&(Tt=Za(Ce),Ce!==Tt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Ae=null,Ce=ue),Ae!==Ce)){if(Me=A0,Se="onMouseLeave",ie="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(Me=E0,Se="onPointerLeave",ie="onPointerEnter",ee="pointer"),Tt=Ae==null?ge:Gi(Ae),se=Ce==null?ge:Gi(Ce),ge=new Me(Se,ee+"leave",Ae,d,ye),ge.target=Tt,ge.relatedTarget=se,Se=null,ei(ye)===ue&&(Me=new Me(ie,ee+"enter",Ce,d,ye),Me.target=se,Me.relatedTarget=Tt,Se=Me),Tt=Se,Ae&&Ce)t:{for(Me=Ae,ie=Ce,ee=0,se=Me;se;se=Ki(se))ee++;for(se=0,Se=ie;Se;Se=Ki(Se))se++;for(;0<ee-se;)Me=Ki(Me),ee--;for(;0<se-ee;)ie=Ki(ie),se--;for(;ee--;){if(Me===ie||ie!==null&&Me===ie.alternate)break t;Me=Ki(Me),ie=Ki(ie)}Me=null}else Me=null;Ae!==null&&nw(be,ge,Ae,Me,!1),Ce!==null&&Tt!==null&&nw(be,Tt,Ce,Me,!0)}}e:{if(ge=ue?Gi(ue):window,Ae=ge.nodeName&&ge.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ge.type==="file")var Re=tI;else if($0(ge))if(L0)Re=iI;else{Re=nI;var qe=rI}else(Ae=ge.nodeName)&&Ae.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Re=aI);if(Re&&(Re=Re(i,ue))){R0(be,Re,d,ye);break e}qe&&qe(i,ge,ue),i==="focusout"&&(qe=ge._wrapperState)&&qe.controlled&&ge.type==="number"&&z(ge,"number",ge.value)}switch(qe=ue?Gi(ue):window,i){case"focusin":($0(qe)||qe.contentEditable==="true")&&(Wi=qe,Yf=ue,Es=null);break;case"focusout":Es=Yf=Wi=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,K0(be,d,ye);break;case"selectionchange":if(lI)break;case"keydown":case"keyup":K0(be,d,ye)}var Be;if(Kf)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Ui?M0(i,d)&&(Ke="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Ke="onCompositionStart");Ke&&(C0&&d.locale!=="ko"&&(Ui||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Ui&&(Be=O0()):(wa=ye,qf="value"in wa?wa.value:wa.textContent,Ui=!0)),qe=Tc(ue,Ke),0<qe.length&&(Ke=new k0(Ke,i,null,d,ye),be.push({event:Ke,listeners:qe}),Be?Ke.data=Be:(Be=D0(d),Be!==null&&(Ke.data=Be)))),(Be=YT?QT(i,d):JT(i,d))&&(ue=Tc(ue,"onBeforeInput"),0<ue.length&&(ye=new k0("onBeforeInput","beforeinput",null,d,ye),be.push({event:ye,listeners:ue}),ye.data=Be))}tw(be,l)})}function Is(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Tc(i,l){for(var d=l+"Capture",g=[];i!==null;){var x=i,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=Wt(i,d),N!=null&&g.unshift(Is(i,N,x)),N=Wt(i,l),N!=null&&g.push(Is(i,N,x))),i=i.return}return g}function Ki(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nw(i,l,d,g,x){for(var N=l._reactName,I=[];d!==null&&d!==g;){var W=d,J=W.alternate,ue=W.stateNode;if(J!==null&&J===g)break;W.tag===5&&ue!==null&&(W=ue,x?(J=Wt(d,N),J!=null&&I.unshift(Is(d,J,W))):x||(J=Wt(d,N),J!=null&&I.push(Is(d,J,W)))),d=d.return}I.length!==0&&i.push({event:l,listeners:I})}var fI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function aw(i){return(typeof i=="string"?i:""+i).replace(fI,`
`).replace(pI,"")}function Ic(i,l,d){if(l=aw(l),aw(i)!==l&&d)throw Error(r(425))}function Mc(){}var np=null,ap=null;function ip(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,mI=typeof clearTimeout=="function"?clearTimeout:void 0,iw=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof iw<"u"?function(i){return iw.resolve(null).then(i).catch(gI)}:op;function gI(i){setTimeout(function(){throw i})}function sp(i,l){var d=l,g=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){i.removeChild(x),Ns(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);Ns(l)}function Na(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function ow(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),On="__reactFiber$"+Vi,Ms="__reactProps$"+Vi,Un="__reactContainer$"+Vi,lp="__reactEvents$"+Vi,yI="__reactListeners$"+Vi,vI="__reactHandles$"+Vi;function ei(i){var l=i[On];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Un]||d[On]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=ow(i);i!==null;){if(d=i[On])return d;i=ow(i)}return l}i=d,d=i.parentNode}return null}function Ds(i){return i=i[On]||i[Un],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Gi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Dc(i){return i[Ms]||null}var cp=[],Xi=-1;function Sa(i){return{current:i}}function xt(i){0>Xi||(i.current=cp[Xi],cp[Xi]=null,Xi--)}function mt(i,l){Xi++,cp[Xi]=i.current,i.current=l}var Pa={},sr=Sa(Pa),Nr=Sa(!1),ti=Pa;function Yi(i,l){var d=i.type.contextTypes;if(!d)return Pa;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in d)x[N]=l[N];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function Sr(i){return i=i.childContextTypes,i!=null}function $c(){xt(Nr),xt(sr)}function sw(i,l,d){if(sr.current!==Pa)throw Error(r(168));mt(sr,l),mt(Nr,d)}function lw(i,l,d){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(r(108,he(i)||"Unknown",x));return $({},d,g)}function Rc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pa,ti=sr.current,mt(sr,i),mt(Nr,Nr.current),!0}function cw(i,l,d){var g=i.stateNode;if(!g)throw Error(r(169));d?(i=lw(i,l,ti),g.__reactInternalMemoizedMergedChildContext=i,xt(Nr),xt(sr),mt(sr,i)):xt(Nr),mt(Nr,d)}var Wn=null,Lc=!1,up=!1;function uw(i){Wn===null?Wn=[i]:Wn.push(i)}function xI(i){Lc=!0,uw(i)}function Oa(){if(!up&&Wn!==null){up=!0;var i=0,l=ut;try{var d=Wn;for(ut=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Wn=null,Lc=!1}catch(x){throw Wn!==null&&(Wn=Wn.slice(i+1)),f0(Tf,Oa),x}finally{ut=l,up=!1}}return null}var Qi=[],Ji=0,Fc=null,qc=0,Hr=[],Kr=0,ri=null,Hn=1,Kn="";function ni(i,l){Qi[Ji++]=qc,Qi[Ji++]=Fc,Fc=i,qc=l}function dw(i,l,d){Hr[Kr++]=Hn,Hr[Kr++]=Kn,Hr[Kr++]=ri,ri=i;var g=Hn;i=Kn;var x=32-ln(g)-1;g&=~(1<<x),d+=1;var N=32-ln(l)+x;if(30<N){var I=x-x%5;N=(g&(1<<I)-1).toString(32),g>>=I,x-=I,Hn=1<<32-ln(l)+x|d<<x|g,Kn=N+i}else Hn=1<<N|d<<x|g,Kn=i}function dp(i){i.return!==null&&(ni(i,1),dw(i,1,0))}function fp(i){for(;i===Fc;)Fc=Qi[--Ji],Qi[Ji]=null,qc=Qi[--Ji],Qi[Ji]=null;for(;i===ri;)ri=Hr[--Kr],Hr[Kr]=null,Kn=Hr[--Kr],Hr[Kr]=null,Hn=Hr[--Kr],Hr[Kr]=null}var $r=null,Rr=null,jt=!1,un=null;function fw(i,l){var d=Yr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function pw(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,$r=i,Rr=Na(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,$r=i,Rr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ri!==null?{id:Hn,overflow:Kn}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Yr(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,$r=i,Rr=null,!0):!1;default:return!1}}function pp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mp(i){if(jt){var l=Rr;if(l){var d=l;if(!pw(i,l)){if(pp(i))throw Error(r(418));l=Na(d.nextSibling);var g=$r;l&&pw(i,l)?fw(g,d):(i.flags=i.flags&-4097|2,jt=!1,$r=i)}}else{if(pp(i))throw Error(r(418));i.flags=i.flags&-4097|2,jt=!1,$r=i}}}function mw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;$r=i}function Bc(i){if(i!==$r)return!1;if(!jt)return mw(i),jt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!ip(i.type,i.memoizedProps)),l&&(l=Rr)){if(pp(i))throw hw(),Error(r(418));for(;l;)fw(i,l),l=Na(l.nextSibling)}if(mw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){Rr=Na(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}Rr=null}}else Rr=$r?Na(i.stateNode.nextSibling):null;return!0}function hw(){for(var i=Rr;i;)i=Na(i.nextSibling)}function Zi(){Rr=$r=null,jt=!1}function hp(i){un===null?un=[i]:un.push(i)}var bI=k.ReactCurrentBatchConfig;function $s(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,i));var x=g,N=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===N?l.ref:(l=function(I){var W=x.refs;I===null?delete W[N]:W[N]=I},l._stringRef=N,l)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function zc(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function gw(i){var l=i._init;return l(i._payload)}function yw(i){function l(ie,ee){if(i){var se=ie.deletions;se===null?(ie.deletions=[ee],ie.flags|=16):se.push(ee)}}function d(ie,ee){if(!i)return null;for(;ee!==null;)l(ie,ee),ee=ee.sibling;return null}function g(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function x(ie,ee){return ie=Ma(ie,ee),ie.index=0,ie.sibling=null,ie}function N(ie,ee,se){return ie.index=se,i?(se=ie.alternate,se!==null?(se=se.index,se<ee?(ie.flags|=2,ee):se):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function I(ie){return i&&ie.alternate===null&&(ie.flags|=2),ie}function W(ie,ee,se,Se){return ee===null||ee.tag!==6?(ee=om(se,ie.mode,Se),ee.return=ie,ee):(ee=x(ee,se),ee.return=ie,ee)}function J(ie,ee,se,Se){var Re=se.type;return Re===C?ye(ie,ee,se.props.children,Se,se.key):ee!==null&&(ee.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===U&&gw(Re)===ee.type)?(Se=x(ee,se.props),Se.ref=$s(ie,ee,se),Se.return=ie,Se):(Se=fu(se.type,se.key,se.props,null,ie.mode,Se),Se.ref=$s(ie,ee,se),Se.return=ie,Se)}function ue(ie,ee,se,Se){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=sm(se,ie.mode,Se),ee.return=ie,ee):(ee=x(ee,se.children||[]),ee.return=ie,ee)}function ye(ie,ee,se,Se,Re){return ee===null||ee.tag!==7?(ee=di(se,ie.mode,Se,Re),ee.return=ie,ee):(ee=x(ee,se),ee.return=ie,ee)}function be(ie,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=om(""+ee,ie.mode,se),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return se=fu(ee.type,ee.key,ee.props,null,ie.mode,se),se.ref=$s(ie,null,ee),se.return=ie,se;case S:return ee=sm(ee,ie.mode,se),ee.return=ie,ee;case U:var Se=ee._init;return be(ie,Se(ee._payload),se)}if(fe(ee)||B(ee))return ee=di(ee,ie.mode,se,null),ee.return=ie,ee;zc(ie,ee)}return null}function ge(ie,ee,se,Se){var Re=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Re!==null?null:W(ie,ee,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return se.key===Re?J(ie,ee,se,Se):null;case S:return se.key===Re?ue(ie,ee,se,Se):null;case U:return Re=se._init,ge(ie,ee,Re(se._payload),Se)}if(fe(se)||B(se))return Re!==null?null:ye(ie,ee,se,Se,null);zc(ie,se)}return null}function Ae(ie,ee,se,Se,Re){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ie=ie.get(se)||null,W(ee,ie,""+Se,Re);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case P:return ie=ie.get(Se.key===null?se:Se.key)||null,J(ee,ie,Se,Re);case S:return ie=ie.get(Se.key===null?se:Se.key)||null,ue(ee,ie,Se,Re);case U:var qe=Se._init;return Ae(ie,ee,se,qe(Se._payload),Re)}if(fe(Se)||B(Se))return ie=ie.get(se)||null,ye(ee,ie,Se,Re,null);zc(ee,Se)}return null}function Ce(ie,ee,se,Se){for(var Re=null,qe=null,Be=ee,Ke=ee=0,Vt=null;Be!==null&&Ke<se.length;Ke++){Be.index>Ke?(Vt=Be,Be=null):Vt=Be.sibling;var at=ge(ie,Be,se[Ke],Se);if(at===null){Be===null&&(Be=Vt);break}i&&Be&&at.alternate===null&&l(ie,Be),ee=N(at,ee,Ke),qe===null?Re=at:qe.sibling=at,qe=at,Be=Vt}if(Ke===se.length)return d(ie,Be),jt&&ni(ie,Ke),Re;if(Be===null){for(;Ke<se.length;Ke++)Be=be(ie,se[Ke],Se),Be!==null&&(ee=N(Be,ee,Ke),qe===null?Re=Be:qe.sibling=Be,qe=Be);return jt&&ni(ie,Ke),Re}for(Be=g(ie,Be);Ke<se.length;Ke++)Vt=Ae(Be,ie,Ke,se[Ke],Se),Vt!==null&&(i&&Vt.alternate!==null&&Be.delete(Vt.key===null?Ke:Vt.key),ee=N(Vt,ee,Ke),qe===null?Re=Vt:qe.sibling=Vt,qe=Vt);return i&&Be.forEach(function(Da){return l(ie,Da)}),jt&&ni(ie,Ke),Re}function Me(ie,ee,se,Se){var Re=B(se);if(typeof Re!="function")throw Error(r(150));if(se=Re.call(se),se==null)throw Error(r(151));for(var qe=Re=null,Be=ee,Ke=ee=0,Vt=null,at=se.next();Be!==null&&!at.done;Ke++,at=se.next()){Be.index>Ke?(Vt=Be,Be=null):Vt=Be.sibling;var Da=ge(ie,Be,at.value,Se);if(Da===null){Be===null&&(Be=Vt);break}i&&Be&&Da.alternate===null&&l(ie,Be),ee=N(Da,ee,Ke),qe===null?Re=Da:qe.sibling=Da,qe=Da,Be=Vt}if(at.done)return d(ie,Be),jt&&ni(ie,Ke),Re;if(Be===null){for(;!at.done;Ke++,at=se.next())at=be(ie,at.value,Se),at!==null&&(ee=N(at,ee,Ke),qe===null?Re=at:qe.sibling=at,qe=at);return jt&&ni(ie,Ke),Re}for(Be=g(ie,Be);!at.done;Ke++,at=se.next())at=Ae(Be,ie,Ke,at.value,Se),at!==null&&(i&&at.alternate!==null&&Be.delete(at.key===null?Ke:at.key),ee=N(at,ee,Ke),qe===null?Re=at:qe.sibling=at,qe=at);return i&&Be.forEach(function(ZI){return l(ie,ZI)}),jt&&ni(ie,Ke),Re}function Tt(ie,ee,se,Se){if(typeof se=="object"&&se!==null&&se.type===C&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case P:e:{for(var Re=se.key,qe=ee;qe!==null;){if(qe.key===Re){if(Re=se.type,Re===C){if(qe.tag===7){d(ie,qe.sibling),ee=x(qe,se.props.children),ee.return=ie,ie=ee;break e}}else if(qe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===U&&gw(Re)===qe.type){d(ie,qe.sibling),ee=x(qe,se.props),ee.ref=$s(ie,qe,se),ee.return=ie,ie=ee;break e}d(ie,qe);break}else l(ie,qe);qe=qe.sibling}se.type===C?(ee=di(se.props.children,ie.mode,Se,se.key),ee.return=ie,ie=ee):(Se=fu(se.type,se.key,se.props,null,ie.mode,Se),Se.ref=$s(ie,ee,se),Se.return=ie,ie=Se)}return I(ie);case S:e:{for(qe=se.key;ee!==null;){if(ee.key===qe)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){d(ie,ee.sibling),ee=x(ee,se.children||[]),ee.return=ie,ie=ee;break e}else{d(ie,ee);break}else l(ie,ee);ee=ee.sibling}ee=sm(se,ie.mode,Se),ee.return=ie,ie=ee}return I(ie);case U:return qe=se._init,Tt(ie,ee,qe(se._payload),Se)}if(fe(se))return Ce(ie,ee,se,Se);if(B(se))return Me(ie,ee,se,Se);zc(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,ee!==null&&ee.tag===6?(d(ie,ee.sibling),ee=x(ee,se),ee.return=ie,ie=ee):(d(ie,ee),ee=om(se,ie.mode,Se),ee.return=ie,ie=ee),I(ie)):d(ie,ee)}return Tt}var eo=yw(!0),vw=yw(!1),Uc=Sa(null),Wc=null,to=null,gp=null;function yp(){gp=to=Wc=null}function vp(i){var l=Uc.current;xt(Uc),i._currentValue=l}function xp(i,l,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===d)break;i=i.return}}function ro(i,l){Wc=i,gp=to=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Pr=!0),i.firstContext=null)}function Vr(i){var l=i._currentValue;if(gp!==i)if(i={context:i,memoizedValue:l,next:null},to===null){if(Wc===null)throw Error(r(308));to=i,Wc.dependencies={lanes:0,firstContext:i}}else to=to.next=i;return l}var ai=null;function bp(i){ai===null?ai=[i]:ai.push(i)}function xw(i,l,d,g){var x=l.interleaved;return x===null?(d.next=d,bp(l)):(d.next=x.next,x.next=d),l.interleaved=d,Vn(i,g)}function Vn(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var _a=!1;function wp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Aa(i,l,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,Vn(i,d)}return x=g.interleaved,x===null?(l.next=l,bp(g)):(l.next=x.next,x.next=l),g.interleaved=l,Vn(i,d)}function Hc(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,Df(i,d)}}function ww(i,l){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};N===null?x=N=I:N=N.next=I,d=d.next}while(d!==null);N===null?x=N=l:N=N.next=l}else x=N=l;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Kc(i,l,d,g){var x=i.updateQueue;_a=!1;var N=x.firstBaseUpdate,I=x.lastBaseUpdate,W=x.shared.pending;if(W!==null){x.shared.pending=null;var J=W,ue=J.next;J.next=null,I===null?N=ue:I.next=ue,I=J;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==I&&(W===null?ye.firstBaseUpdate=ue:W.next=ue,ye.lastBaseUpdate=J))}if(N!==null){var be=x.baseState;I=0,ye=ue=J=null,W=N;do{var ge=W.lane,Ae=W.eventTime;if((g&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Ae,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Ce=i,Me=W;switch(ge=l,Ae=d,Me.tag){case 1:if(Ce=Me.payload,typeof Ce=="function"){be=Ce.call(Ae,be,ge);break e}be=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Me.payload,ge=typeof Ce=="function"?Ce.call(Ae,be,ge):Ce,ge==null)break e;be=$({},be,ge);break e;case 2:_a=!0}}W.callback!==null&&W.lane!==0&&(i.flags|=64,ge=x.effects,ge===null?x.effects=[W]:ge.push(W))}else Ae={eventTime:Ae,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(ue=ye=Ae,J=be):ye=ye.next=Ae,I|=ge;if(W=W.next,W===null){if(W=x.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,x.lastBaseUpdate=ge,x.shared.pending=null}}while(!0);if(ye===null&&(J=be),x.baseState=J,x.firstBaseUpdate=ue,x.lastBaseUpdate=ye,l=x.shared.interleaved,l!==null){x=l;do I|=x.lane,x=x.next;while(x!==l)}else N===null&&(x.shared.lanes=0);si|=I,i.lanes=I,i.memoizedState=be}}function jw(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Rs={},_n=Sa(Rs),Ls=Sa(Rs),Fs=Sa(Rs);function ii(i){if(i===Rs)throw Error(r(174));return i}function jp(i,l){switch(mt(Fs,l),mt(Ls,i),mt(_n,Rs),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Zt(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Zt(l,i)}xt(_n),mt(_n,l)}function no(){xt(_n),xt(Ls),xt(Fs)}function Nw(i){ii(Fs.current);var l=ii(_n.current),d=Zt(l,i.type);l!==d&&(mt(Ls,i),mt(_n,d))}function Np(i){Ls.current===i&&(xt(_n),xt(Ls))}var St=Sa(0);function Vc(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Sp=[];function Pp(){for(var i=0;i<Sp.length;i++)Sp[i]._workInProgressVersionPrimary=null;Sp.length=0}var Gc=k.ReactCurrentDispatcher,Op=k.ReactCurrentBatchConfig,oi=0,Pt=null,Ft=null,Ht=null,Xc=!1,qs=!1,Bs=0,wI=0;function lr(){throw Error(r(321))}function _p(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!cn(i[d],l[d]))return!1;return!0}function Ap(i,l,d,g,x,N){if(oi=N,Pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Gc.current=i===null||i.memoizedState===null?PI:OI,i=d(g,x),qs){N=0;do{if(qs=!1,Bs=0,25<=N)throw Error(r(301));N+=1,Ht=Ft=null,l.updateQueue=null,Gc.current=_I,i=d(g,x)}while(qs)}if(Gc.current=Jc,l=Ft!==null&&Ft.next!==null,oi=0,Ht=Ft=Pt=null,Xc=!1,l)throw Error(r(300));return i}function kp(){var i=Bs!==0;return Bs=0,i}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Pt.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function Gr(){if(Ft===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=Ft.next;var l=Ht===null?Pt.memoizedState:Ht.next;if(l!==null)Ht=l,Ft=i;else{if(i===null)throw Error(r(310));Ft=i,i={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Ht===null?Pt.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function zs(i,l){return typeof l=="function"?l(i):l}function Ep(i){var l=Gr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=Ft,x=g.baseQueue,N=d.pending;if(N!==null){if(x!==null){var I=x.next;x.next=N.next,N.next=I}g.baseQueue=x=N,d.pending=null}if(x!==null){N=x.next,g=g.baseState;var W=I=null,J=null,ue=N;do{var ye=ue.lane;if((oi&ye)===ye)J!==null&&(J=J.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),g=ue.hasEagerState?ue.eagerState:i(g,ue.action);else{var be={lane:ye,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};J===null?(W=J=be,I=g):J=J.next=be,Pt.lanes|=ye,si|=ye}ue=ue.next}while(ue!==null&&ue!==N);J===null?I=g:J.next=W,cn(g,l.memoizedState)||(Pr=!0),l.memoizedState=g,l.baseState=I,l.baseQueue=J,d.lastRenderedState=g}if(i=d.interleaved,i!==null){x=i;do N=x.lane,Pt.lanes|=N,si|=N,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Cp(i){var l=Gr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var g=d.dispatch,x=d.pending,N=l.memoizedState;if(x!==null){d.pending=null;var I=x=x.next;do N=i(N,I.action),I=I.next;while(I!==x);cn(N,l.memoizedState)||(Pr=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,g]}function Sw(){}function Pw(i,l){var d=Pt,g=Gr(),x=l(),N=!cn(g.memoizedState,x);if(N&&(g.memoizedState=x,Pr=!0),g=g.queue,Tp(Aw.bind(null,d,g,i),[i]),g.getSnapshot!==l||N||Ht!==null&&Ht.memoizedState.tag&1){if(d.flags|=2048,Us(9,_w.bind(null,d,g,x,l),void 0,null),Kt===null)throw Error(r(349));(oi&30)!==0||Ow(d,l,x)}return x}function Ow(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=Pt.updateQueue,l===null?(l={lastEffect:null,stores:null},Pt.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function _w(i,l,d,g){l.value=d,l.getSnapshot=g,kw(l)&&Ew(i)}function Aw(i,l,d){return d(function(){kw(l)&&Ew(i)})}function kw(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!cn(i,d)}catch{return!0}}function Ew(i){var l=Vn(i,1);l!==null&&mn(l,i,1,-1)}function Cw(i){var l=An();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:i},l.queue=i,i=i.dispatch=SI.bind(null,Pt,i),[l.memoizedState,i]}function Us(i,l,d,g){return i={tag:i,create:l,destroy:d,deps:g,next:null},l=Pt.updateQueue,l===null?(l={lastEffect:null,stores:null},Pt.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,l.lastEffect=i)),i}function Tw(){return Gr().memoizedState}function Yc(i,l,d,g){var x=An();Pt.flags|=i,x.memoizedState=Us(1|l,d,void 0,g===void 0?null:g)}function Qc(i,l,d,g){var x=Gr();g=g===void 0?null:g;var N=void 0;if(Ft!==null){var I=Ft.memoizedState;if(N=I.destroy,g!==null&&_p(g,I.deps)){x.memoizedState=Us(l,d,N,g);return}}Pt.flags|=i,x.memoizedState=Us(1|l,d,N,g)}function Iw(i,l){return Yc(8390656,8,i,l)}function Tp(i,l){return Qc(2048,8,i,l)}function Mw(i,l){return Qc(4,2,i,l)}function Dw(i,l){return Qc(4,4,i,l)}function $w(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Rw(i,l,d){return d=d!=null?d.concat([i]):null,Qc(4,4,$w.bind(null,l,i),d)}function Ip(){}function Lw(i,l){var d=Gr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&_p(l,g[1])?g[0]:(d.memoizedState=[i,l],i)}function Fw(i,l){var d=Gr();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&_p(l,g[1])?g[0]:(i=i(),d.memoizedState=[i,l],i)}function qw(i,l,d){return(oi&21)===0?(i.baseState&&(i.baseState=!1,Pr=!0),i.memoizedState=d):(cn(d,l)||(d=g0(),Pt.lanes|=d,si|=d,i.baseState=!0),l)}function jI(i,l){var d=ut;ut=d!==0&&4>d?d:4,i(!0);var g=Op.transition;Op.transition={};try{i(!1),l()}finally{ut=d,Op.transition=g}}function Bw(){return Gr().memoizedState}function NI(i,l,d){var g=Ta(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},zw(i))Uw(l,d);else if(d=xw(i,l,d,g),d!==null){var x=yr();mn(d,i,g,x),Ww(d,l,g)}}function SI(i,l,d){var g=Ta(i),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(zw(i))Uw(l,x);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var I=l.lastRenderedState,W=N(I,d);if(x.hasEagerState=!0,x.eagerState=W,cn(W,I)){var J=l.interleaved;J===null?(x.next=x,bp(l)):(x.next=J.next,J.next=x),l.interleaved=x;return}}catch{}finally{}d=xw(i,l,x,g),d!==null&&(x=yr(),mn(d,i,g,x),Ww(d,l,g))}}function zw(i){var l=i.alternate;return i===Pt||l!==null&&l===Pt}function Uw(i,l){qs=Xc=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Ww(i,l,d){if((d&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,d|=g,l.lanes=d,Df(i,d)}}var Jc={readContext:Vr,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},PI={readContext:Vr,useCallback:function(i,l){return An().memoizedState=[i,l===void 0?null:l],i},useContext:Vr,useEffect:Iw,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Yc(4194308,4,$w.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Yc(4194308,4,i,l)},useInsertionEffect:function(i,l){return Yc(4,2,i,l)},useMemo:function(i,l){var d=An();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var g=An();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=NI.bind(null,Pt,i),[g.memoizedState,i]},useRef:function(i){var l=An();return i={current:i},l.memoizedState=i},useState:Cw,useDebugValue:Ip,useDeferredValue:function(i){return An().memoizedState=i},useTransition:function(){var i=Cw(!1),l=i[0];return i=jI.bind(null,i[1]),An().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var g=Pt,x=An();if(jt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Kt===null)throw Error(r(349));(oi&30)!==0||Ow(g,l,d)}x.memoizedState=d;var N={value:d,getSnapshot:l};return x.queue=N,Iw(Aw.bind(null,g,N,i),[i]),g.flags|=2048,Us(9,_w.bind(null,g,N,d,l),void 0,null),d},useId:function(){var i=An(),l=Kt.identifierPrefix;if(jt){var d=Kn,g=Hn;d=(g&~(1<<32-ln(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Bs++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=wI++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},OI={readContext:Vr,useCallback:Lw,useContext:Vr,useEffect:Tp,useImperativeHandle:Rw,useInsertionEffect:Mw,useLayoutEffect:Dw,useMemo:Fw,useReducer:Ep,useRef:Tw,useState:function(){return Ep(zs)},useDebugValue:Ip,useDeferredValue:function(i){var l=Gr();return qw(l,Ft.memoizedState,i)},useTransition:function(){var i=Ep(zs)[0],l=Gr().memoizedState;return[i,l]},useMutableSource:Sw,useSyncExternalStore:Pw,useId:Bw,unstable_isNewReconciler:!1},_I={readContext:Vr,useCallback:Lw,useContext:Vr,useEffect:Tp,useImperativeHandle:Rw,useInsertionEffect:Mw,useLayoutEffect:Dw,useMemo:Fw,useReducer:Cp,useRef:Tw,useState:function(){return Cp(zs)},useDebugValue:Ip,useDeferredValue:function(i){var l=Gr();return Ft===null?l.memoizedState=i:qw(l,Ft.memoizedState,i)},useTransition:function(){var i=Cp(zs)[0],l=Gr().memoizedState;return[i,l]},useMutableSource:Sw,useSyncExternalStore:Pw,useId:Bw,unstable_isNewReconciler:!1};function dn(i,l){if(i&&i.defaultProps){l=$({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Mp(i,l,d,g){l=i.memoizedState,d=d(g,l),d=d==null?l:$({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Zc={isMounted:function(i){return(i=i._reactInternals)?Za(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var g=yr(),x=Ta(i),N=Gn(g,x);N.payload=l,d!=null&&(N.callback=d),l=Aa(i,N,x),l!==null&&(mn(l,i,x,g),Hc(l,i,x))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var g=yr(),x=Ta(i),N=Gn(g,x);N.tag=1,N.payload=l,d!=null&&(N.callback=d),l=Aa(i,N,x),l!==null&&(mn(l,i,x,g),Hc(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=yr(),g=Ta(i),x=Gn(d,g);x.tag=2,l!=null&&(x.callback=l),l=Aa(i,x,g),l!==null&&(mn(l,i,g,d),Hc(l,i,g))}};function Hw(i,l,d,g,x,N,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,N,I):l.prototype&&l.prototype.isPureReactComponent?!ks(d,g)||!ks(x,N):!0}function Kw(i,l,d){var g=!1,x=Pa,N=l.contextType;return typeof N=="object"&&N!==null?N=Vr(N):(x=Sr(l)?ti:sr.current,g=l.contextTypes,N=(g=g!=null)?Yi(i,x):Pa),l=new l(d,N),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Zc,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=N),l}function Vw(i,l,d,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==i&&Zc.enqueueReplaceState(l,l.state,null)}function Dp(i,l,d,g){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},wp(i);var N=l.contextType;typeof N=="object"&&N!==null?x.context=Vr(N):(N=Sr(l)?ti:sr.current,x.context=Yi(i,N)),x.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Mp(i,l,N,d),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Zc.enqueueReplaceState(x,x.state,null),Kc(i,d,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function ao(i,l){try{var d="",g=l;do d+=le(g),g=g.return;while(g);var x=d}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:l,stack:x,digest:null}}function $p(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Rp(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var AI=typeof WeakMap=="function"?WeakMap:Map;function Gw(i,l,d){d=Gn(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){ou||(ou=!0,Jp=g),Rp(i,l)},d}function Xw(i,l,d){d=Gn(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;d.payload=function(){return g(x)},d.callback=function(){Rp(i,l)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(d.callback=function(){Rp(i,l),typeof g!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),d}function Yw(i,l,d){var g=i.pingCache;if(g===null){g=i.pingCache=new AI;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(d)||(x.add(d),i=zI.bind(null,i,l,d),l.then(i,i))}function Qw(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Jw(i,l,d,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Gn(-1,1),l.tag=2,Aa(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var kI=k.ReactCurrentOwner,Pr=!1;function gr(i,l,d,g){l.child=i===null?vw(l,null,d,g):eo(l,i.child,d,g)}function Zw(i,l,d,g,x){d=d.render;var N=l.ref;return ro(l,x),g=Ap(i,l,d,g,N,x),d=kp(),i!==null&&!Pr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Xn(i,l,x)):(jt&&d&&dp(l),l.flags|=1,gr(i,l,g,x),l.child)}function e1(i,l,d,g,x){if(i===null){var N=d.type;return typeof N=="function"&&!im(N)&&N.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=N,t1(i,l,N,g,x)):(i=fu(d.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,(i.lanes&x)===0){var I=N.memoizedProps;if(d=d.compare,d=d!==null?d:ks,d(I,g)&&i.ref===l.ref)return Xn(i,l,x)}return l.flags|=1,i=Ma(N,g),i.ref=l.ref,i.return=l,l.child=i}function t1(i,l,d,g,x){if(i!==null){var N=i.memoizedProps;if(ks(N,g)&&i.ref===l.ref)if(Pr=!1,l.pendingProps=g=N,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Pr=!0);else return l.lanes=i.lanes,Xn(i,l,x)}return Lp(i,l,d,g,x)}function r1(i,l,d){var g=l.pendingProps,x=g.children,N=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(oo,Lr),Lr|=d;else{if((d&1073741824)===0)return i=N!==null?N.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,mt(oo,Lr),Lr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:d,mt(oo,Lr),Lr|=g}else N!==null?(g=N.baseLanes|d,l.memoizedState=null):g=d,mt(oo,Lr),Lr|=g;return gr(i,l,x,d),l.child}function n1(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Lp(i,l,d,g,x){var N=Sr(d)?ti:sr.current;return N=Yi(l,N),ro(l,x),d=Ap(i,l,d,g,N,x),g=kp(),i!==null&&!Pr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Xn(i,l,x)):(jt&&g&&dp(l),l.flags|=1,gr(i,l,d,x),l.child)}function a1(i,l,d,g,x){if(Sr(d)){var N=!0;Rc(l)}else N=!1;if(ro(l,x),l.stateNode===null)tu(i,l),Kw(l,d,g),Dp(l,d,g,x),g=!0;else if(i===null){var I=l.stateNode,W=l.memoizedProps;I.props=W;var J=I.context,ue=d.contextType;typeof ue=="object"&&ue!==null?ue=Vr(ue):(ue=Sr(d)?ti:sr.current,ue=Yi(l,ue));var ye=d.getDerivedStateFromProps,be=typeof ye=="function"||typeof I.getSnapshotBeforeUpdate=="function";be||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==g||J!==ue)&&Vw(l,I,g,ue),_a=!1;var ge=l.memoizedState;I.state=ge,Kc(l,g,I,x),J=l.memoizedState,W!==g||ge!==J||Nr.current||_a?(typeof ye=="function"&&(Mp(l,d,ye,g),J=l.memoizedState),(W=_a||Hw(l,d,W,g,ge,J,ue))?(be||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=J),I.props=g,I.state=J,I.context=ue,g=W):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{I=l.stateNode,bw(i,l),W=l.memoizedProps,ue=l.type===l.elementType?W:dn(l.type,W),I.props=ue,be=l.pendingProps,ge=I.context,J=d.contextType,typeof J=="object"&&J!==null?J=Vr(J):(J=Sr(d)?ti:sr.current,J=Yi(l,J));var Ae=d.getDerivedStateFromProps;(ye=typeof Ae=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==be||ge!==J)&&Vw(l,I,g,J),_a=!1,ge=l.memoizedState,I.state=ge,Kc(l,g,I,x);var Ce=l.memoizedState;W!==be||ge!==Ce||Nr.current||_a?(typeof Ae=="function"&&(Mp(l,d,Ae,g),Ce=l.memoizedState),(ue=_a||Hw(l,d,ue,g,ge,Ce,J)||!1)?(ye||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,Ce,J),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,Ce,J)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ce),I.props=g,I.state=Ce,I.context=J,g=ue):(typeof I.componentDidUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===i.memoizedProps&&ge===i.memoizedState||(l.flags|=1024),g=!1)}return Fp(i,l,d,g,N,x)}function Fp(i,l,d,g,x,N){n1(i,l);var I=(l.flags&128)!==0;if(!g&&!I)return x&&cw(l,d,!1),Xn(i,l,N);g=l.stateNode,kI.current=l;var W=I&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&I?(l.child=eo(l,i.child,null,N),l.child=eo(l,null,W,N)):gr(i,l,W,N),l.memoizedState=g.state,x&&cw(l,d,!0),l.child}function i1(i){var l=i.stateNode;l.pendingContext?sw(i,l.pendingContext,l.pendingContext!==l.context):l.context&&sw(i,l.context,!1),jp(i,l.containerInfo)}function o1(i,l,d,g,x){return Zi(),hp(x),l.flags|=256,gr(i,l,d,g),l.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function s1(i,l,d){var g=l.pendingProps,x=St.current,N=!1,I=(l.flags&128)!==0,W;if((W=I)||(W=i!==null&&i.memoizedState===null?!1:(x&2)!==0),W?(N=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),mt(St,x&1),i===null)return mp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=g.children,i=g.fallback,N?(g=l.mode,N=l.child,I={mode:"hidden",children:I},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=I):N=pu(I,g,0,null),i=di(i,g,d,null),N.return=l,i.return=l,N.sibling=i,l.child=N,l.child.memoizedState=Bp(d),l.memoizedState=qp,i):zp(l,I));if(x=i.memoizedState,x!==null&&(W=x.dehydrated,W!==null))return EI(i,l,I,g,W,x,d);if(N){N=g.fallback,I=l.mode,x=i.child,W=x.sibling;var J={mode:"hidden",children:g.children};return(I&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=J,l.deletions=null):(g=Ma(x,J),g.subtreeFlags=x.subtreeFlags&14680064),W!==null?N=Ma(W,N):(N=di(N,I,d,null),N.flags|=2),N.return=l,g.return=l,g.sibling=N,l.child=g,g=N,N=l.child,I=i.child.memoizedState,I=I===null?Bp(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},N.memoizedState=I,N.childLanes=i.childLanes&~d,l.memoizedState=qp,g}return N=i.child,i=N.sibling,g=Ma(N,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=g,l.memoizedState=null,g}function zp(i,l){return l=pu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function eu(i,l,d,g){return g!==null&&hp(g),eo(l,i.child,null,d),i=zp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function EI(i,l,d,g,x,N,I){if(d)return l.flags&256?(l.flags&=-257,g=$p(Error(r(422))),eu(i,l,I,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(N=g.fallback,x=l.mode,g=pu({mode:"visible",children:g.children},x,0,null),N=di(N,x,I,null),N.flags|=2,g.return=l,N.return=l,g.sibling=N,l.child=g,(l.mode&1)!==0&&eo(l,i.child,null,I),l.child.memoizedState=Bp(I),l.memoizedState=qp,N);if((l.mode&1)===0)return eu(i,l,I,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var W=g.dgst;return g=W,N=Error(r(419)),g=$p(N,g,void 0),eu(i,l,I,g)}if(W=(I&i.childLanes)!==0,Pr||W){if(g=Kt,g!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|I))!==0?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,Vn(i,x),mn(g,i,x,-1))}return am(),g=$p(Error(r(421))),eu(i,l,I,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=UI.bind(null,i),x._reactRetry=l,null):(i=N.treeContext,Rr=Na(x.nextSibling),$r=l,jt=!0,un=null,i!==null&&(Hr[Kr++]=Hn,Hr[Kr++]=Kn,Hr[Kr++]=ri,Hn=i.id,Kn=i.overflow,ri=l),l=zp(l,g.children),l.flags|=4096,l)}function l1(i,l,d){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),xp(i.return,l,d)}function Up(i,l,d,g,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=d,N.tailMode=x)}function c1(i,l,d){var g=l.pendingProps,x=g.revealOrder,N=g.tail;if(gr(i,l,g.children,d),g=St.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&l1(i,d,l);else if(i.tag===19)l1(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(mt(St,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)i=d.alternate,i!==null&&Vc(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Up(l,!1,x,d,N);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&Vc(i)===null){l.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}Up(l,!0,d,null,N);break;case"together":Up(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function tu(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Xn(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),si|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Ma(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Ma(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function CI(i,l,d){switch(l.tag){case 3:i1(l),Zi();break;case 5:Nw(l);break;case 1:Sr(l.type)&&Rc(l);break;case 4:jp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;mt(Uc,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(mt(St,St.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?s1(i,l,d):(mt(St,St.current&1),i=Xn(i,l,d),i!==null?i.sibling:null);mt(St,St.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(i.flags&128)!==0){if(g)return c1(i,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),mt(St,St.current),g)break;return null;case 22:case 23:return l.lanes=0,r1(i,l,d)}return Xn(i,l,d)}var u1,Wp,d1,f1;u1=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Wp=function(){},d1=function(i,l,d,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,ii(_n.current);var N=null;switch(d){case"input":x=Ie(i,x),g=Ie(i,g),N=[];break;case"select":x=$({},x,{value:void 0}),g=$({},g,{value:void 0}),N=[];break;case"textarea":x=je(i,x),g=je(i,g),N=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Mc)}zn(d,g);var I;d=null;for(ue in x)if(!g.hasOwnProperty(ue)&&x.hasOwnProperty(ue)&&x[ue]!=null)if(ue==="style"){var W=x[ue];for(I in W)W.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(a.hasOwnProperty(ue)?N||(N=[]):(N=N||[]).push(ue,null));for(ue in g){var J=g[ue];if(W=x!=null?x[ue]:void 0,g.hasOwnProperty(ue)&&J!==W&&(J!=null||W!=null))if(ue==="style")if(W){for(I in W)!W.hasOwnProperty(I)||J&&J.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in J)J.hasOwnProperty(I)&&W[I]!==J[I]&&(d||(d={}),d[I]=J[I])}else d||(N||(N=[]),N.push(ue,d)),d=J;else ue==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,W=W?W.__html:void 0,J!=null&&W!==J&&(N=N||[]).push(ue,J)):ue==="children"?typeof J!="string"&&typeof J!="number"||(N=N||[]).push(ue,""+J):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(a.hasOwnProperty(ue)?(J!=null&&ue==="onScroll"&&vt("scroll",i),N||W===J||(N=[])):(N=N||[]).push(ue,J))}d&&(N=N||[]).push("style",d);var ue=N;(l.updateQueue=ue)&&(l.flags|=4)}},f1=function(i,l,d,g){d!==g&&(l.flags|=4)};function Ws(i,l){if(!jt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function cr(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(l)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=d,l}function TI(i,l,d){var g=l.pendingProps;switch(fp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(l),null;case 1:return Sr(l.type)&&$c(),cr(l),null;case 3:return g=l.stateNode,no(),xt(Nr),xt(sr),Pp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Bc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,un!==null&&(tm(un),un=null))),Wp(i,l),cr(l),null;case 5:Np(l);var x=ii(Fs.current);if(d=l.type,i!==null&&l.stateNode!=null)d1(i,l,d,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return cr(l),null}if(i=ii(_n.current),Bc(l)){g=l.stateNode,d=l.type;var N=l.memoizedProps;switch(g[On]=l,g[Ms]=N,i=(l.mode&1)!==0,d){case"dialog":vt("cancel",g),vt("close",g);break;case"iframe":case"object":case"embed":vt("load",g);break;case"video":case"audio":for(x=0;x<Cs.length;x++)vt(Cs[x],g);break;case"source":vt("error",g);break;case"img":case"image":case"link":vt("error",g),vt("load",g);break;case"details":vt("toggle",g);break;case"input":Je(g,N),vt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},vt("invalid",g);break;case"textarea":Fe(g,N),vt("invalid",g)}zn(d,N),x=null;for(var I in N)if(N.hasOwnProperty(I)){var W=N[I];I==="children"?typeof W=="string"?g.textContent!==W&&(N.suppressHydrationWarning!==!0&&Ic(g.textContent,W,i),x=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(N.suppressHydrationWarning!==!0&&Ic(g.textContent,W,i),x=["children",""+W]):a.hasOwnProperty(I)&&W!=null&&I==="onScroll"&&vt("scroll",g)}switch(d){case"input":me(g),we(g,N,!0);break;case"textarea":me(g),pt(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=Mc)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Jt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=I.createElement(d,{is:g.is}):(i=I.createElement(d),d==="select"&&(I=i,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):i=I.createElementNS(i,d),i[On]=l,i[Ms]=g,u1(i,l,!1,!1),l.stateNode=i;e:{switch(I=pe(d,g),d){case"dialog":vt("cancel",i),vt("close",i),x=g;break;case"iframe":case"object":case"embed":vt("load",i),x=g;break;case"video":case"audio":for(x=0;x<Cs.length;x++)vt(Cs[x],i);x=g;break;case"source":vt("error",i),x=g;break;case"img":case"image":case"link":vt("error",i),vt("load",i),x=g;break;case"details":vt("toggle",i),x=g;break;case"input":Je(i,g),x=Ie(i,g),vt("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=$({},g,{value:void 0}),vt("invalid",i);break;case"textarea":Fe(i,g),x=je(i,g),vt("invalid",i);break;default:x=g}zn(d,x),W=x;for(N in W)if(W.hasOwnProperty(N)){var J=W[N];N==="style"?Fi(i,J):N==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&er(i,J)):N==="children"?typeof J=="string"?(d!=="textarea"||J!=="")&&Lt(i,J):typeof J=="number"&&Lt(i,""+J):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?J!=null&&N==="onScroll"&&vt("scroll",i):J!=null&&A(i,N,J,I))}switch(d){case"input":me(i),we(i,g,!1);break;case"textarea":me(i),pt(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Pe(g.value));break;case"select":i.multiple=!!g.multiple,N=g.value,N!=null?ve(i,!!g.multiple,N,!1):g.defaultValue!=null&&ve(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Mc)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return cr(l),null;case 6:if(i&&l.stateNode!=null)f1(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=ii(Fs.current),ii(_n.current),Bc(l)){if(g=l.stateNode,d=l.memoizedProps,g[On]=l,(N=g.nodeValue!==d)&&(i=$r,i!==null))switch(i.tag){case 3:Ic(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ic(g.nodeValue,d,(i.mode&1)!==0)}N&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[On]=l,l.stateNode=g}return cr(l),null;case 13:if(xt(St),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(jt&&Rr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)hw(),Zi(),l.flags|=98560,N=!1;else if(N=Bc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=l.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[On]=l}else Zi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cr(l),N=!1}else un!==null&&(tm(un),un=null),N=!0;if(!N)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(St.current&1)!==0?qt===0&&(qt=3):am())),l.updateQueue!==null&&(l.flags|=4),cr(l),null);case 4:return no(),Wp(i,l),i===null&&Ts(l.stateNode.containerInfo),cr(l),null;case 10:return vp(l.type._context),cr(l),null;case 17:return Sr(l.type)&&$c(),cr(l),null;case 19:if(xt(St),N=l.memoizedState,N===null)return cr(l),null;if(g=(l.flags&128)!==0,I=N.rendering,I===null)if(g)Ws(N,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(I=Vc(i),I!==null){for(l.flags|=128,Ws(N,!1),g=I.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)N=d,i=g,N.flags&=14680066,I=N.alternate,I===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=I.childLanes,N.lanes=I.lanes,N.child=I.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=I.memoizedProps,N.memoizedState=I.memoizedState,N.updateQueue=I.updateQueue,N.type=I.type,i=I.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return mt(St,St.current&1|2),l.child}i=i.sibling}N.tail!==null&&Ct()>so&&(l.flags|=128,g=!0,Ws(N,!1),l.lanes=4194304)}else{if(!g)if(i=Vc(I),i!==null){if(l.flags|=128,g=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Ws(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!jt)return cr(l),null}else 2*Ct()-N.renderingStartTime>so&&d!==1073741824&&(l.flags|=128,g=!0,Ws(N,!1),l.lanes=4194304);N.isBackwards?(I.sibling=l.child,l.child=I):(d=N.last,d!==null?d.sibling=I:l.child=I,N.last=I)}return N.tail!==null?(l=N.tail,N.rendering=l,N.tail=l.sibling,N.renderingStartTime=Ct(),l.sibling=null,d=St.current,mt(St,g?d&1|2:d&1),l):(cr(l),null);case 22:case 23:return nm(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Lr&1073741824)!==0&&(cr(l),l.subtreeFlags&6&&(l.flags|=8192)):cr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function II(i,l){switch(fp(l),l.tag){case 1:return Sr(l.type)&&$c(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return no(),xt(Nr),xt(sr),Pp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Np(l),null;case 13:if(xt(St),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Zi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return xt(St),null;case 4:return no(),null;case 10:return vp(l.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var ru=!1,ur=!1,MI=typeof WeakSet=="function"?WeakSet:Set,ke=null;function io(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){_t(i,l,g)}else d.current=null}function Hp(i,l,d){try{d()}catch(g){_t(i,l,g)}}var p1=!1;function DI(i,l){if(np=jc,i=H0(),Xf(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var I=0,W=-1,J=-1,ue=0,ye=0,be=i,ge=null;t:for(;;){for(var Ae;be!==d||x!==0&&be.nodeType!==3||(W=I+x),be!==N||g!==0&&be.nodeType!==3||(J=I+g),be.nodeType===3&&(I+=be.nodeValue.length),(Ae=be.firstChild)!==null;)ge=be,be=Ae;for(;;){if(be===i)break t;if(ge===d&&++ue===x&&(W=I),ge===N&&++ye===g&&(J=I),(Ae=be.nextSibling)!==null)break;be=ge,ge=be.parentNode}be=Ae}d=W===-1||J===-1?null:{start:W,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(ap={focusedElem:i,selectionRange:d},jc=!1,ke=l;ke!==null;)if(l=ke,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ke=i;else for(;ke!==null;){l=ke;try{var Ce=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Me=Ce.memoizedProps,Tt=Ce.memoizedState,ie=l.stateNode,ee=ie.getSnapshotBeforeUpdate(l.elementType===l.type?Me:dn(l.type,Me),Tt);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){_t(l,l.return,Se)}if(i=l.sibling,i!==null){i.return=l.return,ke=i;break}ke=l.return}return Ce=p1,p1=!1,Ce}function Hs(i,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var N=x.destroy;x.destroy=void 0,N!==void 0&&Hp(l,d,N)}x=x.next}while(x!==g)}}function nu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Kp(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function m1(i){var l=i.alternate;l!==null&&(i.alternate=null,m1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[On],delete l[Ms],delete l[lp],delete l[yI],delete l[vI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function h1(i){return i.tag===5||i.tag===3||i.tag===4}function g1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||h1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mc));else if(g!==4&&(i=i.child,i!==null))for(Vp(i,l,d),i=i.sibling;i!==null;)Vp(i,l,d),i=i.sibling}function Gp(i,l,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Gp(i,l,d),i=i.sibling;i!==null;)Gp(i,l,d),i=i.sibling}var rr=null,fn=!1;function ka(i,l,d){for(d=d.child;d!==null;)y1(i,l,d),d=d.sibling}function y1(i,l,d){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(gc,d)}catch{}switch(d.tag){case 5:ur||io(d,l);case 6:var g=rr,x=fn;rr=null,ka(i,l,d),rr=g,fn=x,rr!==null&&(fn?(i=rr,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):rr.removeChild(d.stateNode));break;case 18:rr!==null&&(fn?(i=rr,d=d.stateNode,i.nodeType===8?sp(i.parentNode,d):i.nodeType===1&&sp(i,d),Ns(i)):sp(rr,d.stateNode));break;case 4:g=rr,x=fn,rr=d.stateNode.containerInfo,fn=!0,ka(i,l,d),rr=g,fn=x;break;case 0:case 11:case 14:case 15:if(!ur&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var N=x,I=N.destroy;N=N.tag,I!==void 0&&((N&2)!==0||(N&4)!==0)&&Hp(d,l,I),x=x.next}while(x!==g)}ka(i,l,d);break;case 1:if(!ur&&(io(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(W){_t(d,l,W)}ka(i,l,d);break;case 21:ka(i,l,d);break;case 22:d.mode&1?(ur=(g=ur)||d.memoizedState!==null,ka(i,l,d),ur=g):ka(i,l,d);break;default:ka(i,l,d)}}function v1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new MI),l.forEach(function(g){var x=WI.bind(null,i,g);d.has(g)||(d.add(g),g.then(x,x))})}}function pn(i,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var N=i,I=l,W=I;e:for(;W!==null;){switch(W.tag){case 5:rr=W.stateNode,fn=!1;break e;case 3:rr=W.stateNode.containerInfo,fn=!0;break e;case 4:rr=W.stateNode.containerInfo,fn=!0;break e}W=W.return}if(rr===null)throw Error(r(160));y1(N,I,x),rr=null,fn=!1;var J=x.alternate;J!==null&&(J.return=null),x.return=null}catch(ue){_t(x,l,ue)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)x1(l,i),l=l.sibling}function x1(i,l){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(pn(l,i),kn(i),g&4){try{Hs(3,i,i.return),nu(3,i)}catch(Me){_t(i,i.return,Me)}try{Hs(5,i,i.return)}catch(Me){_t(i,i.return,Me)}}break;case 1:pn(l,i),kn(i),g&512&&d!==null&&io(d,d.return);break;case 5:if(pn(l,i),kn(i),g&512&&d!==null&&io(d,d.return),i.flags&32){var x=i.stateNode;try{Lt(x,"")}catch(Me){_t(i,i.return,Me)}}if(g&4&&(x=i.stateNode,x!=null)){var N=i.memoizedProps,I=d!==null?d.memoizedProps:N,W=i.type,J=i.updateQueue;if(i.updateQueue=null,J!==null)try{W==="input"&&N.type==="radio"&&N.name!=null&&tt(x,N),pe(W,I);var ue=pe(W,N);for(I=0;I<J.length;I+=2){var ye=J[I],be=J[I+1];ye==="style"?Fi(x,be):ye==="dangerouslySetInnerHTML"?er(x,be):ye==="children"?Lt(x,be):A(x,ye,be,ue)}switch(W){case"input":ae(x,N);break;case"textarea":Ve(x,N);break;case"select":var ge=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var Ae=N.value;Ae!=null?ve(x,!!N.multiple,Ae,!1):ge!==!!N.multiple&&(N.defaultValue!=null?ve(x,!!N.multiple,N.defaultValue,!0):ve(x,!!N.multiple,N.multiple?[]:"",!1))}x[Ms]=N}catch(Me){_t(i,i.return,Me)}}break;case 6:if(pn(l,i),kn(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,N=i.memoizedProps;try{x.nodeValue=N}catch(Me){_t(i,i.return,Me)}}break;case 3:if(pn(l,i),kn(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ns(l.containerInfo)}catch(Me){_t(i,i.return,Me)}break;case 4:pn(l,i),kn(i);break;case 13:pn(l,i),kn(i),x=i.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||(Qp=Ct())),g&4&&v1(i);break;case 22:if(ye=d!==null&&d.memoizedState!==null,i.mode&1?(ur=(ue=ur)||ye,pn(l,i),ur=ue):pn(l,i),kn(i),g&8192){if(ue=i.memoizedState!==null,(i.stateNode.isHidden=ue)&&!ye&&(i.mode&1)!==0)for(ke=i,ye=i.child;ye!==null;){for(be=ke=ye;ke!==null;){switch(ge=ke,Ae=ge.child,ge.tag){case 0:case 11:case 14:case 15:Hs(4,ge,ge.return);break;case 1:io(ge,ge.return);var Ce=ge.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=ge,d=ge.return;try{l=g,Ce.props=l.memoizedProps,Ce.state=l.memoizedState,Ce.componentWillUnmount()}catch(Me){_t(g,d,Me)}}break;case 5:io(ge,ge.return);break;case 22:if(ge.memoizedState!==null){j1(be);continue}}Ae!==null?(Ae.return=ge,ke=Ae):j1(be)}ye=ye.sibling}e:for(ye=null,be=i;;){if(be.tag===5){if(ye===null){ye=be;try{x=be.stateNode,ue?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(W=be.stateNode,J=be.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null,W.style.display=Li("display",I))}catch(Me){_t(i,i.return,Me)}}}else if(be.tag===6){if(ye===null)try{be.stateNode.nodeValue=ue?"":be.memoizedProps}catch(Me){_t(i,i.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===i)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===i)break e;for(;be.sibling===null;){if(be.return===null||be.return===i)break e;ye===be&&(ye=null),be=be.return}ye===be&&(ye=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:pn(l,i),kn(i),g&4&&v1(i);break;case 21:break;default:pn(l,i),kn(i)}}function kn(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(h1(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(Lt(x,""),g.flags&=-33);var N=g1(i);Gp(i,N,x);break;case 3:case 4:var I=g.stateNode.containerInfo,W=g1(i);Vp(i,W,I);break;default:throw Error(r(161))}}catch(J){_t(i,i.return,J)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function $I(i,l,d){ke=i,b1(i)}function b1(i,l,d){for(var g=(i.mode&1)!==0;ke!==null;){var x=ke,N=x.child;if(x.tag===22&&g){var I=x.memoizedState!==null||ru;if(!I){var W=x.alternate,J=W!==null&&W.memoizedState!==null||ur;W=ru;var ue=ur;if(ru=I,(ur=J)&&!ue)for(ke=x;ke!==null;)I=ke,J=I.child,I.tag===22&&I.memoizedState!==null?N1(x):J!==null?(J.return=I,ke=J):N1(x);for(;N!==null;)ke=N,b1(N),N=N.sibling;ke=x,ru=W,ur=ue}w1(i)}else(x.subtreeFlags&8772)!==0&&N!==null?(N.return=x,ke=N):w1(i)}}function w1(i){for(;ke!==null;){var l=ke;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ur||nu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!ur)if(d===null)g.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:dn(l.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=l.updateQueue;N!==null&&jw(l,N,g);break;case 3:var I=l.updateQueue;if(I!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}jw(l,I,d)}break;case 5:var W=l.stateNode;if(d===null&&l.flags&4){d=W;var J=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&d.focus();break;case"img":J.src&&(d.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ue=l.alternate;if(ue!==null){var ye=ue.memoizedState;if(ye!==null){var be=ye.dehydrated;be!==null&&Ns(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ur||l.flags&512&&Kp(l)}catch(ge){_t(l,l.return,ge)}}if(l===i){ke=null;break}if(d=l.sibling,d!==null){d.return=l.return,ke=d;break}ke=l.return}}function j1(i){for(;ke!==null;){var l=ke;if(l===i){ke=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ke=d;break}ke=l.return}}function N1(i){for(;ke!==null;){var l=ke;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{nu(4,l)}catch(J){_t(l,d,J)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(J){_t(l,x,J)}}var N=l.return;try{Kp(l)}catch(J){_t(l,N,J)}break;case 5:var I=l.return;try{Kp(l)}catch(J){_t(l,I,J)}}}catch(J){_t(l,l.return,J)}if(l===i){ke=null;break}var W=l.sibling;if(W!==null){W.return=l.return,ke=W;break}ke=l.return}}var RI=Math.ceil,au=k.ReactCurrentDispatcher,Xp=k.ReactCurrentOwner,Xr=k.ReactCurrentBatchConfig,nt=0,Kt=null,Mt=null,nr=0,Lr=0,oo=Sa(0),qt=0,Ks=null,si=0,iu=0,Yp=0,Vs=null,Or=null,Qp=0,so=1/0,Yn=null,ou=!1,Jp=null,Ea=null,su=!1,Ca=null,lu=0,Gs=0,Zp=null,cu=-1,uu=0;function yr(){return(nt&6)!==0?Ct():cu!==-1?cu:cu=Ct()}function Ta(i){return(i.mode&1)===0?1:(nt&2)!==0&&nr!==0?nr&-nr:bI.transition!==null?(uu===0&&(uu=g0()),uu):(i=ut,i!==0||(i=window.event,i=i===void 0?16:P0(i.type)),i)}function mn(i,l,d,g){if(50<Gs)throw Gs=0,Zp=null,Error(r(185));vs(i,d,g),((nt&2)===0||i!==Kt)&&(i===Kt&&((nt&2)===0&&(iu|=d),qt===4&&Ia(i,nr)),_r(i,g),d===1&&nt===0&&(l.mode&1)===0&&(so=Ct()+500,Lc&&Oa()))}function _r(i,l){var d=i.callbackNode;bT(i,l);var g=xc(i,i===Kt?nr:0);if(g===0)d!==null&&p0(d),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(d!=null&&p0(d),l===1)i.tag===0?xI(P1.bind(null,i)):uw(P1.bind(null,i)),hI(function(){(nt&6)===0&&Oa()}),d=null;else{switch(y0(g)){case 1:d=Tf;break;case 4:d=m0;break;case 16:d=hc;break;case 536870912:d=h0;break;default:d=hc}d=I1(d,S1.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function S1(i,l){if(cu=-1,uu=0,(nt&6)!==0)throw Error(r(327));var d=i.callbackNode;if(lo()&&i.callbackNode!==d)return null;var g=xc(i,i===Kt?nr:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=du(i,g);else{l=g;var x=nt;nt|=2;var N=_1();(Kt!==i||nr!==l)&&(Yn=null,so=Ct()+500,ci(i,l));do try{qI();break}catch(W){O1(i,W)}while(!0);yp(),au.current=N,nt=x,Mt!==null?l=0:(Kt=null,nr=0,l=qt)}if(l!==0){if(l===2&&(x=If(i),x!==0&&(g=x,l=em(i,x))),l===1)throw d=Ks,ci(i,0),Ia(i,g),_r(i,Ct()),d;if(l===6)Ia(i,g);else{if(x=i.current.alternate,(g&30)===0&&!LI(x)&&(l=du(i,g),l===2&&(N=If(i),N!==0&&(g=N,l=em(i,N))),l===1))throw d=Ks,ci(i,0),Ia(i,g),_r(i,Ct()),d;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:ui(i,Or,Yn);break;case 3:if(Ia(i,g),(g&130023424)===g&&(l=Qp+500-Ct(),10<l)){if(xc(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){yr(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=op(ui.bind(null,i,Or,Yn),l);break}ui(i,Or,Yn);break;case 4:if(Ia(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var I=31-ln(g);N=1<<I,I=l[I],I>x&&(x=I),g&=~N}if(g=x,g=Ct()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RI(g/1960))-g,10<g){i.timeoutHandle=op(ui.bind(null,i,Or,Yn),g);break}ui(i,Or,Yn);break;case 5:ui(i,Or,Yn);break;default:throw Error(r(329))}}}return _r(i,Ct()),i.callbackNode===d?S1.bind(null,i):null}function em(i,l){var d=Vs;return i.current.memoizedState.isDehydrated&&(ci(i,l).flags|=256),i=du(i,l),i!==2&&(l=Or,Or=d,l!==null&&tm(l)),i}function tm(i){Or===null?Or=i:Or.push.apply(Or,i)}function LI(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],N=x.getSnapshot;x=x.value;try{if(!cn(N(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ia(i,l){for(l&=~Yp,l&=~iu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-ln(l),g=1<<d;i[d]=-1,l&=~g}}function P1(i){if((nt&6)!==0)throw Error(r(327));lo();var l=xc(i,0);if((l&1)===0)return _r(i,Ct()),null;var d=du(i,l);if(i.tag!==0&&d===2){var g=If(i);g!==0&&(l=g,d=em(i,g))}if(d===1)throw d=Ks,ci(i,0),Ia(i,l),_r(i,Ct()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ui(i,Or,Yn),_r(i,Ct()),null}function rm(i,l){var d=nt;nt|=1;try{return i(l)}finally{nt=d,nt===0&&(so=Ct()+500,Lc&&Oa())}}function li(i){Ca!==null&&Ca.tag===0&&(nt&6)===0&&lo();var l=nt;nt|=1;var d=Xr.transition,g=ut;try{if(Xr.transition=null,ut=1,i)return i()}finally{ut=g,Xr.transition=d,nt=l,(nt&6)===0&&Oa()}}function nm(){Lr=oo.current,xt(oo)}function ci(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,mI(d)),Mt!==null)for(d=Mt.return;d!==null;){var g=d;switch(fp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&$c();break;case 3:no(),xt(Nr),xt(sr),Pp();break;case 5:Np(g);break;case 4:no();break;case 13:xt(St);break;case 19:xt(St);break;case 10:vp(g.type._context);break;case 22:case 23:nm()}d=d.return}if(Kt=i,Mt=i=Ma(i.current,null),nr=Lr=l,qt=0,Ks=null,Yp=iu=si=0,Or=Vs=null,ai!==null){for(l=0;l<ai.length;l++)if(d=ai[l],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,N=d.pending;if(N!==null){var I=N.next;N.next=x,g.next=I}d.pending=g}ai=null}return i}function O1(i,l){do{var d=Mt;try{if(yp(),Gc.current=Jc,Xc){for(var g=Pt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Xc=!1}if(oi=0,Ht=Ft=Pt=null,qs=!1,Bs=0,Xp.current=null,d===null||d.return===null){qt=1,Ks=l,Mt=null;break}e:{var N=i,I=d.return,W=d,J=l;if(l=nr,W.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ue=J,ye=W,be=ye.tag;if((ye.mode&1)===0&&(be===0||be===11||be===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ae=Qw(I);if(Ae!==null){Ae.flags&=-257,Jw(Ae,I,W,N,l),Ae.mode&1&&Yw(N,ue,l),l=Ae,J=ue;var Ce=l.updateQueue;if(Ce===null){var Me=new Set;Me.add(J),l.updateQueue=Me}else Ce.add(J);break e}else{if((l&1)===0){Yw(N,ue,l),am();break e}J=Error(r(426))}}else if(jt&&W.mode&1){var Tt=Qw(I);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),Jw(Tt,I,W,N,l),hp(ao(J,W));break e}}N=J=ao(J,W),qt!==4&&(qt=2),Vs===null?Vs=[N]:Vs.push(N),N=I;do{switch(N.tag){case 3:N.flags|=65536,l&=-l,N.lanes|=l;var ie=Gw(N,J,l);ww(N,ie);break e;case 1:W=J;var ee=N.type,se=N.stateNode;if((N.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ea===null||!Ea.has(se)))){N.flags|=65536,l&=-l,N.lanes|=l;var Se=Xw(N,W,l);ww(N,Se);break e}}N=N.return}while(N!==null)}k1(d)}catch(Re){l=Re,Mt===d&&d!==null&&(Mt=d=d.return);continue}break}while(!0)}function _1(){var i=au.current;return au.current=Jc,i===null?Jc:i}function am(){(qt===0||qt===3||qt===2)&&(qt=4),Kt===null||(si&268435455)===0&&(iu&268435455)===0||Ia(Kt,nr)}function du(i,l){var d=nt;nt|=2;var g=_1();(Kt!==i||nr!==l)&&(Yn=null,ci(i,l));do try{FI();break}catch(x){O1(i,x)}while(!0);if(yp(),nt=d,au.current=g,Mt!==null)throw Error(r(261));return Kt=null,nr=0,qt}function FI(){for(;Mt!==null;)A1(Mt)}function qI(){for(;Mt!==null&&!dT();)A1(Mt)}function A1(i){var l=T1(i.alternate,i,Lr);i.memoizedProps=i.pendingProps,l===null?k1(i):Mt=l,Xp.current=null}function k1(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=TI(d,l,Lr),d!==null){Mt=d;return}}else{if(d=II(d,l),d!==null){d.flags&=32767,Mt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,Mt=null;return}}if(l=l.sibling,l!==null){Mt=l;return}Mt=l=i}while(l!==null);qt===0&&(qt=5)}function ui(i,l,d){var g=ut,x=Xr.transition;try{Xr.transition=null,ut=1,BI(i,l,d,g)}finally{Xr.transition=x,ut=g}return null}function BI(i,l,d,g){do lo();while(Ca!==null);if((nt&6)!==0)throw Error(r(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var N=d.lanes|d.childLanes;if(wT(i,N),i===Kt&&(Mt=Kt=null,nr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||su||(su=!0,I1(hc,function(){return lo(),null})),N=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||N){N=Xr.transition,Xr.transition=null;var I=ut;ut=1;var W=nt;nt|=4,Xp.current=null,DI(i,d),x1(d,i),sI(ap),jc=!!np,ap=np=null,i.current=d,$I(d),fT(),nt=W,ut=I,Xr.transition=N}else i.current=d;if(su&&(su=!1,Ca=i,lu=x),N=i.pendingLanes,N===0&&(Ea=null),hT(d.stateNode),_r(i,Ct()),l!==null)for(g=i.onRecoverableError,d=0;d<l.length;d++)x=l[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(ou)throw ou=!1,i=Jp,Jp=null,i;return(lu&1)!==0&&i.tag!==0&&lo(),N=i.pendingLanes,(N&1)!==0?i===Zp?Gs++:(Gs=0,Zp=i):Gs=0,Oa(),null}function lo(){if(Ca!==null){var i=y0(lu),l=Xr.transition,d=ut;try{if(Xr.transition=null,ut=16>i?16:i,Ca===null)var g=!1;else{if(i=Ca,Ca=null,lu=0,(nt&6)!==0)throw Error(r(331));var x=nt;for(nt|=4,ke=i.current;ke!==null;){var N=ke,I=N.child;if((ke.flags&16)!==0){var W=N.deletions;if(W!==null){for(var J=0;J<W.length;J++){var ue=W[J];for(ke=ue;ke!==null;){var ye=ke;switch(ye.tag){case 0:case 11:case 15:Hs(8,ye,N)}var be=ye.child;if(be!==null)be.return=ye,ke=be;else for(;ke!==null;){ye=ke;var ge=ye.sibling,Ae=ye.return;if(m1(ye),ye===ue){ke=null;break}if(ge!==null){ge.return=Ae,ke=ge;break}ke=Ae}}}var Ce=N.alternate;if(Ce!==null){var Me=Ce.child;if(Me!==null){Ce.child=null;do{var Tt=Me.sibling;Me.sibling=null,Me=Tt}while(Me!==null)}}ke=N}}if((N.subtreeFlags&2064)!==0&&I!==null)I.return=N,ke=I;else e:for(;ke!==null;){if(N=ke,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Hs(9,N,N.return)}var ie=N.sibling;if(ie!==null){ie.return=N.return,ke=ie;break e}ke=N.return}}var ee=i.current;for(ke=ee;ke!==null;){I=ke;var se=I.child;if((I.subtreeFlags&2064)!==0&&se!==null)se.return=I,ke=se;else e:for(I=ee;ke!==null;){if(W=ke,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:nu(9,W)}}catch(Re){_t(W,W.return,Re)}if(W===I){ke=null;break e}var Se=W.sibling;if(Se!==null){Se.return=W.return,ke=Se;break e}ke=W.return}}if(nt=x,Oa(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(gc,i)}catch{}g=!0}return g}finally{ut=d,Xr.transition=l}}return!1}function E1(i,l,d){l=ao(d,l),l=Gw(i,l,1),i=Aa(i,l,1),l=yr(),i!==null&&(vs(i,1,l),_r(i,l))}function _t(i,l,d){if(i.tag===3)E1(i,i,d);else for(;l!==null;){if(l.tag===3){E1(l,i,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ea===null||!Ea.has(g))){i=ao(d,i),i=Xw(l,i,1),l=Aa(l,i,1),i=yr(),l!==null&&(vs(l,1,i),_r(l,i));break}}l=l.return}}function zI(i,l,d){var g=i.pingCache;g!==null&&g.delete(l),l=yr(),i.pingedLanes|=i.suspendedLanes&d,Kt===i&&(nr&d)===d&&(qt===4||qt===3&&(nr&130023424)===nr&&500>Ct()-Qp?ci(i,0):Yp|=d),_r(i,l)}function C1(i,l){l===0&&((i.mode&1)===0?l=1:(l=vc,vc<<=1,(vc&130023424)===0&&(vc=4194304)));var d=yr();i=Vn(i,l),i!==null&&(vs(i,l,d),_r(i,d))}function UI(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),C1(i,d)}function WI(i,l){var d=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),C1(i,d)}var T1;T1=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||Nr.current)Pr=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return Pr=!1,CI(i,l,d);Pr=(i.flags&131072)!==0}else Pr=!1,jt&&(l.flags&1048576)!==0&&dw(l,qc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;tu(i,l),i=l.pendingProps;var x=Yi(l,sr.current);ro(l,d),x=Ap(null,l,g,i,x,d);var N=kp();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Sr(g)?(N=!0,Rc(l)):N=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,wp(l),x.updater=Zc,l.stateNode=x,x._reactInternals=l,Dp(l,g,i,d),l=Fp(null,l,g,!0,N,d)):(l.tag=0,jt&&N&&dp(l),gr(null,l,x,d),l=l.child),l;case 16:g=l.elementType;e:{switch(tu(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=KI(g),i=dn(g,i),x){case 0:l=Lp(null,l,g,i,d);break e;case 1:l=a1(null,l,g,i,d);break e;case 11:l=Zw(null,l,g,i,d);break e;case 14:l=e1(null,l,g,dn(g.type,i),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:dn(g,x),Lp(i,l,g,x,d);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:dn(g,x),a1(i,l,g,x,d);case 3:e:{if(i1(l),i===null)throw Error(r(387));g=l.pendingProps,N=l.memoizedState,x=N.element,bw(i,l),Kc(l,g,null,d);var I=l.memoizedState;if(g=I.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){x=ao(Error(r(423)),l),l=o1(i,l,g,d,x);break e}else if(g!==x){x=ao(Error(r(424)),l),l=o1(i,l,g,d,x);break e}else for(Rr=Na(l.stateNode.containerInfo.firstChild),$r=l,jt=!0,un=null,d=vw(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zi(),g===x){l=Xn(i,l,d);break e}gr(i,l,g,d)}l=l.child}return l;case 5:return Nw(l),i===null&&mp(l),g=l.type,x=l.pendingProps,N=i!==null?i.memoizedProps:null,I=x.children,ip(g,x)?I=null:N!==null&&ip(g,N)&&(l.flags|=32),n1(i,l),gr(i,l,I,d),l.child;case 6:return i===null&&mp(l),null;case 13:return s1(i,l,d);case 4:return jp(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=eo(l,null,g,d):gr(i,l,g,d),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:dn(g,x),Zw(i,l,g,x,d);case 7:return gr(i,l,l.pendingProps,d),l.child;case 8:return gr(i,l,l.pendingProps.children,d),l.child;case 12:return gr(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,N=l.memoizedProps,I=x.value,mt(Uc,g._currentValue),g._currentValue=I,N!==null)if(cn(N.value,I)){if(N.children===x.children&&!Nr.current){l=Xn(i,l,d);break e}}else for(N=l.child,N!==null&&(N.return=l);N!==null;){var W=N.dependencies;if(W!==null){I=N.child;for(var J=W.firstContext;J!==null;){if(J.context===g){if(N.tag===1){J=Gn(-1,d&-d),J.tag=2;var ue=N.updateQueue;if(ue!==null){ue=ue.shared;var ye=ue.pending;ye===null?J.next=J:(J.next=ye.next,ye.next=J),ue.pending=J}}N.lanes|=d,J=N.alternate,J!==null&&(J.lanes|=d),xp(N.return,d,l),W.lanes|=d;break}J=J.next}}else if(N.tag===10)I=N.type===l.type?null:N.child;else if(N.tag===18){if(I=N.return,I===null)throw Error(r(341));I.lanes|=d,W=I.alternate,W!==null&&(W.lanes|=d),xp(I,d,l),I=N.sibling}else I=N.child;if(I!==null)I.return=N;else for(I=N;I!==null;){if(I===l){I=null;break}if(N=I.sibling,N!==null){N.return=I.return,I=N;break}I=I.return}N=I}gr(i,l,x.children,d),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,ro(l,d),x=Vr(x),g=g(x),l.flags|=1,gr(i,l,g,d),l.child;case 14:return g=l.type,x=dn(g,l.pendingProps),x=dn(g.type,x),e1(i,l,g,x,d);case 15:return t1(i,l,l.type,l.pendingProps,d);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:dn(g,x),tu(i,l),l.tag=1,Sr(g)?(i=!0,Rc(l)):i=!1,ro(l,d),Kw(l,g,x),Dp(l,g,x,d),Fp(null,l,g,!0,i,d);case 19:return c1(i,l,d);case 22:return r1(i,l,d)}throw Error(r(156,l.tag))};function I1(i,l){return f0(i,l)}function HI(i,l,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(i,l,d,g){return new HI(i,l,d,g)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function KI(i){if(typeof i=="function")return im(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===te)return 14}return 2}function Ma(i,l){var d=i.alternate;return d===null?(d=Yr(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function fu(i,l,d,g,x,N){var I=2;if(g=i,typeof i=="function")im(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case C:return di(d.children,x,N,l);case T:I=8,x|=8;break;case q:return i=Yr(12,d,l,x|2),i.elementType=q,i.lanes=N,i;case Y:return i=Yr(13,d,l,x),i.elementType=Y,i.lanes=N,i;case G:return i=Yr(19,d,l,x),i.elementType=G,i.lanes=N,i;case Q:return pu(d,x,N,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:I=10;break e;case F:I=9;break e;case L:I=11;break e;case te:I=14;break e;case U:I=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Yr(I,d,l,x),l.elementType=i,l.type=g,l.lanes=N,l}function di(i,l,d,g){return i=Yr(7,i,g,l),i.lanes=d,i}function pu(i,l,d,g){return i=Yr(22,i,g,l),i.elementType=Q,i.lanes=d,i.stateNode={isHidden:!1},i}function om(i,l,d){return i=Yr(6,i,null,l),i.lanes=d,i}function sm(i,l,d){return l=Yr(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function VI(i,l,d,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function lm(i,l,d,g,x,N,I,W,J){return i=new VI(i,l,d,W,J),l===1?(l=1,N===!0&&(l|=8)):l=0,N=Yr(3,null,null,l),i.current=N,N.stateNode=i,N.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(N),i}function GI(i,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:g==null?null:""+g,children:i,containerInfo:l,implementation:d}}function M1(i){if(!i)return Pa;i=i._reactInternals;e:{if(Za(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Sr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(Sr(d))return lw(i,d,l)}return l}function D1(i,l,d,g,x,N,I,W,J){return i=lm(d,g,!0,i,x,N,I,W,J),i.context=M1(null),d=i.current,g=yr(),x=Ta(d),N=Gn(g,x),N.callback=l??null,Aa(d,N,x),i.current.lanes=x,vs(i,x,g),_r(i,g),i}function mu(i,l,d,g){var x=l.current,N=yr(),I=Ta(x);return d=M1(d),l.context===null?l.context=d:l.pendingContext=d,l=Gn(N,I),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Aa(x,l,I),i!==null&&(mn(i,x,I,N),Hc(i,x,I)),I}function hu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function $1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function cm(i,l){$1(i,l),(i=i.alternate)&&$1(i,l)}function XI(){return null}var R1=typeof reportError=="function"?reportError:function(i){console.error(i)};function um(i){this._internalRoot=i}gu.prototype.render=um.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));mu(i,l,null,null)},gu.prototype.unmount=um.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;li(function(){mu(null,i,null,null)}),l[Un]=null}};function gu(i){this._internalRoot=i}gu.prototype.unstable_scheduleHydration=function(i){if(i){var l=b0();i={blockedOn:null,target:i,priority:l};for(var d=0;d<ba.length&&l!==0&&l<ba[d].priority;d++);ba.splice(d,0,i),d===0&&N0(i)}};function dm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function L1(){}function YI(i,l,d,g,x){if(x){if(typeof g=="function"){var N=g;g=function(){var ue=hu(I);N.call(ue)}}var I=D1(l,g,i,0,null,!1,!1,"",L1);return i._reactRootContainer=I,i[Un]=I.current,Ts(i.nodeType===8?i.parentNode:i),li(),I}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var W=g;g=function(){var ue=hu(J);W.call(ue)}}var J=lm(i,0,!1,null,null,!1,!1,"",L1);return i._reactRootContainer=J,i[Un]=J.current,Ts(i.nodeType===8?i.parentNode:i),li(function(){mu(l,J,d,g)}),J}function vu(i,l,d,g,x){var N=d._reactRootContainer;if(N){var I=N;if(typeof x=="function"){var W=x;x=function(){var J=hu(I);W.call(J)}}mu(l,I,i,x)}else I=YI(d,l,i,x,g);return hu(I)}v0=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=ys(l.pendingLanes);d!==0&&(Df(l,d|1),_r(l,Ct()),(nt&6)===0&&(so=Ct()+500,Oa()))}break;case 13:li(function(){var g=Vn(i,1);if(g!==null){var x=yr();mn(g,i,1,x)}}),cm(i,1)}},$f=function(i){if(i.tag===13){var l=Vn(i,134217728);if(l!==null){var d=yr();mn(l,i,134217728,d)}cm(i,134217728)}},x0=function(i){if(i.tag===13){var l=Ta(i),d=Vn(i,l);if(d!==null){var g=yr();mn(d,i,l,g)}cm(i,l)}},b0=function(){return ut},w0=function(i,l){var d=ut;try{return ut=i,l()}finally{ut=d}},Ge=function(i,l,d){switch(l){case"input":if(ae(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==i&&g.form===i.form){var x=Dc(g);if(!x)throw Error(r(90));ce(g),ae(g,x)}}}break;case"textarea":Ve(i,d);break;case"select":l=d.value,l!=null&&ve(i,!!d.multiple,l,!1)}},et=rm,Et=li;var QI={usingClientEntryPoint:!1,Events:[Ds,Gi,Dc,Le,rt,rm]},Xs={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JI={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=u0(i),i===null?null:i.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||XI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{gc=xu.inject(JI),Pn=xu}catch{}}return Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI,Ar.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(l))throw Error(r(200));return GI(i,l,null,d)},Ar.createRoot=function(i,l){if(!dm(i))throw Error(r(299));var d=!1,g="",x=R1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=lm(i,1,!1,null,null,d,!1,g,x),i[Un]=l.current,Ts(i.nodeType===8?i.parentNode:i),new um(l)},Ar.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=u0(l),i=i===null?null:i.stateNode,i},Ar.flushSync=function(i){return li(i)},Ar.hydrate=function(i,l,d){if(!yu(l))throw Error(r(200));return vu(null,i,l,!0,d)},Ar.hydrateRoot=function(i,l,d){if(!dm(i))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,x=!1,N="",I=R1;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),l=D1(l,null,i,1,d??null,x,!1,N,I),i[Un]=l.current,Ts(i),g)for(i=0;i<g.length;i++)d=g[i],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new gu(l)},Ar.render=function(i,l,d){if(!yu(l))throw Error(r(200));return vu(null,i,l,!1,d)},Ar.unmountComponentAtNode=function(i){if(!yu(i))throw Error(r(40));return i._reactRootContainer?(li(function(){vu(null,null,i,!1,function(){i._reactRootContainer=null,i[Un]=null})}),!0):!1},Ar.unstable_batchedUpdates=rm,Ar.unstable_renderSubtreeIntoContainer=function(i,l,d,g){if(!yu(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return vu(i,l,d,!1,g)},Ar.version="18.3.1-next-f1338f8080-20240426",Ar}var K1;function pA(){if(K1)return mm.exports;K1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mm.exports=i4(),mm.exports}var V1;function o4(){if(V1)return wu;V1=1;var e=pA();return wu.createRoot=e.createRoot,wu.hydrateRoot=e.hydrateRoot,wu}var s4=o4(),D=eb();const M=ct(D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),G1=e=>{const t=c4(e);return t.charAt(0).toUpperCase()+t.slice(1)},mA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:c,...u},f)=>D.createElement("svg",{ref:f,...u4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:mA("lucide",a),...u},[...c.map(([p,h])=>D.createElement(p,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const r=D.forwardRef(({className:n,...a},s)=>D.createElement(d4,{ref:s,iconNode:t,className:mA(`lucide-${l4(G1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=G1(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],p4=Te("activity",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],X1=Te("archive",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],g4=Te("arrow-down-right",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],dl=Te("arrow-right-left",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],x4=Te("arrow-up-right",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],w4=Te("banknote",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M16.4 13.7A6.5 6.5 0 1 0 6.28 6.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3",key:"cisjcv"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1-2.29 7.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"5byaag"}],["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}]],Pv=Te("beef",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],S4=Te("bell",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],jo=Te("building-2",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hA=Te("calendar",O4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jn=Te("chart-column",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],k4=Te("chart-pie",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y1=Te("check",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ol=Te("chef-hat",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mo=Te("chevron-down",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M4=Te("chevron-left",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ov=Te("chevron-right",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sl=Te("chevron-up",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_v=Te("circle-alert",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],No=Te("circle-check-big",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fu=Te("circle-x",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],fl=Te("clock",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Q1=Te("copy",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],J1=Te("credit-card",z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],So=Te("dollar-sign",U4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pl=Te("download",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K4=Te("eye",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]],Cn=Te("factory",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gA=Te("file-text",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ac=Te("funnel",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ju=Te("history",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],J4=Te("key",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yA=Te("lock",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],tM=Te("log-in",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Z1=Te("log-out",rM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],vA=Te("mail",nM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],go=Te("map-pin",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],oM=Te("menu",iM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M5 12h14",key:"1ays0h"}]],xA=Te("minus",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cr=Te("package",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ia=Te("pen",cM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],qu=Te("percent",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],tb=Te("phone",dM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kt=Te("plus",fM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ym=Te("receipt",pM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gt=Te("refresh-cw",mM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ej=Te("rotate-ccw",hM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Va=Te("save",gM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wa=Te("search",yM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xM=Te("shield-check",vM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xn=Te("shopping-cart",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],jM=Te("smartphone",wM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bA=Te("square-pen",NM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Po=Te("store",SM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vi=Te("tag",PM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$t=Te("trash-2",OM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],vm=Te("trending-down",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Mn=Te("trending-up",AM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ir=Te("triangle-alert",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ho=Te("truck",EM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tj=Te("user-plus",CM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pi=Te("user",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],wA=Te("users",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mr=Te("x",MM),Hd="/api",Av=Hd;async function We(e,t={}){const n={...{"Content-Type":"application/json"}};if(t.headers){const c=t.headers;Object.assign(n,c)}const a=await fetch(`${Hd}${e}`,{...t,headers:n});if(!a.ok){const c=await a.text();let u={};try{const h=c.trim().match(/{[\s\S]*}/);h&&(u=JSON.parse(h[0]))}catch(p){console.debug("Error parsing error response:",p)}const f=u.error||`API request failed: ${a.statusText}`;throw console.error(`API Error [${e}]:`,f,u),new Error(f)}const s=await a.text();try{const c=s.trim();console.debug(`[apiRequest] ${e} raw response (${a.status}):`,c.substring(0,500));const u=c.match(/{[\s\S]*}/);if(u)return JSON.parse(u[0])}catch(c){throw console.error(`Failed to parse JSON response from ${e}:`,c),console.error("Raw response:",s),new Error(`Invalid response format from ${e}`)}throw new Error(`Invalid response format from ${e}`)}async function rj(e,t){return(await We("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:t})})).user}async function Ii(){return(await We("/products")).products}async function jA(e){return(await We("/products",{method:"POST",body:JSON.stringify(e)})).product}async function DM(e,t){return(await We(`/products/${e}`,{method:"PUT",body:JSON.stringify(t)})).product}async function $M(e){await We(`/products/${e}`,{method:"DELETE"})}async function RM(){await We("/products/delete-all",{method:"DELETE"})}async function rb(e){return(await We(`/products/${e}/default-ingredients`)).defaultIngredients}async function NA(e,t){return(await We(`/products/${e}/default-ingredients`,{method:"POST",body:JSON.stringify({ingredients:t})})).defaultIngredients}async function is(){return(await We("/categories")).categories}async function LM(e){return(await We("/categories",{method:"POST",body:JSON.stringify({name:e.name,description:e.description})})).category}async function FM(e,t){return(await We(`/categories/${e}`,{method:"PUT",body:JSON.stringify({name:t.name,description:t.description})})).category}async function qM(e){await We(`/categories/${e}`,{method:"DELETE"})}async function SA(){return(await We("/ingredient-categories")).categories}async function BM(e){return(await We("/ingredient-categories",{method:"POST",body:JSON.stringify({name:e.name,description:e.description})})).category}async function zM(e,t){return(await We(`/ingredient-categories/${e}`,{method:"PUT",body:JSON.stringify({name:t.name,description:t.description})})).category}async function UM(e){await We(`/ingredient-categories/${e}`,{method:"DELETE"})}async function ic(e){const t=e?`/inventory?location=${encodeURIComponent(e)}&t=${Date.now()}`:`/inventory?t=${Date.now()}`;return(await We(t)).inventory}async function nj(e,t,r){console.log(`API: Updating inventory - Product: ${e}, Location: ${t}, Quantity: ${r}`);const n=await We("/inventory/update",{method:"PUT",body:JSON.stringify({productId:e,location:t,quantity:r})});if(console.log("API: Update response:",n),!n.inventory)throw new Error("Invalid response from inventory update API");return console.log("API: Inventory updated successfully:",n.inventory),n.inventory}async function WM(e,t,r){return(await We("/inventory",{method:"POST",body:JSON.stringify({productId:e,location:t,quantity:r})})).inventory}async function HM(e){const t=await We("/stock-adjustments",{method:"POST",body:JSON.stringify(e)});return{adjustment:t.adjustment,ingredient:t.ingredient}}async function Bu(){return(await We("/ingredients")).ingredients}async function aj(e,t){return(await We(`/ingredients/${e}`,{method:"PUT",body:JSON.stringify(t)})).ingredient}async function KM(e){const t={...e,...e.supplierId&&{supplierId:e.supplierId}};return(await We("/ingredients",{method:"POST",body:JSON.stringify(t)})).ingredient}async function VM(e){await We(`/ingredients/${e}`,{method:"DELETE"})}async function GM(){return(await We("/ingredients/reset",{method:"POST"})).ingredients}async function PA(e,t){return(await We("/sales")).sales}async function XM(e){return(await We("/sales",{method:"POST",body:JSON.stringify(e)})).sale}async function YM(e,t){return(await We(`/sales/${e}`,{method:"PUT",body:JSON.stringify(t)})).sale}async function OA(e,t){return(await We("/production")).records}async function QM(e){return console.log("API: Creating production record with:",e),(await We("/production",{method:"POST",body:JSON.stringify(e)})).record}async function ij(e,t,r){console.log("API: Updating production status:",{id:e,status:t,options:r});const n={status:t};r!=null&&r.actualWeight&&(n.quantity=r.actualWeight),r!=null&&r.additionalIngredients&&r.additionalIngredients.length>0&&(n.additionalIngredients=r.additionalIngredients);const a=await We(`/production/${e}`,{method:"PUT",body:JSON.stringify(n)});return console.log("API: Update response:",a),a.record}async function JM(e){await We(`/production/${e}`,{method:"DELETE"})}async function _A(){return(await We("/transfers")).transfers}async function AA(e){console.log("API: Creating transfer:",e);const t=await We("/transfers",{method:"POST",body:JSON.stringify(e)});return console.log("API: Transfer created:",t.transfer),t.transfer}async function ZM(e,t,r,n){return(await We(`/transfers/${e}/receive`,{method:"POST",body:JSON.stringify({quantityReceived:t,discrepancyReason:r,receivedBy:n})})).transfer}async function Nn(){return(await We("/stores")).stores}async function eD(e){return(await We("/stores",{method:"POST",body:JSON.stringify(e)})).store}async function tD(e,t){return(await We(`/stores/${e}`,{method:"PUT",body:JSON.stringify(t)})).store}async function rD(e){await We(`/stores/${e}`,{method:"DELETE"})}async function nD(){return(await We("/employees")).employees}async function aD(e){const t=await We("/employees",{method:"POST",body:JSON.stringify(e)});return console.log("[createEmployee] Raw API response data:",JSON.stringify(t)),t!=null&&t.employee?t.employee:t!=null&&t.id&&(t!=null&&t.name)?t:(console.error("[createEmployee] Unexpected response format:",t),t==null?void 0:t.employee)}async function xm(e,t){return(await We(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)})).employee}async function kA(){return(await We("/users/all")).users}async function iD(e){await We(`/users/${e}`,{method:"DELETE"})}async function EA(){return(await We("/suppliers")).suppliers}async function oD(e){return(await We("/suppliers",{method:"POST",body:JSON.stringify(e)})).supplier}async function sD(e,t){return(await We(`/suppliers/${e}`,{method:"PUT",body:JSON.stringify(t)})).supplier}async function lD(e){await We(`/suppliers/${e}`,{method:"DELETE"})}async function cD(){return(await We("/history")).history}async function uD(e){const t=["Date & Time","Action","User","Description","Details"],r=e.map(u=>[new Date(u.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),u.action,u.user,u.description,JSON.stringify(u.details)]),n=[t.join(","),...r.map(u=>u.map(f=>`"${f}"`).join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),c=URL.createObjectURL(a);s.setAttribute("href",c),s.setAttribute("download",`system-history-${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}async function CA(){return(await We("/discount-settings")).settings}async function dD(e){return(await We("/discount-settings",{method:"PUT",body:JSON.stringify(e)})).settings}async function fD(e,t,r){let n=`/reports/daily-pdf?date=${e}`;t&&(n+=`&storeId=${t}`),n+=`&userName=${encodeURIComponent(r)}`;const a=await fetch(`${Hd}${n}`);if(!a.ok)throw new Error("Failed to generate PDF report");const s=await a.blob(),c=window.URL.createObjectURL(s),u=document.createElement("a");u.href=c,u.download=`Daily-Report-${e}.pdf`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(c)}async function pD(e,t){let r=`/reports/daily-csv?date=${e}`;t&&(r+=`&storeId=${t}`);const n=await fetch(`${Hd}${r}`);if(!n.ok)throw new Error("Failed to generate CSV report");const a=await n.blob(),s=window.URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=`Daily-Report-${e}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s)}var mD=pA();const hD=ct(mD);function gD(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const yD=e=>{switch(e){case"success":return bD;case"info":return jD;case"warning":return wD;case"error":return ND;default:return null}},vD=Array(12).fill(0),xD=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},vD.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),bD=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wD=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jD=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ND=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SD=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PD=()=>{const[e,t]=M.useState(document.hidden);return M.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let kv=1;class OD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:kv++,c=this.toasts.find(f=>f.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),c?this.toasts=this.toasts.map(f=>f.id===s?(this.publish({...f,...t,id:s,title:n}),{...f,...t,id:s,dismissible:u,title:n}):f):this.addToast({title:n,...a,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,c;const u=a.then(async p=>{if(c=["resolve",p],M.isValidElement(p))s=!1,this.create({id:n,type:"default",message:p});else if(AD(p)&&!p.ok){s=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,j=typeof m=="object"&&!M.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:y,...j})}else if(p instanceof Error){s=!1;const m=typeof r.error=="function"?await r.error(p):r.error,y=typeof r.description=="function"?await r.description(p):r.description,j=typeof m=="object"&&!M.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:y,...j})}else if(r.success!==void 0){s=!1;const m=typeof r.success=="function"?await r.success(p):r.success,y=typeof r.description=="function"?await r.description(p):r.description,j=typeof m=="object"&&!M.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:y,...j})}}).catch(async p=>{if(c=["reject",p],r.error!==void 0){s=!1;const h=typeof r.error=="function"?await r.error(p):r.error,m=typeof r.description=="function"?await r.description(p):r.description,b=typeof h=="object"&&!M.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...b})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((p,h)=>u.then(()=>c[0]==="reject"?h(c[1]):p(c[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:f}:Object.assign(n,{unwrap:f})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||kv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kr=new OD,_D=(e,t)=>{const r=(t==null?void 0:t.id)||kv++;return kr.addToast({title:e,...t,id:r}),r},AD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kD=_D,ED=()=>kr.toasts,CD=()=>kr.getActiveToasts(),ne=Object.assign(kD,{success:kr.success,info:kr.info,warning:kr.warning,error:kr.error,custom:kr.custom,message:kr.message,promise:kr.promise,dismiss:kr.dismiss,loading:kr.loading},{getHistory:ED,getToasts:CD});gD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nu(e){return e.label!==void 0}const TD=3,ID="24px",MD="16px",oj=4e3,DD=356,$D=14,RD=45,LD=200;function En(...e){return e.filter(Boolean).join(" ")}function FD(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const qD=e=>{var t,r,n,a,s,c,u,f,p;const{invert:h,toast:m,unstyled:y,interacting:b,setHeights:j,visibleToasts:w,heights:v,index:O,toasts:_,expanded:A,removeToast:k,defaultRichColors:P,closeButton:S,style:C,cancelButtonStyle:T,actionButtonStyle:q,className:H="",descriptionClassName:F="",duration:L,position:Y,gap:G,expandByDefault:te,classNames:U,icons:Q,closeButtonAriaLabel:Z="Close toast"}=e,[B,$]=M.useState(null),[E,R]=M.useState(null),[X,re]=M.useState(!1),[le,K]=M.useState(!1),[he,Pe]=M.useState(!1),[V,oe]=M.useState(!1),[me,ce]=M.useState(!1),[_e,Ie]=M.useState(0),[Je,tt]=M.useState(0),ae=M.useRef(m.duration||L||oj),we=M.useRef(null),z=M.useRef(null),fe=O===0,ve=O+1<=w,je=m.type,Fe=m.dismissible!==!1,Ve=m.className||"",pt=m.descriptionClassName||"",Jt=M.useMemo(()=>v.findIndex(Le=>Le.toastId===m.id)||0,[v,m.id]),Zt=M.useMemo(()=>{var Le;return(Le=m.closeButton)!=null?Le:S},[m.closeButton,S]),Ir=M.useMemo(()=>m.duration||L||oj,[m.duration,L]),er=M.useRef(0),Lt=M.useRef(0),or=M.useRef(0),hr=M.useRef(null),[Li,Fi]=Y.split("-"),qi=M.useMemo(()=>v.reduce((Le,rt,et)=>et>=Jt?Le:Le+rt.height,0),[v,Jt]),zn=PD(),pe=m.invert||h,xe=je==="loading";Lt.current=M.useMemo(()=>Jt*G+qi,[Jt,qi]),M.useEffect(()=>{ae.current=Ir},[Ir]),M.useEffect(()=>{re(!0)},[]),M.useEffect(()=>{const Le=z.current;if(Le){const rt=Le.getBoundingClientRect().height;return tt(rt),j(et=>[{toastId:m.id,height:rt,position:m.position},...et]),()=>j(et=>et.filter(Et=>Et.toastId!==m.id))}},[j,m.id]),M.useLayoutEffect(()=>{if(!X)return;const Le=z.current,rt=Le.style.height;Le.style.height="auto";const et=Le.getBoundingClientRect().height;Le.style.height=rt,tt(et),j(Et=>Et.find(It=>It.toastId===m.id)?Et.map(It=>It.toastId===m.id?{...It,height:et}:It):[{toastId:m.id,height:et,position:m.position},...Et])},[X,m.title,m.description,j,m.id]);const Oe=M.useCallback(()=>{K(!0),Ie(Lt.current),j(Le=>Le.filter(rt=>rt.toastId!==m.id)),setTimeout(()=>{k(m)},LD)},[m,k,j,Lt]);M.useEffect(()=>{if(m.promise&&je==="loading"||m.duration===1/0||m.type==="loading")return;let Le;return A||b||zn?(()=>{if(or.current<er.current){const Et=new Date().getTime()-er.current;ae.current=ae.current-Et}or.current=new Date().getTime()})():(()=>{ae.current!==1/0&&(er.current=new Date().getTime(),Le=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Oe()},ae.current))})(),()=>clearTimeout(Le)},[A,b,m,je,zn,Oe]),M.useEffect(()=>{m.delete&&Oe()},[Oe,m.delete]);function Ge(){var Le;if(Q!=null&&Q.loading){var rt;return M.createElement("div",{className:En(U==null?void 0:U.loader,m==null||(rt=m.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":je==="loading"},Q.loading)}return M.createElement(xD,{className:En(U==null?void 0:U.loader,m==null||(Le=m.classNames)==null?void 0:Le.loader),visible:je==="loading"})}const ot=m.icon||(Q==null?void 0:Q[je])||yD(je);var $e,Qe;return M.createElement("li",{tabIndex:0,ref:z,className:En(H,Ve,U==null?void 0:U.toast,m==null||(t=m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[je],m==null||(r=m.classNames)==null?void 0:r[je]),"data-sonner-toast":"","data-rich-colors":($e=m.richColors)!=null?$e:P,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":X,"data-promise":!!m.promise,"data-swiped":me,"data-removed":le,"data-visible":ve,"data-y-position":Li,"data-x-position":Fi,"data-index":O,"data-front":fe,"data-swiping":he,"data-dismissible":Fe,"data-type":je,"data-invert":pe,"data-swipe-out":V,"data-swipe-direction":E,"data-expanded":!!(A||te&&X),style:{"--index":O,"--toasts-before":O,"--z-index":_.length-O,"--offset":`${le?_e:Lt.current}px`,"--initial-height":te?"auto":`${Je}px`,...C,...m.style},onDragEnd:()=>{Pe(!1),$(null),hr.current=null},onPointerDown:Le=>{xe||!Fe||(we.current=new Date,Ie(Lt.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(Pe(!0),hr.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,rt,et;if(V||!Fe)return;hr.current=null;const Et=Number(((Le=z.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((rt=z.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),It=new Date().getTime()-((et=we.current)==null?void 0:et.getTime()),Wt=B==="x"?Et:ma,ha=Math.abs(Wt)/It;if(Math.abs(Wt)>=RD||ha>.11){Ie(Lt.current),m.onDismiss==null||m.onDismiss.call(m,m),R(B==="x"?Et>0?"right":"left":ma>0?"down":"up"),Oe(),oe(!0);return}else{var tr,Mr;(tr=z.current)==null||tr.style.setProperty("--swipe-amount-x","0px"),(Mr=z.current)==null||Mr.style.setProperty("--swipe-amount-y","0px")}ce(!1),Pe(!1),$(null)},onPointerMove:Le=>{var rt,et,Et;if(!hr.current||!Fe||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;const It=Le.clientY-hr.current.y,Wt=Le.clientX-hr.current.x;var ha;const tr=(ha=e.swipeDirections)!=null?ha:FD(Y);!B&&(Math.abs(Wt)>1||Math.abs(It)>1)&&$(Math.abs(Wt)>Math.abs(It)?"x":"y");let Mr={x:0,y:0};const ga=Wr=>1/(1.5+Math.abs(Wr)/20);if(B==="y"){if(tr.includes("top")||tr.includes("bottom"))if(tr.includes("top")&&It<0||tr.includes("bottom")&&It>0)Mr.y=It;else{const Wr=It*ga(It);Mr.y=Math.abs(Wr)<Math.abs(It)?Wr:It}}else if(B==="x"&&(tr.includes("left")||tr.includes("right")))if(tr.includes("left")&&Wt<0||tr.includes("right")&&Wt>0)Mr.x=Wt;else{const Wr=Wt*ga(Wt);Mr.x=Math.abs(Wr)<Math.abs(Wt)?Wr:Wt}(Math.abs(Mr.x)>0||Math.abs(Mr.y)>0)&&ce(!0),(et=z.current)==null||et.style.setProperty("--swipe-amount-x",`${Mr.x}px`),(Et=z.current)==null||Et.style.setProperty("--swipe-amount-y",`${Mr.y}px`)}},Zt&&!m.jsx&&je!=="loading"?M.createElement("button",{"aria-label":Z,"data-disabled":xe,"data-close-button":!0,onClick:xe||!Fe?()=>{}:()=>{Oe(),m.onDismiss==null||m.onDismiss.call(m,m)},className:En(U==null?void 0:U.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Qe=Q==null?void 0:Q.close)!=null?Qe:SD):null,(je||m.icon||m.promise)&&m.icon!==null&&((Q==null?void 0:Q[je])!==null||m.icon)?M.createElement("div",{"data-icon":"",className:En(U==null?void 0:U.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ge():null,m.type!=="loading"?ot:null):null,M.createElement("div",{"data-content":"",className:En(U==null?void 0:U.content,m==null||(s=m.classNames)==null?void 0:s.content)},M.createElement("div",{"data-title":"",className:En(U==null?void 0:U.title,m==null||(c=m.classNames)==null?void 0:c.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:En(F,pt,U==null?void 0:U.description,m==null||(u=m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),M.isValidElement(m.cancel)?m.cancel:m.cancel&&Nu(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Le=>{Nu(m.cancel)&&Fe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Le),Oe())},className:En(U==null?void 0:U.cancelButton,m==null||(f=m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,M.isValidElement(m.action)?m.action:m.action&&Nu(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:Le=>{Nu(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Le),!Le.defaultPrevented&&Oe())},className:En(U==null?void 0:U.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function sj(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function BD(e,t){const r={};return[e,t].forEach((n,a)=>{const s=a===1,c=s?"--mobile-offset":"--offset",u=s?MD:ID;function f(p){["top","right","bottom","left"].forEach(h=>{r[`${c}-${h}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${c}-${p}`]=u:r[`${c}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):f(u)}),r}const zD=M.forwardRef(function(t,r){const{invert:n,position:a="bottom-right",hotkey:s=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:p,mobileOffset:h,theme:m="light",richColors:y,duration:b,style:j,visibleToasts:w=TD,toastOptions:v,dir:O=sj(),gap:_=$D,icons:A,containerAriaLabel:k="Notifications"}=t,[P,S]=M.useState([]),C=M.useMemo(()=>Array.from(new Set([a].concat(P.filter(E=>E.position).map(E=>E.position)))),[P,a]),[T,q]=M.useState([]),[H,F]=M.useState(!1),[L,Y]=M.useState(!1),[G,te]=M.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=M.useRef(null),Q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=M.useRef(null),B=M.useRef(!1),$=M.useCallback(E=>{S(R=>{var X;return(X=R.find(re=>re.id===E.id))!=null&&X.delete||kr.dismiss(E.id),R.filter(({id:re})=>re!==E.id)})},[]);return M.useEffect(()=>kr.subscribe(E=>{if(E.dismiss){requestAnimationFrame(()=>{S(R=>R.map(X=>X.id===E.id?{...X,delete:!0}:X))});return}setTimeout(()=>{hD.flushSync(()=>{S(R=>{const X=R.findIndex(re=>re.id===E.id);return X!==-1?[...R.slice(0,X),{...R[X],...E},...R.slice(X+1)]:[E,...R]})})})}),[P]),M.useEffect(()=>{if(m!=="system"){te(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const E=window.matchMedia("(prefers-color-scheme: dark)");try{E.addEventListener("change",({matches:R})=>{te(R?"dark":"light")})}catch{E.addListener(({matches:X})=>{try{te(X?"dark":"light")}catch(re){console.error(re)}})}},[m]),M.useEffect(()=>{P.length<=1&&F(!1)},[P]),M.useEffect(()=>{const E=R=>{var X;if(s.every(K=>R[K]||R.code===K)){var le;F(!0),(le=U.current)==null||le.focus()}R.code==="Escape"&&(document.activeElement===U.current||(X=U.current)!=null&&X.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[s]),M.useEffect(()=>{if(U.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,B.current=!1)}},[U.current]),M.createElement("section",{ref:r,"aria-label":`${k} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((E,R)=>{var X;const[re,le]=E.split("-");return P.length?M.createElement("ol",{key:E,dir:O==="auto"?sj():O,tabIndex:-1,ref:U,className:f,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":re,"data-lifted":H&&P.length>1&&!c,"data-x-position":le,style:{"--front-toast-height":`${((X=T[0])==null?void 0:X.height)||0}px`,"--width":`${DD}px`,"--gap":`${_}px`,...j,...BD(p,h)},onBlur:K=>{B.current&&!K.currentTarget.contains(K.relatedTarget)&&(B.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||B.current||(B.current=!0,Z.current=K.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{L||F(!1)},onDragEnd:()=>F(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},P.filter(K=>!K.position&&R===0||K.position===E).map((K,he)=>{var Pe,V;return M.createElement(qD,{key:K.id,icons:A,index:he,toast:K,defaultRichColors:y,duration:(Pe=v==null?void 0:v.duration)!=null?Pe:b,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:w,closeButton:(V=v==null?void 0:v.closeButton)!=null?V:u,interacting:L,position:E,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:$,toasts:P.filter(oe=>oe.position==K.position),heights:T.filter(oe=>oe.position==K.position),setHeights:q,expandByDefault:c,gap:_,expanded:H,swipeDirections:t.swipeDirections})})):null}))});function lj({currentUser:e}={}){var zn;const[t,r]=D.useState([]),[n,a]=D.useState(!0),[s,c]=D.useState([]),[u,f]=D.useState(""),[p,h]=D.useState("All"),[m,y]=D.useState(!1),[b,j]=D.useState(!1),[w,v]=D.useState(null),[O,_]=D.useState(0),[A,k]=D.useState(null),[P,S]=D.useState(!1),[C,T]=D.useState(!1),[q,H]=D.useState([]),[F,L]=D.useState(null),[Y,G]=D.useState([]),[te,U]=D.useState(!1),[Q,Z]=D.useState(null),[B,$]=D.useState(0),[E,R]=D.useState("retail"),[X,re]=D.useState({wholesaleMinUnits:5,discountType:"percentage",wholesaleDiscountPercent:1,wholesaleDiscountAmount:0}),[le,K]=D.useState({show:!1,product:null,weight:"1"}),he=(e==null?void 0:e.role)==="ADMIN",Pe=e==null?void 0:e.storeId,V=e==null?void 0:e.storeName;console.log("=== POS Page - User Store Assignment ==="),console.log("Current User:",e==null?void 0:e.username),console.log("User Role:",e==null?void 0:e.role),console.log("User Assigned StoreId:",Pe),console.log("User Assigned StoreName:",V),console.log("Can Switch Stores:",he),console.log("=======================================");const oe=pe=>{const xe={};pe.forEach($e=>{const Qe=$e.basePrice||$e.price;xe[Qe]||(xe[Qe]=[]),xe[Qe].push($e)});const Oe=new Set;let Ge=!1;for(const[$e,Qe]of Object.entries(xe))Qe.reduce((rt,et)=>rt+et.quantity,0)>=X.wholesaleMinUnits&&(Oe.add(parseFloat($e)),Ge=!0);return{salesType:Ge?"wholesale":"retail",wholesalePrices:Oe}},me=pe=>{const{salesType:xe}=oe(pe);if(xe!=="wholesale")return{salesType:xe,discountAmount:0};let Oe=0;if(X.discountType==="percentage"){const Ge=pe.reduce((ot,$e)=>ot+$e.price*$e.quantity,0);Oe=X.wholesaleDiscountPercent/100*Ge}else Oe=X.wholesaleDiscountAmount||0;return{salesType:xe,discountAmount:Oe}};D.useEffect(()=>{ce(),Ie(),Je()},[]);const ce=async()=>{try{const pe=await Nn();H(pe);let xe=null;Pe?(xe=pe.find(Oe=>Oe.id===Pe)||null,xe?ne.info(`Locked to your assigned store: ${xe.name}`,{duration:3e3}):ne.error(`Your assigned store (${V}) was not found.`)):xe=pe[0]||null,L(xe),xe&&await _e(xe.name)}catch(pe){console.error("Error loading stores:",pe),ne.error("Failed to load stores. Please refresh the page.")}},_e=async pe=>{try{a(!0);const xe=pe||(F==null?void 0:F.name);if(!xe){ne.error("No store selected. Please select a store."),a(!1);return}const[Oe,Ge]=await Promise.all([Ii(),ic(xe)]),ot=Oe.map(Qe=>{const Le=Ge.find(rt=>rt.productId===Qe.id);return{id:Qe.id,name:Qe.name,price:Number(Qe.price)||0,stock:(Le==null?void 0:Le.quantity)||0,category:Qe.category,sku:`SKU-${Qe.id}`}});r(ot);const $e=ot.filter(Qe=>Qe.stock===0);$e.length>0&&ne.warning(`${xe} has ${$e.length} product(s) out of stock.`)}catch(xe){console.error("Error loading products:",xe),ne.error("Failed to load products. Please refresh the page.")}finally{a(!1)}},Ie=async()=>{try{const pe=await is();G(pe)}catch(pe){console.error("Error loading categories:",pe),ne.error("Failed to load categories. Please refresh the page.")}},Je=async()=>{try{const pe=await CA();re({wholesaleMinUnits:pe.wholesaleMinUnits,discountType:pe.discountType,wholesaleDiscountPercent:pe.wholesaleDiscountPercent,wholesaleDiscountAmount:pe.wholesaleDiscountAmount||0}),console.log(" Discount settings loaded:",pe)}catch(pe){console.error("Error loading discount settings:",pe)}};D.useEffect(()=>{F&&_e()},[F]);const ae=[...t.filter(pe=>{const xe=pe.name.toLowerCase().includes(u.toLowerCase())||pe.sku.toLowerCase().includes(u.toLowerCase()),Oe=p==="All"||pe.category===p;return xe&&Oe})].sort((pe,xe)=>+(xe.stock>0)-+(pe.stock>0)),we=pe=>{if(!F){ne.error("Please select a store before adding items to cart");return}if(pe.stock===0){ne.error(`${pe.name} is out of stock at ${F.name}`);return}K({show:!0,product:pe,weight:"1"})},z=pe=>{const{product:xe,weight:Oe}=le;if(!xe)return;const Ge=parseFloat(Oe)||1,ot=pe||xe.price,$e=xe.price,Qe=s.find(Le=>Le.id===xe.id&&Le.price===ot);if(Qe)if(Qe.quantity<xe.stock){const Le=Qe.weight?Qe.weight/Qe.quantity:Ge,rt=Qe.quantity+1,et=Le*rt;c(s.map(Et=>Et.id===xe.id&&Et.price===ot?{...Et,quantity:rt,weight:et}:Et)),ne.success(`Added ${xe.name} to cart`)}else ne.warning(`Cannot add more. Only ${xe.stock} available at ${F==null?void 0:F.name}`);else c([...s,{...xe,price:ot,quantity:1,discount:0,basePrice:$e,weight:Ge}]),ne.success(`Added ${xe.name} to cart`);K({show:!1,product:null,weight:"1"})},fe=(pe,xe)=>{c(s.map(Oe=>{if(Oe.id===pe){const Ge=Oe.quantity+xe;if(Ge<=0||Ge>Oe.stock)return Oe;let ot=Oe.weight;return Oe.weight&&Oe.quantity>0&&(ot=Oe.weight/Oe.quantity*Ge),{...Oe,quantity:Ge,weight:ot}}return Oe}))},ve=(pe,xe)=>{xe<0||xe>100||c(s.map(Oe=>Oe.id===pe?{...Oe,discount:xe}:Oe))},je=pe=>{c(s.filter(xe=>xe.id!==pe))},Fe=()=>{c([]),y(!1),_(0),k(null)};D.useEffect(()=>{if(s.length>0){const{salesType:pe,discountAmount:xe}=me(s);R(pe),$(xe)}else R("retail"),$(0)},[s]);const Ve=pe=>{const xe=pe.price*pe.quantity,Oe=xe*pe.discount/100;return xe-Oe},{wholesalePrices:pt}=oe(s);let Jt=0;const Zt=s.reduce((pe,xe)=>{const Oe=xe.price*xe.quantity,Ge=xe.basePrice||xe.price;let ot=0;pt.has(Ge)&&(X.discountType==="percentage"?ot=Oe*X.wholesaleDiscountPercent/100:ot=X.wholesaleDiscountAmount*xe.quantity),Jt+=ot;const Qe=Oe*xe.discount/100+ot;return pe+Oe-Qe},0),Ir=Zt*O/100,er=Zt-Ir,Lt=0,or=er,hr=async pe=>{var ot;if(!F){ne.error("No store selected. Cannot process checkout.");return}const xe=[];if(s.forEach($e=>{const Qe=t.find(Le=>Le.id===$e.id);Qe?Qe.stock<$e.quantity&&xe.push(`${$e.name} (only ${Qe.stock} available at ${F.name})`):xe.push(`${$e.name} (product no longer exists)`)}),xe.length>0){ne.error(`Cannot checkout. Issues with:
${xe.join(`
`)}`),await _e();return}T(!0);const Oe=Date.now().toString(),Ge=new Date;Li(pe);try{const $e=parseFloat(String(O))||0,Qe=Math.round(Zt*$e/100*100)/100,Le=parseFloat(String(Jt))||0;console.log("=== DISCOUNT CALCULATION ==="),console.log("globalDiscount (%):",$e),console.log("subtotal:",Zt),console.log("globalDiscountAmount ():",Qe),console.log("wholesaleDiscountAmount ():",Le),console.log("===========================");const rt={transactionId:Oe,date:Ge.toISOString(),location:(F==null?void 0:F.name)||"Unknown Store",storeId:(F==null?void 0:F.id)||"",cashier:(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"Unknown User",userId:(e==null?void 0:e.id)||"",username:(e==null?void 0:e.username)||"Unknown",customer:{name:((ot=A==null?void 0:A.name)==null?void 0:ot.trim())||"Walk-in Customer"},items:s.map(et=>({productId:et.id,name:et.name,price:et.price,quantity:et.quantity,weight:et.weight||et.quantity,discount:et.discount})),subtotal:Zt,globalDiscount:Qe,wholesaleDiscount:Le,tax:Lt,total:or,paymentMethod:pe,salesType:E};console.log("=== PAYLOAD VERIFICATION ==="),console.log("Sending globalDiscount:",rt.globalDiscount),console.log("Sending wholesaleDiscount:",rt.wholesaleDiscount),console.log("Sending subtotal:",rt.subtotal),console.log("Sending total:",rt.total),console.log("==========================="),await XM(rt),ne.success(`Sale recorded successfully at ${F==null?void 0:F.name}!`),Z({time:Ge.toLocaleString(),transactionId:Oe,items:s.map(et=>({name:et.name,quantity:et.quantity,price:et.price,discount:et.discount,total:Ve(et)})),subtotal:Zt,globalDiscount:Qe,globalDiscountPercent:$e,wholesaleDiscount:Le,tax:Lt,total:or}),U(!0),Fe(),ne.info("Updating inventory levels..."),await _e(),ne.success(` Inventory updated! Stock levels refreshed at ${F==null?void 0:F.name}`)}catch($e){console.error("Error creating sale:",$e),ne.error("Failed to record sale. Please try again.")}finally{T(!1)}},Li=pe=>{const xe=new Date;let Oe=`========================================
`;return Oe+=`       LZT MEAT PRODUCTS
`,Oe+=`========================================
`,Oe+=`Date: ${xe.toLocaleDateString()}
`,Oe+=`Time: ${xe.toLocaleTimeString()}
`,Oe+=`Transaction #: ${Date.now()}
`,A&&(Oe+=`Customer: ${A.name}
`,Oe+=`Phone: ${A.phone}
`),Oe+=`========================================

`,s.forEach(Ge=>{Oe+=`${Ge.name}
`,Oe+=`  ${Ge.quantity} x ${Ge.price.toFixed(2)} = ${(Ge.price*Ge.quantity).toFixed(2)}
`,Ge.discount>0&&(Oe+=`  Item Discount (${Ge.discount}%): -${(Ge.price*Ge.quantity*Ge.discount/100).toFixed(2)}
`),Oe+=`  Subtotal: ${Ve(Ge).toFixed(2)}

`}),Oe+=`----------------------------------------
`,Oe+=`Subtotal: ${Zt.toFixed(2)}
`,O>0&&(Oe+=`Global Discount (${O}%): -${Ir.toFixed(2)}
`),Oe+=`----------------------------------------
`,Oe+=`TOTAL: ${or.toFixed(2)}
`,Oe+=`Payment Method: ${pe}
`,Oe+=`========================================
`,Oe+=`     Thank you for your business!
`,Oe+=`========================================
`,Oe},Fi=pe=>{r(w?t.map(xe=>xe.id===pe.id?pe:xe):[...t,{...pe,id:Date.now().toString()}]),v(null),j(!1)},qi=pe=>{confirm("Are you sure you want to delete this product?")&&r(t.filter(xe=>xe.id!==pe))};return o.jsxs("div",{className:"h-screen flex flex-col lg:flex-row overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col p-4 lg:p-6 bg-muted/30 overflow-hidden",children:[o.jsxs("div",{className:"mb-4 bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Po,{className:"w-5 h-5 text-primary"}),o.jsx("label",{className:"text-sm font-medium",children:"Active Store:"}),o.jsx("select",{value:((zn=F==null?void 0:F.id)==null?void 0:zn.toString())||"",onChange:pe=>{const xe=q.find(Oe=>Oe.id===Number(pe.target.value)||Oe.id===pe.target.value);xe&&(L(xe),c([]),_e(xe.name))},className:"flex-1 px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-60 disabled:cursor-not-allowed",disabled:!he,children:q.map(pe=>o.jsxs("option",{value:pe.id,children:[pe.name," - ",pe.address]},pe.id))}),!he&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-xs text-yellow-600 font-medium bg-yellow-50 px-3 py-1.5 rounded-full border border-yellow-200",children:" Locked to Your Store"})})]}),F&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 ml-8",children:he?`All transactions will be recorded at ${F.name}`:`You are assigned to ${F.name}. All transactions will be recorded here.`})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.jsxs("button",{onClick:()=>{v(null),j(!0)},className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Add Product"})]}),o.jsxs("button",{onClick:()=>S(!P),className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-accent transition-colors",children:[o.jsx(tj,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:A?A.name:"Add Customer"})]}),o.jsxs("button",{onClick:()=>_e(),disabled:n,className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-accent transition-colors disabled:opacity-50",title:"Refresh inventory from database",children:[o.jsx(Gt,{className:`w-4 h-4 ${n?"animate-spin":""}`}),o.jsx("span",{className:"hidden sm:inline",children:"Sync Inventory"})]})]}),P&&o.jsxs("div",{className:"mb-4 p-4 bg-card border border-border rounded-lg",children:[o.jsxs("h3",{className:"mb-3 flex items-center gap-2",children:[o.jsx(tj,{className:"w-5 h-5"}),"Customer Information"]}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.jsx("input",{type:"text",placeholder:"Customer Name",value:(A==null?void 0:A.name)||"",onChange:pe=>k({name:pe.target.value}),className:"px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx("button",{onClick:()=>{k(null),S(!1)},className:"px-4 py-2 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 transition-colors text-sm",children:"Clear Customer"}),o.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm",children:"Save"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"relative mb-3",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:u,onChange:pe=>f(pe.target.value),className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[o.jsx("button",{onClick:()=>h("All"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${p==="All"?"bg-primary text-primary-foreground":"bg-background border border-border hover:bg-accent"}`,children:"All"}),Y.map(pe=>o.jsx("button",{onClick:()=>h(pe.name),className:`px-4 py-2 rounded-lg transition-colors text-sm ${p===pe.name?"bg-primary text-primary-foreground":"bg-background border border-border hover:bg-accent"}`,children:pe.name},pe.id))]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3",children:ae.map(pe=>o.jsx("div",{onClick:()=>pe.stock>0&&we(pe),className:`bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary transition-all group ${pe.stock>0?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-medium text-sm flex-1",children:pe.name}),(e==null?void 0:e.role)==="ADMIN"&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:xe=>{xe.stopPropagation(),v(pe),j(!0)},className:"p-1 hover:bg-accent rounded opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(bA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:xe=>{xe.stopPropagation(),qi(pe.id)},className:"p-1 hover:bg-destructive/10 text-destructive rounded opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx($t,{className:"w-4 h-4"})})]})]}),o.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded w-fit mb-2",children:pe.category}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["SKU: ",pe.sku]}),o.jsx("div",{className:"mt-auto flex justify-between items-end",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-xl text-primary",children:["",pe.price.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock: ",pe.stock]})]})})]})},pe.id))})})]}),o.jsxs("div",{className:"w-full lg:w-96 bg-card border-l border-border flex flex-col h-full lg:max-h-screen",children:[o.jsxs("div",{className:"bg-primary text-primary-foreground p-4 flex items-center gap-3 flex-shrink-0",children:[o.jsx(xn,{className:"w-6 h-6"}),o.jsx("h2",{className:"flex-1",children:"Current Order"}),o.jsxs("span",{className:"bg-primary-foreground text-primary px-3 py-1 rounded-full text-sm",children:[s.reduce((pe,xe)=>pe+xe.quantity,0)," items"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:s.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[o.jsx(xn,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{children:"No items in cart"}),o.jsx("p",{className:"text-sm",children:"Add products to get started"})]}):o.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((pe,xe)=>{const Oe=xe.basePrice||xe.price;return pe[Oe]||(pe[Oe]=[]),pe[Oe].push(xe),pe},{})).sort((pe,xe)=>parseFloat(pe[0])-parseFloat(xe[0])).map(([pe,xe])=>{const Oe=parseFloat(pe),Ge=pt.has(Oe),ot=xe.reduce(($e,Qe)=>$e+Qe.quantity,0);return o.jsxs("div",{className:"border border-border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:`p-3 font-semibold text-sm flex justify-between items-center ${Ge?"bg-blue-50 text-blue-900 border-b border-blue-200":"bg-gray-50 text-gray-900 border-b border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{children:["",Oe.toFixed(2)," Category"]}),o.jsxs("span",{className:"text-xs bg-background px-2 py-1 rounded",children:[ot," units"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${Ge?"bg-blue-600 text-white":"bg-gray-600 text-white"}`,children:Ge?"WHOLESALE":"RETAIL"}),Ge&&o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-semibold",children:X.discountType==="percentage"?`${X.wholesaleDiscountPercent}% OFF`:`${X.wholesaleDiscountAmount.toFixed(2)} OFF`})]})]}),o.jsx("div",{className:"space-y-2 p-3 bg-background/50",children:xe.map($e=>o.jsxs("div",{className:"bg-background rounded p-2 border border-border/50",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:$e.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["",$e.price.toFixed(2)," each"]})]}),o.jsx("button",{onClick:()=>je($e.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:o.jsx($t,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-muted rounded-lg border border-border",children:[o.jsx("button",{onClick:()=>fe($e.id,-1),disabled:$e.quantity<=1,className:"p-1 hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed rounded-l-lg",children:o.jsx(xA,{className:"w-3 h-3"})}),o.jsx("span",{className:"w-6 text-center text-sm",children:$e.quantity}),o.jsx("button",{onClick:()=>{K({show:!0,product:$e,weight:"1"})},disabled:$e.quantity>=$e.stock,className:"p-1 hover:bg-accent disabled:opacity-50 disabled:cursor-not-allowed rounded-r-lg",children:o.jsx(kt,{className:"w-3 h-3"})})]}),o.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[o.jsx(qu,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("input",{type:"number",min:"0",max:"100",value:$e.discount,onChange:Qe=>ve($e.id,parseFloat(Qe.target.value)||0),placeholder:"0",className:"w-full px-2 py-0.5 bg-muted border border-border rounded text-xs focus:outline-none focus:ring-1 focus:ring-primary"}),o.jsx("span",{className:"text-xs",children:"%"})]})]}),o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total:"}),o.jsxs("span",{className:"text-primary font-medium",children:["",($e.price*$e.quantity-$e.price*$e.quantity*$e.discount/100-(Ge?X.discountType==="percentage"?$e.price*$e.quantity*X.wholesaleDiscountPercent/100:X.wholesaleDiscountAmount*$e.quantity:0)).toFixed(2)]})]})]},`${$e.id}-${$e.price}`))})]},pe)})})}),s.length>0&&o.jsxs("div",{className:"border-t border-border p-4 space-y-4 flex-shrink-0 bg-background/95",children:[o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-lg",children:[o.jsx(qu,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:"Global Discount:"}),o.jsx("input",{type:"number",min:"0",max:"100",value:O,onChange:pe=>_(parseFloat(pe.target.value)||0),placeholder:"0",className:"w-16 px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"}),o.jsx("span",{className:"text-sm",children:"%"})]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["",Zt.toFixed(2)]})]}),Jt>0&&o.jsxs("div",{className:"flex justify-between text-blue-600",children:[o.jsx("span",{children:"Wholesale Discount:"}),o.jsxs("span",{children:["-",Jt.toFixed(2)]})]}),O>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsxs("span",{children:["Discount (",O,"%):"]}),o.jsxs("span",{children:["-",Ir.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[o.jsx("span",{className:"text-base",children:"Total:"}),o.jsxs("span",{className:"text-xl text-primary",children:["",or.toFixed(2)]})]})]}),m?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-center mb-2",children:"Select Payment Method"}),o.jsxs("button",{onClick:()=>hr("Cash"),className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2.5 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(w4,{className:"w-5 h-5"}),"Cash"]}),o.jsxs("button",{onClick:()=>hr("Card"),className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2.5 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(J1,{className:"w-5 h-5"}),"Card"]}),o.jsxs("button",{onClick:()=>hr("Mobile Payment"),className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2.5 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(jM,{className:"w-5 h-5"}),"Mobile Payment"]}),o.jsx("button",{onClick:()=>y(!1),className:"w-full border border-border py-2 rounded-lg hover:bg-accent transition-colors text-sm",children:"Back"})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-primary text-primary-foreground py-3 rounded-lg hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[o.jsx(J1,{className:"w-4 h-4"}),"Proceed to Payment"]}),o.jsx("button",{onClick:Fe,className:"w-full border border-border py-2 rounded-lg hover:bg-accent transition-colors text-sm",children:"Clear Cart"})]})]})]}),b&&o.jsx(UD,{product:w,onSave:Fi,onClose:()=>{j(!1),v(null)}}),te&&Q&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-primary mb-2",children:"RECEIPT"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Completed"})]}),o.jsxs("div",{className:"border-t border-b border-border py-4 mb-6 space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Date & Time:"}),o.jsx("span",{className:"font-medium",children:Q.time})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Transaction #:"}),o.jsx("span",{className:"font-medium",children:Q.transactionId})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Store:"}),o.jsx("span",{className:"font-medium",children:(F==null?void 0:F.name)||"Main Store"})]}),A&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),o.jsx("span",{className:"font-medium",children:A.name})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Items"}),o.jsx("div",{className:"space-y-2",children:Q.items.map((pe,xe)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:pe.name}),o.jsxs("span",{className:"font-medium",children:["",pe.total.toFixed(2)]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:[pe.quantity," x ",pe.price.toFixed(2),pe.discount>0&&o.jsxs("span",{className:"ml-2 text-orange-600",children:["-",pe.discount,"%"]})]})]},xe))})]}),o.jsxs("div",{className:"border-t border-b border-border py-3 mb-6 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),o.jsxs("span",{children:["",Q.subtotal.toFixed(2)]})]}),Q.globalDiscount>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Global Discount (",Q.globalDiscountPercent||0,"%):"]}),o.jsxs("span",{className:"text-orange-600",children:["-",Q.globalDiscount.toFixed(2)]})]}),Q.wholesaleDiscount>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Wholesale Discount:"}),o.jsxs("span",{className:"text-orange-600",children:["-",Q.wholesaleDiscount.toFixed(2)]})]})]}),o.jsx("div",{className:"bg-primary/10 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"text-lg font-semibold text-foreground",children:"Total:"}),o.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",Q.total.toFixed(2)]})]})}),o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Thank you for your business!"})}),o.jsx("button",{onClick:()=>U(!1),className:"w-full bg-primary text-primary-foreground py-2.5 rounded-lg hover:bg-primary/90 transition-colors font-medium",children:"Close Receipt"})]})}),le.show&&le.product&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Adjust Package Weight"}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Product:"}),o.jsx("span",{className:"font-medium",children:le.product.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"SKU:"}),o.jsx("span",{className:"text-sm",children:le.product.sku})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Base Price (1kg):"}),o.jsxs("span",{className:"font-medium text-primary",children:["",le.product.price.toFixed(2)]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Actual Weight (kg)"}),o.jsx("input",{type:"number",step:"0.1",min:"0.1",value:le.weight,onChange:pe=>K({...le,weight:pe.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter weight"})]}),o.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 mb-6",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Adjusted Price:"}),o.jsxs("div",{className:"text-2xl font-bold text-primary",children:["",(le.product.price*(parseFloat(le.weight)||1)).toFixed(2)]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[parseFloat(le.weight)||1,"kg  ",le.product.price.toFixed(2),"/kg"]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>K({show:!1,product:null,weight:"1"}),className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsx("button",{onClick:()=>{const pe=le.product.price*(parseFloat(le.weight)||1);z(pe)},className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors font-medium",children:"Add to Cart"})]})]})})]})}function UD({product:e,onSave:t,onClose:r}){const[n,a]=D.useState({name:(e==null?void 0:e.name)||"",sku:(e==null?void 0:e.sku)||"",category:(e==null?void 0:e.category)||"",unit:"kg",price:(e==null?void 0:e.price)||0,storeLocation:"",initialQuantity:(e==null?void 0:e.stock)||0}),[s,c]=D.useState(!1),[u,f]=D.useState([]),[p,h]=D.useState([]);D.useEffect(()=>{m(),y()},[]);const m=async()=>{try{const j=await is();f(j),j.length>0&&!n.category&&a(w=>({...w,category:j[0].name}))}catch(j){console.error("Error loading categories:",j),ne.error("Failed to load categories")}},y=async()=>{try{const j=await Nn();h(j),j.length>0&&!n.storeLocation&&a(w=>({...w,storeLocation:j[0].name}))}catch(j){console.error("Error loading stores:",j),ne.error("Failed to load stores")}},b=async j=>{if(j.preventDefault(),!n.name||!n.sku||n.price<=0){ne.error("Please fill in all required fields");return}if(!e&&!n.storeLocation){ne.error("Please select a store location");return}if(!s)try{if(c(!0),e)ne.info("Edit functionality not yet implemented"),r();else{if((await Ii()).find(_=>_.name.toLowerCase()===n.name.toLowerCase())){ne.error(`Product "${n.name}" already exists in the database!`),c(!1);return}const O=await jA({name:n.name,category:n.category,unit:n.unit,price:n.price,image:null});await WM(O.id,n.storeLocation,n.initialQuantity),ne.success(`Product added to ${n.storeLocation} with ${n.initialQuantity} ${n.unit}`),window.location.reload(),r()}}catch(w){console.error("Error saving product:",w),ne.error("Failed to save product")}finally{c(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{children:e?"Edit Product":"Add New Product"}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Product Name *"}),o.jsx("input",{type:"text",value:n.name,onChange:j=>a({...n,name:j.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"SKU *"}),o.jsx("input",{type:"text",value:n.sku,onChange:j=>a({...n,sku:j.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Category *"}),u.length>0?o.jsxs("select",{value:n.category,onChange:j=>a({...n,category:j.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),u.map(j=>o.jsx("option",{value:j.name,children:j.name},j.id))]}):o.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:"No categories available. Please create categories first."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Unit"}),o.jsxs("select",{value:n.unit,onChange:j=>a({...n,unit:j.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"g",children:"g"}),o.jsx("option",{value:"lb",children:"lb"}),o.jsx("option",{value:"oz",children:"oz"}),o.jsx("option",{value:"unit",children:"unit"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Price () *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:n.price,onChange:j=>a({...n,price:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),!e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Store Location *"}),p.length>0?o.jsxs("select",{value:n.storeLocation,onChange:j=>a({...n,storeLocation:j.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"",children:"Select Store Location"}),p.map(j=>o.jsx("option",{value:j.name,children:j.name},j.id))]}):o.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:"No store locations available. Please create store locations first."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Initial Quantity"}),o.jsx("input",{type:"number",min:"0",step:"0.1",value:n.initialQuantity,onChange:j=>a({...n,initialQuantity:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",disabled:s,children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",disabled:s,children:[o.jsx(Va,{className:"w-4 h-4"}),s?"Saving...":e?"Update Product":"Add Product"]})]})]})]})})}function TA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=TA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=TA(e))&&(n&&(n+=" "),n+=t);return n}var bm,cj;function Tr(){if(cj)return bm;cj=1;var e=Array.isArray;return bm=e,bm}var wm,uj;function IA(){if(uj)return wm;uj=1;var e=typeof bu=="object"&&bu&&bu.Object===Object&&bu;return wm=e,wm}var jm,dj;function Fn(){if(dj)return jm;dj=1;var e=IA(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return jm=r,jm}var Nm,fj;function oc(){if(fj)return Nm;fj=1;var e=Fn(),t=e.Symbol;return Nm=t,Nm}var Sm,pj;function WD(){if(pj)return Sm;pj=1;var e=oc(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function s(c){var u=r.call(c,a),f=c[a];try{c[a]=void 0;var p=!0}catch{}var h=n.call(c);return p&&(u?c[a]=f:delete c[a]),h}return Sm=s,Sm}var Pm,mj;function HD(){if(mj)return Pm;mj=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Pm=r,Pm}var Om,hj;function ca(){if(hj)return Om;hj=1;var e=oc(),t=WD(),r=HD(),n="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:s&&s in Object(u)?t(u):r(u)}return Om=c,Om}var _m,gj;function ua(){if(gj)return _m;gj=1;function e(t){return t!=null&&typeof t=="object"}return _m=e,_m}var Am,yj;function os(){if(yj)return Am;yj=1;var e=ca(),t=ua(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Am=n,Am}var km,vj;function nb(){if(vj)return km;vj=1;var e=Tr(),t=os(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return km=a,km}var Em,xj;function Ga(){if(xj)return Em;xj=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Em=e,Em}var Cm,bj;function ab(){if(bj)return Cm;bj=1;var e=ca(),t=Ga(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function c(u){if(!t(u))return!1;var f=e(u);return f==n||f==a||f==r||f==s}return Cm=c,Cm}var Tm,wj;function KD(){if(wj)return Tm;wj=1;var e=Fn(),t=e["__core-js_shared__"];return Tm=t,Tm}var Im,jj;function VD(){if(jj)return Im;jj=1;var e=KD(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Im=r,Im}var Mm,Nj;function MA(){if(Nj)return Mm;Nj=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Mm=r,Mm}var Dm,Sj;function GD(){if(Sj)return Dm;Sj=1;var e=ab(),t=VD(),r=Ga(),n=MA(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,p=u.hasOwnProperty,h=RegExp("^"+f.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||t(y))return!1;var b=e(y)?h:s;return b.test(n(y))}return Dm=m,Dm}var $m,Pj;function XD(){if(Pj)return $m;Pj=1;function e(t,r){return t==null?void 0:t[r]}return $m=e,$m}var Rm,Oj;function Mi(){if(Oj)return Rm;Oj=1;var e=GD(),t=XD();function r(n,a){var s=t(n,a);return e(s)?s:void 0}return Rm=r,Rm}var Lm,_j;function Kd(){if(_j)return Lm;_j=1;var e=Mi(),t=e(Object,"create");return Lm=t,Lm}var Fm,Aj;function YD(){if(Aj)return Fm;Aj=1;var e=Kd();function t(){this.__data__=e?e(null):{},this.size=0}return Fm=t,Fm}var qm,kj;function QD(){if(kj)return qm;kj=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return qm=e,qm}var Bm,Ej;function JD(){if(Ej)return Bm;Ej=1;var e=Kd(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var c=this.__data__;if(e){var u=c[s];return u===t?void 0:u}return n.call(c,s)?c[s]:void 0}return Bm=a,Bm}var zm,Cj;function ZD(){if(Cj)return zm;Cj=1;var e=Kd(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var s=this.__data__;return e?s[a]!==void 0:r.call(s,a)}return zm=n,zm}var Um,Tj;function e3(){if(Tj)return Um;Tj=1;var e=Kd(),t="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&a===void 0?t:a,this}return Um=r,Um}var Wm,Ij;function t3(){if(Ij)return Wm;Ij=1;var e=YD(),t=QD(),r=JD(),n=ZD(),a=e3();function s(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Wm=s,Wm}var Hm,Mj;function r3(){if(Mj)return Hm;Mj=1;function e(){this.__data__=[],this.size=0}return Hm=e,Hm}var Km,Dj;function ib(){if(Dj)return Km;Dj=1;function e(t,r){return t===r||t!==t&&r!==r}return Km=e,Km}var Vm,$j;function Vd(){if($j)return Vm;$j=1;var e=ib();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Vm=t,Vm}var Gm,Rj;function n3(){if(Rj)return Gm;Rj=1;var e=Vd(),t=Array.prototype,r=t.splice;function n(a){var s=this.__data__,c=e(s,a);if(c<0)return!1;var u=s.length-1;return c==u?s.pop():r.call(s,c,1),--this.size,!0}return Gm=n,Gm}var Xm,Lj;function a3(){if(Lj)return Xm;Lj=1;var e=Vd();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Xm=t,Xm}var Ym,Fj;function i3(){if(Fj)return Ym;Fj=1;var e=Vd();function t(r){return e(this.__data__,r)>-1}return Ym=t,Ym}var Qm,qj;function o3(){if(qj)return Qm;qj=1;var e=Vd();function t(r,n){var a=this.__data__,s=e(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Qm=t,Qm}var Jm,Bj;function Gd(){if(Bj)return Jm;Bj=1;var e=r3(),t=n3(),r=a3(),n=i3(),a=o3();function s(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Jm=s,Jm}var Zm,zj;function ob(){if(zj)return Zm;zj=1;var e=Mi(),t=Fn(),r=e(t,"Map");return Zm=r,Zm}var eh,Uj;function s3(){if(Uj)return eh;Uj=1;var e=t3(),t=Gd(),r=ob();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return eh=n,eh}var th,Wj;function l3(){if(Wj)return th;Wj=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return th=e,th}var rh,Hj;function Xd(){if(Hj)return rh;Hj=1;var e=l3();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return rh=t,rh}var nh,Kj;function c3(){if(Kj)return nh;Kj=1;var e=Xd();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return nh=t,nh}var ah,Vj;function u3(){if(Vj)return ah;Vj=1;var e=Xd();function t(r){return e(this,r).get(r)}return ah=t,ah}var ih,Gj;function d3(){if(Gj)return ih;Gj=1;var e=Xd();function t(r){return e(this,r).has(r)}return ih=t,ih}var oh,Xj;function f3(){if(Xj)return oh;Xj=1;var e=Xd();function t(r,n){var a=e(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return oh=t,oh}var sh,Yj;function sb(){if(Yj)return sh;Yj=1;var e=s3(),t=c3(),r=u3(),n=d3(),a=f3();function s(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var p=c[u];this.set(p[0],p[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,sh=s,sh}var lh,Qj;function DA(){if(Qj)return lh;Qj=1;var e=sb(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var c=arguments,u=a?a.apply(this,c):c[0],f=s.cache;if(f.has(u))return f.get(u);var p=n.apply(this,c);return s.cache=f.set(u,p)||f,p};return s.cache=new(r.Cache||e),s}return r.Cache=e,lh=r,lh}var ch,Jj;function p3(){if(Jj)return ch;Jj=1;var e=DA(),t=500;function r(n){var a=e(n,function(c){return s.size===t&&s.clear(),c}),s=a.cache;return a}return ch=r,ch}var uh,Zj;function m3(){if(Zj)return uh;Zj=1;var e=p3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(c,u,f,p){s.push(f?p.replace(r,"$1"):u||c)}),s});return uh=n,uh}var dh,eN;function lb(){if(eN)return dh;eN=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=Array(a);++n<a;)s[n]=r(t[n],n,t);return s}return dh=e,dh}var fh,tN;function h3(){if(tN)return fh;tN=1;var e=oc(),t=lb(),r=Tr(),n=os(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return t(u,c)+"";if(n(u))return s?s.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return fh=c,fh}var ph,rN;function $A(){if(rN)return ph;rN=1;var e=h3();function t(r){return r==null?"":e(r)}return ph=t,ph}var mh,nN;function RA(){if(nN)return mh;nN=1;var e=Tr(),t=nb(),r=m3(),n=$A();function a(s,c){return e(s)?s:t(s,c)?[s]:r(n(s))}return mh=a,mh}var hh,aN;function Yd(){if(aN)return hh;aN=1;var e=os();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return hh=t,hh}var gh,iN;function cb(){if(iN)return gh;iN=1;var e=RA(),t=Yd();function r(n,a){a=e(a,n);for(var s=0,c=a.length;n!=null&&s<c;)n=n[t(a[s++])];return s&&s==c?n:void 0}return gh=r,gh}var yh,oN;function LA(){if(oN)return yh;oN=1;var e=cb();function t(r,n,a){var s=r==null?void 0:e(r,n);return s===void 0?a:s}return yh=t,yh}var g3=LA();const Ur=ct(g3);var vh,sN;function y3(){if(sN)return vh;sN=1;function e(t){return t==null}return vh=e,vh}var v3=y3();const Ue=ct(v3);var xh,lN;function x3(){if(lN)return xh;lN=1;var e=ca(),t=Tr(),r=ua(),n="[object String]";function a(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return xh=a,xh}var b3=x3();const sc=ct(b3);var w3=ab();const ze=ct(w3);var j3=Ga();const ss=ct(j3);var bh={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function N3(){if(cN)return st;cN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(v){if(typeof v=="object"&&v!==null){var O=v.$$typeof;switch(O){case e:switch(v=v.type,v){case r:case a:case n:case p:case h:return v;default:switch(v=v&&v.$$typeof,v){case u:case c:case f:case y:case m:case s:return v;default:return O}}case t:return O}}}return st.ContextConsumer=c,st.ContextProvider=s,st.Element=e,st.ForwardRef=f,st.Fragment=r,st.Lazy=y,st.Memo=m,st.Portal=t,st.Profiler=a,st.StrictMode=n,st.Suspense=p,st.SuspenseList=h,st.isAsyncMode=function(){return!1},st.isConcurrentMode=function(){return!1},st.isContextConsumer=function(v){return w(v)===c},st.isContextProvider=function(v){return w(v)===s},st.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},st.isForwardRef=function(v){return w(v)===f},st.isFragment=function(v){return w(v)===r},st.isLazy=function(v){return w(v)===y},st.isMemo=function(v){return w(v)===m},st.isPortal=function(v){return w(v)===t},st.isProfiler=function(v){return w(v)===a},st.isStrictMode=function(v){return w(v)===n},st.isSuspense=function(v){return w(v)===p},st.isSuspenseList=function(v){return w(v)===h},st.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===a||v===n||v===p||v===h||v===b||typeof v=="object"&&v!==null&&(v.$$typeof===y||v.$$typeof===m||v.$$typeof===s||v.$$typeof===c||v.$$typeof===f||v.$$typeof===j||v.getModuleId!==void 0)},st.typeOf=w,st}var uN;function S3(){return uN||(uN=1,bh.exports=N3()),bh.exports}var P3=S3(),wh,dN;function FA(){if(dN)return wh;dN=1;var e=ca(),t=ua(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return wh=n,wh}var jh,fN;function O3(){if(fN)return jh;fN=1;var e=FA();function t(r){return e(r)&&r!=+r}return jh=t,jh}var _3=O3();const ls=ct(_3);var A3=FA();const k3=ct(A3);var xr=function(t){return t===0?0:t>0?1:-1},xi=function(t){return sc(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return k3(t)&&!ls(t)},zt=function(t){return Ne(t)||sc(t)},E3=0,Xa=function(t){var r=++E3;return"".concat(t||"").concat(r)},br=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!sc(t))return n;var s;if(xi(t)){var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return ls(s)&&(s=n),a&&s>r&&(s=r),s},La=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},C3=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ot=function(t,r){return Ne(t)&&Ne(r)?function(n){return t+n*(r-t)}:function(){return r}};function zu(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ur(n,t))===r})}var T3=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,s=0,c=0,u=1/0,f=-1/0,p=0,h=0,m=0;m<r;m++)p=t[m].cx||0,h=t[m].cy||0,n+=p,a+=h,s+=p*h,c+=p*p,u=Math.min(u,p),f=Math.max(f,p);var y=r*c!==n*n?(r*s-n*a)/(r*c-n*n):0;return{xmin:u,xmax:f,a:y,b:(a-y*n)/r}};function Oo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}var I3=["viewBox","children"],M3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pN=["points","pathLength"],Nh={svg:I3,polygon:pN,polyline:pN},ub=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uu=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(D.isValidElement(t)&&(n=t.props),!ss(n))return null;var a={};return Object.keys(n).forEach(function(s){ub.includes(s)&&(a[s]=r||function(c){return n[s](n,c)})}),a},D3=function(t,r,n){return function(a){return t(r,n,a),null}},Ha=function(t,r,n){if(!ss(t)||Ev(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var c=t[s];ub.includes(s)&&typeof c=="function"&&(a||(a={}),a[s]=D3(c,r,n))}),a},$3=["children"],R3=["children"];function mN(e,t){if(e==null)return{};var r=L3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}var hN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},na=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gN=null,Sh=null,db=function e(t){if(t===gN&&Array.isArray(Sh))return Sh;var r=[];return D.Children.forEach(t,function(n){Ue(n)||(P3.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Sh=r,gN=t,r};function jr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return na(a)}):n=[na(t)],db(e).forEach(function(a){var s=Ur(a,"type.displayName")||Ur(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Br(e,t){var r=jr(e,t);return r&&r[0]}var yN=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ne(n)||n<=0||!Ne(a)||a<=0)},F3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],q3=function(t){return t&&t.type&&sc(t.type)&&F3.indexOf(t.type)>=0},qA=function(t){return t&&Cv(t)==="object"&&"clipDot"in t},B3=function(t,r,n,a){var s,c=(s=Nh==null?void 0:Nh[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ze(t)&&(a&&c.includes(r)||M3.includes(r))||n&&ub.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(D.isValidElement(t)&&(a=t.props),!ss(a))return null;var s={};return Object.keys(a).forEach(function(c){var u;B3((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(s[c]=a[c])}),s},Tv=function e(t,r){if(t===r)return!0;var n=D.Children.count(t);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return vN(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],c=r[a];if(Array.isArray(s)||Array.isArray(c)){if(!e(s,c))return!1}else if(!vN(s,c))return!1}return!0},vN=function(t,r){if(Ue(t)&&Ue(r))return!0;if(!Ue(t)&&!Ue(r)){var n=t.props||{},a=n.children,s=mN(n,$3),c=r.props||{},u=c.children,f=mN(c,R3);return a&&u?Oo(s,f)&&Tv(a,u):!a&&!u?Oo(s,f):!1}return!1},xN=function(t,r){var n=[],a={};return db(t).forEach(function(s,c){if(q3(s))n.push(s);else if(s){var u=na(s.type),f=r[u]||{},p=f.handler,h=f.once;if(p&&(!h||!a[u])){var m=p(s,u,c);n.push(m),a[u]=!0}}}),n},z3=function(t){var r=t&&t.type;return r&&hN[r]?hN[r]:null},U3=function(t,r){return db(r).indexOf(t)},W3=["children","width","height","viewBox","className","style","title","desc"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(this,arguments)}function H3(e,t){if(e==null)return{};var r=K3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mv(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,c=e.style,u=e.title,f=e.desc,p=H3(e,W3),h=a||{width:r,height:n,x:0,y:0},m=Xe("recharts-surface",s);return M.createElement("svg",Iv({},De(p,!0,"svg"),{className:m,width:r,height:n,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),M.createElement("title",null,u),M.createElement("desc",null,f),t)}var V3=["children","className"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function G3(e,t){if(e==null)return{};var r=X3(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ye=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=G3(e,V3),s=Xe("recharts-layer",n);return M.createElement("g",Dv({className:s},De(a,!0),{ref:t}),r)}),wn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Ph,bN;function Y3(){if(bN)return Ph;bN=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++a<s;)c[a]=t[a+r];return c}return Ph=e,Ph}var Oh,wN;function Q3(){if(wN)return Oh;wN=1;var e=Y3();function t(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:e(r,n,a)}return Oh=t,Oh}var _h,jN;function BA(){if(jN)return _h;jN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+a+s+"]");function f(p){return u.test(p)}return _h=f,_h}var Ah,NN;function J3(){if(NN)return Ah;NN=1;function e(t){return t.split("")}return Ah=e,Ah}var kh,SN;function Z3(){if(SN)return kh;SN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",c="["+e+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",p="(?:"+u+"|"+f+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",j=p+"?",w="["+s+"]?",v="(?:"+b+"(?:"+[h,m,y].join("|")+")"+w+j+")*",O=w+j+v,_="(?:"+[h+u+"?",u,m,y,c].join("|")+")",A=RegExp(f+"(?="+f+")|"+_+O,"g");function k(P){return P.match(A)||[]}return kh=k,kh}var Eh,PN;function e$(){if(PN)return Eh;PN=1;var e=J3(),t=BA(),r=Z3();function n(a){return t(a)?r(a):e(a)}return Eh=n,Eh}var Ch,ON;function t$(){if(ON)return Ch;ON=1;var e=Q3(),t=BA(),r=e$(),n=$A();function a(s){return function(c){c=n(c);var u=t(c)?r(c):void 0,f=u?u[0]:c.charAt(0),p=u?e(u,1).join(""):c.slice(1);return f[s]()+p}}return Ch=a,Ch}var Th,_N;function r$(){if(_N)return Th;_N=1;var e=t$(),t=e("toUpperCase");return Th=t,Th}var n$=r$();const Qd=ct(n$);function gt(e){return function(){return e}}const zA=Math.cos,Wu=Math.sin,Sn=Math.sqrt,Hu=Math.PI,Jd=2*Hu,$v=Math.PI,Rv=2*$v,hi=1e-6,a$=Rv-hi;function UA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function i$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UA;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class o${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UA:i$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,c){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,f=n-t,p=a-r,h=c-t,m=u-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>hi)if(!(Math.abs(m*f-p*h)>hi)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,j=a-u,w=f*f+p*p,v=b*b+j*j,O=Math.sqrt(w),_=Math.sqrt(y),A=s*Math.tan(($v-Math.acos((w+y-v)/(2*O*_)))/2),k=A/_,P=A/O;Math.abs(k-1)>hi&&this._append`L${t+k*h},${r+k*m}`,this._append`A${s},${s},0,0,${+(m*b>h*j)},${this._x1=t+P*f},${this._y1=r+P*p}`}}arc(t,r,n,a,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),p=t+u,h=r+f,m=1^c,y=c?a-s:s-a;this._x1===null?this._append`M${p},${h}`:(Math.abs(this._x1-p)>hi||Math.abs(this._y1-h)>hi)&&this._append`L${p},${h}`,n&&(y<0&&(y=y%Rv+Rv),y>a$?this._append`A${n},${n},0,1,${m},${t-u},${r-f}A${n},${n},0,1,${m},${this._x1=p},${this._y1=h}`:y>hi&&this._append`A${n},${n},0,${+(y>=$v)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new o$(t)}function pb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WA(e){this._context=e}WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zd(e){return new WA(e)}function HA(e){return e[0]}function KA(e){return e[1]}function VA(e,t){var r=gt(!0),n=null,a=Zd,s=null,c=fb(u);e=typeof e=="function"?e:e===void 0?HA:gt(e),t=typeof t=="function"?t:t===void 0?KA:gt(t);function u(f){var p,h=(f=pb(f)).length,m,y=!1,b;for(n==null&&(s=a(b=c())),p=0;p<=h;++p)!(p<h&&r(m=f[p],p,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(m,p,f),+t(m,p,f));if(b)return s=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:gt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:gt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:gt(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function Su(e,t,r){var n=null,a=gt(!0),s=null,c=Zd,u=null,f=fb(p);e=typeof e=="function"?e:e===void 0?HA:gt(+e),t=typeof t=="function"?t:gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KA:gt(+r);function p(m){var y,b,j,w=(m=pb(m)).length,v,O=!1,_,A=new Array(w),k=new Array(w);for(s==null&&(u=c(_=f())),y=0;y<=w;++y){if(!(y<w&&a(v=m[y],y,m))===O)if(O=!O)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=b;--j)u.point(A[j],k[j]);u.lineEnd(),u.areaEnd()}O&&(A[y]=+e(v,y,m),k[y]=+t(v,y,m),u.point(n?+n(v,y,m):A[y],r?+r(v,y,m):k[y]))}if(_)return u=null,_+""||null}function h(){return VA().defined(a).curve(c).context(s)}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),n=null,p):e},p.x0=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),p):e},p.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:gt(+m),p):n},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),r=null,p):t},p.y0=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),p):t},p.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:gt(+m),p):r},p.lineX0=p.lineY0=function(){return h().x(e).y(t)},p.lineY1=function(){return h().x(e).y(r)},p.lineX1=function(){return h().x(n).y(t)},p.defined=function(m){return arguments.length?(a=typeof m=="function"?m:gt(!!m),p):a},p.curve=function(m){return arguments.length?(c=m,s!=null&&(u=c(s)),p):c},p.context=function(m){return arguments.length?(m==null?s=u=null:u=c(s=m),p):s},p}class GA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s$(e){return new GA(e,!0)}function l$(e){return new GA(e,!1)}const mb={draw(e,t){const r=Sn(t/Hu);e.moveTo(r,0),e.arc(0,0,r,0,Jd)}},c$={draw(e,t){const r=Sn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},XA=Sn(1/3),u$=XA*2,d$={draw(e,t){const r=Sn(t/u$),n=r*XA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},f$={draw(e,t){const r=Sn(t),n=-r/2;e.rect(n,n,r,r)}},p$=.8908130915292852,YA=Wu(Hu/10)/Wu(7*Hu/10),m$=Wu(Jd/10)*YA,h$=-zA(Jd/10)*YA,g$={draw(e,t){const r=Sn(t*p$),n=m$*r,a=h$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const c=Jd*s/5,u=zA(c),f=Wu(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},Ih=Sn(3),y$={draw(e,t){const r=-Sn(t/(Ih*3));e.moveTo(0,r*2),e.lineTo(-Ih*r,-r),e.lineTo(Ih*r,-r),e.closePath()}},Qr=-.5,Jr=Sn(3)/2,Lv=1/Sn(12),v$=(Lv/2+1)*3,x$={draw(e,t){const r=Sn(t/v$),n=r/2,a=r*Lv,s=n,c=r*Lv+r,u=-s,f=c;e.moveTo(n,a),e.lineTo(s,c),e.lineTo(u,f),e.lineTo(Qr*n-Jr*a,Jr*n+Qr*a),e.lineTo(Qr*s-Jr*c,Jr*s+Qr*c),e.lineTo(Qr*u-Jr*f,Jr*u+Qr*f),e.lineTo(Qr*n+Jr*a,Qr*a-Jr*n),e.lineTo(Qr*s+Jr*c,Qr*c-Jr*s),e.lineTo(Qr*u+Jr*f,Qr*f-Jr*u),e.closePath()}};function b$(e,t){let r=null,n=fb(a);e=typeof e=="function"?e:gt(e||mb),t=typeof t=="function"?t:gt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:gt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:gt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ku(){}function Vu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QA(e){this._context=e}QA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w$(e){return new QA(e)}function JA(e){this._context=e}JA.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j$(e){return new JA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Vu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N$(e){return new ZA(e)}function ek(e){this._context=e}ek.prototype={areaStart:Ku,areaEnd:Ku,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S$(e){return new ek(e)}function AN(e){return e<0?-1:1}function kN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(AN(s)+AN(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function EN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Mh(e,t,r){var n=e._x0,a=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,c-u*r,s,c)}function Gu(e){this._context=e}Gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mh(this,this._t0,EN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Mh(this,EN(this,r=kN(this,e,t)),r);break;default:Mh(this,this._t0,r=kN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tk(e){this._context=new rk(e)}(tk.prototype=Object.create(Gu.prototype)).point=function(e,t){Gu.prototype.point.call(this,t,e)};function rk(e){this._context=e}rk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function P$(e){return new Gu(e)}function O$(e){return new tk(e)}function nk(e){this._context=e}nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=CN(e),a=CN(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CN(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(a[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function _$(e){return new nk(e)}function ef(e,t){this._context=e,this._t=t}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function A$(e){return new ef(e,.5)}function k$(e){return new ef(e,0)}function E$(e){return new ef(e,1)}function Eo(e,t){if((c=e.length)>1)for(var r=1,n,a,s=e[t[0]],c,u=s.length;r<c;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Fv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function C$(e,t){return e[t]}function T$(e){const t=[];return t.key=e,t}function I$(){var e=gt([]),t=Fv,r=Eo,n=C$;function a(s){var c=Array.from(e.apply(this,arguments),T$),u,f=c.length,p=-1,h;for(const m of s)for(u=0,++p;u<f;++u)(c[u][p]=[0,+n(m,c[u].key,p,s)]).data=m;for(u=0,h=pb(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:gt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:gt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Fv:typeof s=="function"?s:gt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Eo,a):r},a}function M$(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=e[r][a][1]||0;if(c)for(r=0;r<n;++r)e[r][a][1]/=c}Eo(e,t)}}function D$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Eo(e,t)}}function $$(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,f=0,p=0;u<c;++u){for(var h=e[t[u]],m=h[n][1]||0,y=h[n-1][1]||0,b=(m-y)/2,j=0;j<u;++j){var w=e[t[j]],v=w[n][1]||0,O=w[n-1][1]||0;b+=v-O}f+=m,p+=b*m}a[n-1][1]+=a[n-1][0]=r,f&&(r-=p/f)}a[n-1][1]+=a[n-1][0]=r,Eo(e,t)}}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}var R$=["type","size","sizeType"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){L$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t,r){return t=F$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F$(e){var t=q$(e,"string");return Nl(t)=="symbol"?t:t+""}function q$(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B$(e,t){if(e==null)return{};var r=z$(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ak={symbolCircle:mb,symbolCross:c$,symbolDiamond:d$,symbolSquare:f$,symbolStar:g$,symbolTriangle:y$,symbolWye:x$},U$=Math.PI/180,W$=function(t){var r="symbol".concat(Qd(t));return ak[r]||mb},H$=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*U$;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K$=function(t,r){ak["symbol".concat(Qd(t))]=r},tf=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,c=t.sizeType,u=c===void 0?"area":c,f=B$(t,R$),p=IN(IN({},f),{},{type:n,size:s,sizeType:u}),h=function(){var v=W$(n),O=b$().type(v).size(H$(s,u,n));return O()},m=p.className,y=p.cx,b=p.cy,j=De(p,!0);return y===+y&&b===+b&&s===+s?M.createElement("path",qv({},j,{className:Xe("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};tf.registerSymbol=K$;function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ok(n.key),n)}}function Y$(e,t,r){return t&&X$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q$(e,t,r){return t=Xu(t),J$(e,ik()?Reflect.construct(t,r||[],Xu(e).constructor):t.apply(e,r))}function J$(e,t){if(t&&(Co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$(e)}function Z$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!e})()}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xu(e)}function eR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zv(e,t)}function zv(e,t){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zv(e,t)}function Sl(e,t,r){return t=ok(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ok(e){var t=tR(e,"string");return Co(t)=="symbol"?t:t+""}function tR(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zr=32,hb=(function(e){function t(){return G$(this,t),Q$(this,t,arguments)}return eR(t,e),Y$(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Zr/2,c=Zr/6,u=Zr/3,f=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Zr,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Zr,"M").concat(2*u,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var p=V$({},n);return delete p.legendIcon,M.cloneElement(n.legendIcon,p)}return M.createElement(tf,{fill:f,cx:s,cy:s,size:Zr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,c=a.iconSize,u=a.layout,f=a.formatter,p=a.inactiveColor,h={x:0,y:0,width:Zr,height:Zr},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,j){var w=b.formatter||f,v=Xe(Sl(Sl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=ze(b.value)?null:b.value;wn(!ze(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=b.inactive?p:b.color;return M.createElement("li",Bv({className:v,style:m,key:"legend-item-".concat(j)},Ha(n.props,b,j)),M.createElement(Mv,{width:c,height:c,viewBox:h,style:y},n.renderIcon(b)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w?w(O,b,j):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(D.PureComponent);Sl(hb,"displayName","Legend");Sl(hb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dh,DN;function rR(){if(DN)return Dh;DN=1;var e=Gd();function t(){this.__data__=new e,this.size=0}return Dh=t,Dh}var $h,$N;function nR(){if($N)return $h;$N=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return $h=e,$h}var Rh,RN;function aR(){if(RN)return Rh;RN=1;function e(t){return this.__data__.get(t)}return Rh=e,Rh}var Lh,LN;function iR(){if(LN)return Lh;LN=1;function e(t){return this.__data__.has(t)}return Lh=e,Lh}var Fh,FN;function oR(){if(FN)return Fh;FN=1;var e=Gd(),t=ob(),r=sb(),n=200;function a(s,c){var u=this.__data__;if(u instanceof e){var f=u.__data__;if(!t||f.length<n-1)return f.push([s,c]),this.size=++u.size,this;u=this.__data__=new r(f)}return u.set(s,c),this.size=u.size,this}return Fh=a,Fh}var qh,qN;function sk(){if(qN)return qh;qN=1;var e=Gd(),t=rR(),r=nR(),n=aR(),a=iR(),s=oR();function c(u){var f=this.__data__=new e(u);this.size=f.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=s,qh=c,qh}var Bh,BN;function sR(){if(BN)return Bh;BN=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Bh=t,Bh}var zh,zN;function lR(){if(zN)return zh;zN=1;function e(t){return this.__data__.has(t)}return zh=e,zh}var Uh,UN;function lk(){if(UN)return Uh;UN=1;var e=sb(),t=sR(),r=lR();function n(a){var s=-1,c=a==null?0:a.length;for(this.__data__=new e;++s<c;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Uh=n,Uh}var Wh,WN;function ck(){if(WN)return Wh;WN=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return Wh=e,Wh}var Hh,HN;function uk(){if(HN)return Hh;HN=1;function e(t,r){return t.has(r)}return Hh=e,Hh}var Kh,KN;function dk(){if(KN)return Kh;KN=1;var e=lk(),t=ck(),r=uk(),n=1,a=2;function s(c,u,f,p,h,m){var y=f&n,b=c.length,j=u.length;if(b!=j&&!(y&&j>b))return!1;var w=m.get(c),v=m.get(u);if(w&&v)return w==u&&v==c;var O=-1,_=!0,A=f&a?new e:void 0;for(m.set(c,u),m.set(u,c);++O<b;){var k=c[O],P=u[O];if(p)var S=y?p(P,k,O,u,c,m):p(k,P,O,c,u,m);if(S!==void 0){if(S)continue;_=!1;break}if(A){if(!t(u,function(C,T){if(!r(A,T)&&(k===C||h(k,C,f,p,m)))return A.push(T)})){_=!1;break}}else if(!(k===P||h(k,P,f,p,m))){_=!1;break}}return m.delete(c),m.delete(u),_}return Kh=s,Kh}var Vh,VN;function cR(){if(VN)return Vh;VN=1;var e=Fn(),t=e.Uint8Array;return Vh=t,Vh}var Gh,GN;function uR(){if(GN)return Gh;GN=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return Gh=e,Gh}var Xh,XN;function gb(){if(XN)return Xh;XN=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Xh=e,Xh}var Yh,YN;function dR(){if(YN)return Yh;YN=1;var e=oc(),t=cR(),r=ib(),n=dk(),a=uR(),s=gb(),c=1,u=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",j="[object Set]",w="[object String]",v="[object Symbol]",O="[object ArrayBuffer]",_="[object DataView]",A=e?e.prototype:void 0,k=A?A.valueOf:void 0;function P(S,C,T,q,H,F,L){switch(T){case _:if(S.byteLength!=C.byteLength||S.byteOffset!=C.byteOffset)return!1;S=S.buffer,C=C.buffer;case O:return!(S.byteLength!=C.byteLength||!F(new t(S),new t(C)));case f:case p:case y:return r(+S,+C);case h:return S.name==C.name&&S.message==C.message;case b:case w:return S==C+"";case m:var Y=a;case j:var G=q&c;if(Y||(Y=s),S.size!=C.size&&!G)return!1;var te=L.get(S);if(te)return te==C;q|=u,L.set(S,C);var U=n(Y(S),Y(C),q,H,F,L);return L.delete(S),U;case v:if(k)return k.call(S)==k.call(C)}return!1}return Yh=P,Yh}var Qh,QN;function fk(){if(QN)return Qh;QN=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return Qh=e,Qh}var Jh,JN;function fR(){if(JN)return Jh;JN=1;var e=fk(),t=Tr();function r(n,a,s){var c=a(n);return t(n)?c:e(c,s(n))}return Jh=r,Jh}var Zh,ZN;function pR(){if(ZN)return Zh;ZN=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,c=[];++n<a;){var u=t[n];r(u,n,t)&&(c[s++]=u)}return c}return Zh=e,Zh}var eg,eS;function mR(){if(eS)return eg;eS=1;function e(){return[]}return eg=e,eg}var tg,tS;function hR(){if(tS)return tg;tS=1;var e=pR(),t=mR(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(c){return c==null?[]:(c=Object(c),e(a(c),function(u){return n.call(c,u)}))}:t;return tg=s,tg}var rg,rS;function gR(){if(rS)return rg;rS=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return rg=e,rg}var ng,nS;function yR(){if(nS)return ng;nS=1;var e=ca(),t=ua(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return ng=n,ng}var ag,aS;function yb(){if(aS)return ag;aS=1;var e=yR(),t=ua(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return ag=s,ag}var ll={exports:{}},ig,iS;function vR(){if(iS)return ig;iS=1;function e(){return!1}return ig=e,ig}ll.exports;var oS;function pk(){return oS||(oS=1,(function(e,t){var r=Fn(),n=vR(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,c=s&&s.exports===a,u=c?r.Buffer:void 0,f=u?u.isBuffer:void 0,p=f||n;e.exports=p})(ll,ll.exports)),ll.exports}var og,sS;function vb(){if(sS)return og;sS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return og=r,og}var sg,lS;function xb(){if(lS)return sg;lS=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return sg=t,sg}var lg,cS;function xR(){if(cS)return lg;cS=1;var e=ca(),t=xb(),r=ua(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",j="[object String]",w="[object WeakMap]",v="[object ArrayBuffer]",O="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",P="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",F={};F[_]=F[A]=F[k]=F[P]=F[S]=F[C]=F[T]=F[q]=F[H]=!0,F[n]=F[a]=F[v]=F[s]=F[O]=F[c]=F[u]=F[f]=F[p]=F[h]=F[m]=F[y]=F[b]=F[j]=F[w]=!1;function L(Y){return r(Y)&&t(Y.length)&&!!F[e(Y)]}return lg=L,lg}var cg,uS;function mk(){if(uS)return cg;uS=1;function e(t){return function(r){return t(r)}}return cg=e,cg}var cl={exports:{}};cl.exports;var dS;function bR(){return dS||(dS=1,(function(e,t){var r=IA(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,c=s&&r.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(cl,cl.exports)),cl.exports}var ug,fS;function hk(){if(fS)return ug;fS=1;var e=xR(),t=mk(),r=bR(),n=r&&r.isTypedArray,a=n?t(n):e;return ug=a,ug}var dg,pS;function wR(){if(pS)return dg;pS=1;var e=gR(),t=yb(),r=Tr(),n=pk(),a=vb(),s=hk(),c=Object.prototype,u=c.hasOwnProperty;function f(p,h){var m=r(p),y=!m&&t(p),b=!m&&!y&&n(p),j=!m&&!y&&!b&&s(p),w=m||y||b||j,v=w?e(p.length,String):[],O=v.length;for(var _ in p)(h||u.call(p,_))&&!(w&&(_=="length"||b&&(_=="offset"||_=="parent")||j&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,O)))&&v.push(_);return v}return dg=f,dg}var fg,mS;function jR(){if(mS)return fg;mS=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return fg=t,fg}var pg,hS;function gk(){if(hS)return pg;hS=1;function e(t,r){return function(n){return t(r(n))}}return pg=e,pg}var mg,gS;function NR(){if(gS)return mg;gS=1;var e=gk(),t=e(Object.keys,Object);return mg=t,mg}var hg,yS;function SR(){if(yS)return hg;yS=1;var e=jR(),t=NR(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var c=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&c.push(u);return c}return hg=a,hg}var gg,vS;function lc(){if(vS)return gg;vS=1;var e=ab(),t=xb();function r(n){return n!=null&&t(n.length)&&!e(n)}return gg=r,gg}var yg,xS;function rf(){if(xS)return yg;xS=1;var e=wR(),t=SR(),r=lc();function n(a){return r(a)?e(a):t(a)}return yg=n,yg}var vg,bS;function PR(){if(bS)return vg;bS=1;var e=fR(),t=hR(),r=rf();function n(a){return e(a,r,t)}return vg=n,vg}var xg,wS;function OR(){if(wS)return xg;wS=1;var e=PR(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,c,u,f,p,h){var m=u&t,y=e(s),b=y.length,j=e(c),w=j.length;if(b!=w&&!m)return!1;for(var v=b;v--;){var O=y[v];if(!(m?O in c:n.call(c,O)))return!1}var _=h.get(s),A=h.get(c);if(_&&A)return _==c&&A==s;var k=!0;h.set(s,c),h.set(c,s);for(var P=m;++v<b;){O=y[v];var S=s[O],C=c[O];if(f)var T=m?f(C,S,O,c,s,h):f(S,C,O,s,c,h);if(!(T===void 0?S===C||p(S,C,u,f,h):T)){k=!1;break}P||(P=O=="constructor")}if(k&&!P){var q=s.constructor,H=c.constructor;q!=H&&"constructor"in s&&"constructor"in c&&!(typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H)&&(k=!1)}return h.delete(s),h.delete(c),k}return xg=a,xg}var bg,jS;function _R(){if(jS)return bg;jS=1;var e=Mi(),t=Fn(),r=e(t,"DataView");return bg=r,bg}var wg,NS;function AR(){if(NS)return wg;NS=1;var e=Mi(),t=Fn(),r=e(t,"Promise");return wg=r,wg}var jg,SS;function yk(){if(SS)return jg;SS=1;var e=Mi(),t=Fn(),r=e(t,"Set");return jg=r,jg}var Ng,PS;function kR(){if(PS)return Ng;PS=1;var e=Mi(),t=Fn(),r=e(t,"WeakMap");return Ng=r,Ng}var Sg,OS;function ER(){if(OS)return Sg;OS=1;var e=_R(),t=ob(),r=AR(),n=yk(),a=kR(),s=ca(),c=MA(),u="[object Map]",f="[object Object]",p="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",b=c(e),j=c(t),w=c(r),v=c(n),O=c(a),_=s;return(e&&_(new e(new ArrayBuffer(1)))!=y||t&&_(new t)!=u||r&&_(r.resolve())!=p||n&&_(new n)!=h||a&&_(new a)!=m)&&(_=function(A){var k=s(A),P=k==f?A.constructor:void 0,S=P?c(P):"";if(S)switch(S){case b:return y;case j:return u;case w:return p;case v:return h;case O:return m}return k}),Sg=_,Sg}var Pg,_S;function CR(){if(_S)return Pg;_S=1;var e=sk(),t=dk(),r=dR(),n=OR(),a=ER(),s=Tr(),c=pk(),u=hk(),f=1,p="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function j(w,v,O,_,A,k){var P=s(w),S=s(v),C=P?h:a(w),T=S?h:a(v);C=C==p?m:C,T=T==p?m:T;var q=C==m,H=T==m,F=C==T;if(F&&c(w)){if(!c(v))return!1;P=!0,q=!1}if(F&&!q)return k||(k=new e),P||u(w)?t(w,v,O,_,A,k):r(w,v,C,O,_,A,k);if(!(O&f)){var L=q&&b.call(w,"__wrapped__"),Y=H&&b.call(v,"__wrapped__");if(L||Y){var G=L?w.value():w,te=Y?v.value():v;return k||(k=new e),A(G,te,O,_,k)}}return F?(k||(k=new e),n(w,v,O,_,A,k)):!1}return Pg=j,Pg}var Og,AS;function bb(){if(AS)return Og;AS=1;var e=CR(),t=ua();function r(n,a,s,c,u){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,c,r,u)}return Og=r,Og}var _g,kS;function TR(){if(kS)return _g;kS=1;var e=sk(),t=bb(),r=1,n=2;function a(s,c,u,f){var p=u.length,h=p,m=!f;if(s==null)return!h;for(s=Object(s);p--;){var y=u[p];if(m&&y[2]?y[1]!==s[y[0]]:!(y[0]in s))return!1}for(;++p<h;){y=u[p];var b=y[0],j=s[b],w=y[1];if(m&&y[2]){if(j===void 0&&!(b in s))return!1}else{var v=new e;if(f)var O=f(j,w,b,s,c,v);if(!(O===void 0?t(w,j,r|n,f,v):O))return!1}}return!0}return _g=a,_g}var Ag,ES;function vk(){if(ES)return Ag;ES=1;var e=Ga();function t(r){return r===r&&!e(r)}return Ag=t,Ag}var kg,CS;function IR(){if(CS)return kg;CS=1;var e=vk(),t=rf();function r(n){for(var a=t(n),s=a.length;s--;){var c=a[s],u=n[c];a[s]=[c,u,e(u)]}return a}return kg=r,kg}var Eg,TS;function xk(){if(TS)return Eg;TS=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Eg=e,Eg}var Cg,IS;function MR(){if(IS)return Cg;IS=1;var e=TR(),t=IR(),r=xk();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===a||e(c,a,s)}}return Cg=n,Cg}var Tg,MS;function DR(){if(MS)return Tg;MS=1;function e(t,r){return t!=null&&r in Object(t)}return Tg=e,Tg}var Ig,DS;function $R(){if(DS)return Ig;DS=1;var e=RA(),t=yb(),r=Tr(),n=vb(),a=xb(),s=Yd();function c(u,f,p){f=e(f,u);for(var h=-1,m=f.length,y=!1;++h<m;){var b=s(f[h]);if(!(y=u!=null&&p(u,b)))break;u=u[b]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&a(m)&&n(b,m)&&(r(u)||t(u)))}return Ig=c,Ig}var Mg,$S;function RR(){if($S)return Mg;$S=1;var e=DR(),t=$R();function r(n,a){return n!=null&&t(n,a,e)}return Mg=r,Mg}var Dg,RS;function LR(){if(RS)return Dg;RS=1;var e=bb(),t=LA(),r=RR(),n=nb(),a=vk(),s=xk(),c=Yd(),u=1,f=2;function p(h,m){return n(h)&&a(m)?s(c(h),m):function(y){var b=t(y,h);return b===void 0&&b===m?r(y,h):e(m,b,u|f)}}return Dg=p,Dg}var $g,LS;function cs(){if(LS)return $g;LS=1;function e(t){return t}return $g=e,$g}var Rg,FS;function FR(){if(FS)return Rg;FS=1;function e(t){return function(r){return r==null?void 0:r[t]}}return Rg=e,Rg}var Lg,qS;function qR(){if(qS)return Lg;qS=1;var e=cb();function t(r){return function(n){return e(n,r)}}return Lg=t,Lg}var Fg,BS;function BR(){if(BS)return Fg;BS=1;var e=FR(),t=qR(),r=nb(),n=Yd();function a(s){return r(s)?e(n(s)):t(s)}return Fg=a,Fg}var qg,zS;function qn(){if(zS)return qg;zS=1;var e=MR(),t=LR(),r=cs(),n=Tr(),a=BR();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):a(c)}return qg=s,qg}var Bg,US;function bk(){if(US)return Bg;US=1;function e(t,r,n,a){for(var s=t.length,c=n+(a?1:-1);a?c--:++c<s;)if(r(t[c],c,t))return c;return-1}return Bg=e,Bg}var zg,WS;function zR(){if(WS)return zg;WS=1;function e(t){return t!==t}return zg=e,zg}var Ug,HS;function UR(){if(HS)return Ug;HS=1;function e(t,r,n){for(var a=n-1,s=t.length;++a<s;)if(t[a]===r)return a;return-1}return Ug=e,Ug}var Wg,KS;function WR(){if(KS)return Wg;KS=1;var e=bk(),t=zR(),r=UR();function n(a,s,c){return s===s?r(a,s,c):e(a,t,c)}return Wg=n,Wg}var Hg,VS;function HR(){if(VS)return Hg;VS=1;var e=WR();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Hg=t,Hg}var Kg,GS;function KR(){if(GS)return Kg;GS=1;function e(t,r,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(r,t[a]))return!0;return!1}return Kg=e,Kg}var Vg,XS;function VR(){if(XS)return Vg;XS=1;function e(){}return Vg=e,Vg}var Gg,YS;function GR(){if(YS)return Gg;YS=1;var e=yk(),t=VR(),r=gb(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Gg=a,Gg}var Xg,QS;function XR(){if(QS)return Xg;QS=1;var e=lk(),t=HR(),r=KR(),n=uk(),a=GR(),s=gb(),c=200;function u(f,p,h){var m=-1,y=t,b=f.length,j=!0,w=[],v=w;if(h)j=!1,y=r;else if(b>=c){var O=p?null:a(f);if(O)return s(O);j=!1,y=n,v=new e}else v=p?[]:w;e:for(;++m<b;){var _=f[m],A=p?p(_):_;if(_=h||_!==0?_:0,j&&A===A){for(var k=v.length;k--;)if(v[k]===A)continue e;p&&v.push(A),w.push(_)}else y(v,A,h)||(v!==w&&v.push(A),w.push(_))}return w}return Xg=u,Xg}var Yg,JS;function YR(){if(JS)return Yg;JS=1;var e=qn(),t=XR();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Yg=r,Yg}var QR=YR();const ZS=ct(QR);function wk(e,t,r){return t===!0?ZS(e,r):ze(t)?ZS(e,t):e}function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}var JR=["ref"];function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nk(n.key),n)}}function e5(e,t,r){return t&&t2(e.prototype,t),r&&t2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t5(e,t,r){return t=Yu(t),r5(e,jk()?Reflect.construct(t,r||[],Yu(e).constructor):t.apply(e,r))}function r5(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n5(e)}function n5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jk=function(){return!!e})()}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yu(e)}function a5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uv(e,t)}function Uv(e,t){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uv(e,t)}function nf(e,t,r){return t=Nk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nk(e){var t=i5(e,"string");return To(t)=="symbol"?t:t+""}function i5(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o5(e,t){if(e==null)return{};var r=s5(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l5(e){return e.value}function c5(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=o5(t,JR);return M.createElement(hb,r)}var r2=1,Oi=(function(e){function t(){var r;ZR(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=t5(this,t,[].concat(a)),nf(r,"lastBoundingBox",{width:-1,height:-1}),r}return a5(t,e),e5(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>r2||Math.abs(a.height-this.lastBoundingBox.height)>r2)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,c=a.align,u=a.verticalAlign,f=a.margin,p=a.chartWidth,h=a.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();m={left:((p||0)-b.width)/2}}else m=c==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();y={top:((h||0)-j.height)/2}}else y=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Qn(Qn({},m),y)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,c=a.width,u=a.height,f=a.wrapperStyle,p=a.payloadUniqBy,h=a.payload,m=Qn(Qn({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return M.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},c5(s,Qn(Qn({},this.props),{},{payload:wk(h,p,l5)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Qn(Qn({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&Ne(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(D.PureComponent);nf(Oi,"displayName","Legend");nf(Oi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qg,n2;function u5(){if(n2)return Qg;n2=1;var e=oc(),t=yb(),r=Tr(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Qg=a,Qg}var Jg,a2;function Sk(){if(a2)return Jg;a2=1;var e=fk(),t=u5();function r(n,a,s,c,u){var f=-1,p=n.length;for(s||(s=t),u||(u=[]);++f<p;){var h=n[f];a>0&&s(h)?a>1?r(h,a-1,s,c,u):e(u,h):c||(u[u.length]=h)}return u}return Jg=r,Jg}var Zg,i2;function d5(){if(i2)return Zg;i2=1;function e(t){return function(r,n,a){for(var s=-1,c=Object(r),u=a(r),f=u.length;f--;){var p=u[t?f:++s];if(n(c[p],p,c)===!1)break}return r}}return Zg=e,Zg}var ey,o2;function f5(){if(o2)return ey;o2=1;var e=d5(),t=e();return ey=t,ey}var ty,s2;function Pk(){if(s2)return ty;s2=1;var e=f5(),t=rf();function r(n,a){return n&&e(n,a,t)}return ty=r,ty}var ry,l2;function p5(){if(l2)return ry;l2=1;var e=lc();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var c=a.length,u=n?c:-1,f=Object(a);(n?u--:++u<c)&&s(f[u],u,f)!==!1;);return a}}return ry=t,ry}var ny,c2;function wb(){if(c2)return ny;c2=1;var e=Pk(),t=p5(),r=t(e);return ny=r,ny}var ay,u2;function Ok(){if(u2)return ay;u2=1;var e=wb(),t=lc();function r(n,a){var s=-1,c=t(n)?Array(n.length):[];return e(n,function(u,f,p){c[++s]=a(u,f,p)}),c}return ay=r,ay}var iy,d2;function m5(){if(d2)return iy;d2=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return iy=e,iy}var oy,f2;function h5(){if(f2)return oy;f2=1;var e=os();function t(r,n){if(r!==n){var a=r!==void 0,s=r===null,c=r===r,u=e(r),f=n!==void 0,p=n===null,h=n===n,m=e(n);if(!p&&!m&&!u&&r>n||u&&f&&h&&!p&&!m||s&&f&&h||!a&&h||!c)return 1;if(!s&&!u&&!m&&r<n||m&&a&&c&&!s&&!u||p&&a&&c||!f&&c||!h)return-1}return 0}return oy=t,oy}var sy,p2;function g5(){if(p2)return sy;p2=1;var e=h5();function t(r,n,a){for(var s=-1,c=r.criteria,u=n.criteria,f=c.length,p=a.length;++s<f;){var h=e(c[s],u[s]);if(h){if(s>=p)return h;var m=a[s];return h*(m=="desc"?-1:1)}}return r.index-n.index}return sy=t,sy}var ly,m2;function y5(){if(m2)return ly;m2=1;var e=lb(),t=cb(),r=qn(),n=Ok(),a=m5(),s=mk(),c=g5(),u=cs(),f=Tr();function p(h,m,y){m.length?m=e(m,function(w){return f(w)?function(v){return t(v,w.length===1?w[0]:w)}:w}):m=[u];var b=-1;m=e(m,s(r));var j=n(h,function(w,v,O){var _=e(m,function(A){return A(w)});return{criteria:_,index:++b,value:w}});return a(j,function(w,v){return c(w,v,y)})}return ly=p,ly}var cy,h2;function v5(){if(h2)return cy;h2=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return cy=e,cy}var uy,g2;function x5(){if(g2)return uy;g2=1;var e=v5(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,f=t(c.length-a,0),p=Array(f);++u<f;)p[u]=c[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=c[u];return h[a]=s(p),e(n,this,h)}}return uy=r,uy}var dy,y2;function b5(){if(y2)return dy;y2=1;function e(t){return function(){return t}}return dy=e,dy}var fy,v2;function _k(){if(v2)return fy;v2=1;var e=Mi(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return fy=t,fy}var py,x2;function w5(){if(x2)return py;x2=1;var e=b5(),t=_k(),r=cs(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return py=n,py}var my,b2;function j5(){if(b2)return my;b2=1;var e=800,t=16,r=Date.now;function n(a){var s=0,c=0;return function(){var u=r(),f=t-(u-c);if(c=u,f>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return my=n,my}var hy,w2;function N5(){if(w2)return hy;w2=1;var e=w5(),t=j5(),r=t(e);return hy=r,hy}var gy,j2;function S5(){if(j2)return gy;j2=1;var e=cs(),t=x5(),r=N5();function n(a,s){return r(t(a,s,e),a+"")}return gy=n,gy}var yy,N2;function af(){if(N2)return yy;N2=1;var e=ib(),t=lc(),r=vb(),n=Ga();function a(s,c,u){if(!n(u))return!1;var f=typeof c;return(f=="number"?t(u)&&r(c,u.length):f=="string"&&c in u)?e(u[c],s):!1}return yy=a,yy}var vy,S2;function P5(){if(S2)return vy;S2=1;var e=Sk(),t=y5(),r=S5(),n=af(),a=r(function(s,c){if(s==null)return[];var u=c.length;return u>1&&n(s,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(s,e(c,1),[])});return vy=a,vy}var O5=P5();const jb=ct(O5);function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function _5(e,t){return C5(e)||E5(e,t)||k5(e,t)||A5()}function A5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(e,t){if(e){if(typeof e=="string")return P2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P2(e,t)}}function P2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function C5(e){if(Array.isArray(e))return e}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){T5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T5(e,t,r){return t=I5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5(e){var t=M5(e,"string");return Pl(t)=="symbol"?t:t+""}function M5(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D5(e){return Array.isArray(e)&&zt(e[0])&&zt(e[1])?e.join(" ~ "):e}var $5=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,c=t.itemStyle,u=c===void 0?{}:c,f=t.labelStyle,p=f===void 0?{}:f,h=t.payload,m=t.formatter,y=t.itemSorter,b=t.wrapperClassName,j=t.labelClassName,w=t.label,v=t.labelFormatter,O=t.accessibilityLayer,_=O===void 0?!1:O,A=function(){if(h&&h.length){var L={padding:0,margin:0},Y=(y?jb(h,y):h).map(function(G,te){if(G.type==="none")return null;var U=xy({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),Q=G.formatter||m||D5,Z=G.value,B=G.name,$=Z,E=B;if(Q&&$!=null&&E!=null){var R=Q(Z,B,G,te,h);if(Array.isArray(R)){var X=_5(R,2);$=X[0],E=X[1]}else $=R}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:U},zt(E)?M.createElement("span",{className:"recharts-tooltip-item-name"},E):null,zt(E)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},$),M.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:L},Y)}return null},k=xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=xy({margin:0},p),S=!Ue(w),C=S?w:"",T=Xe("recharts-default-tooltip",b),q=Xe("recharts-tooltip-label",j);S&&v&&h!==void 0&&h!==null&&(C=v(w,h));var H=_?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Wv({className:T,style:k},H),M.createElement("p",{className:q,style:P},M.isValidElement(C)?C:"".concat(C)),A())};function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Pu(e,t,r){return t=R5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=L5(e,"string");return Ol(t)=="symbol"?t:t+""}function L5(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qs="recharts-tooltip-wrapper",F5={visibility:"hidden"};function q5(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(Qs,Pu(Pu(Pu(Pu({},"".concat(Qs,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat(Qs,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat(Qs,"-bottom"),Ne(n)&&t&&Ne(t.y)&&n>=t.y),"".concat(Qs,"-top"),Ne(n)&&t&&Ne(t.y)&&n<t.y))}function _2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,c=e.reverseDirection,u=e.tooltipDimension,f=e.viewBox,p=e.viewBoxDimension;if(s&&Ne(s[n]))return s[n];var h=r[n]-u-a,m=r[n]+a;if(t[n])return c[n]?h:m;if(c[n]){var y=h,b=f[n];return y<b?Math.max(m,f[n]):Math.max(h,f[n])}var j=m+u,w=f[n]+p;return j>w?Math.max(h,f[n]):Math.max(m,f[n])}function B5(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function z5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,f=e.viewBox,p,h,m;return c.height>0&&c.width>0&&r?(h=_2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),m=_2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),p=B5({translateX:h,translateY:m,useTranslate3d:u})):p=F5,{cssProperties:p,cssClasses:q5({translateX:h,translateY:m,coordinate:r})}}function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){Kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kk(n.key),n)}}function H5(e,t,r){return t&&W5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K5(e,t,r){return t=Qu(t),V5(e,Ak()?Reflect.construct(t,r||[],Qu(e).constructor):t.apply(e,r))}function V5(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G5(e)}function G5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ak=function(){return!!e})()}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qu(e)}function X5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hv(e,t)}function Kv(e,t,r){return t=kk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kk(e){var t=Y5(e,"string");return Io(t)=="symbol"?t:t+""}function Y5(e,t){if(Io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E2=1,Q5=(function(e){function t(){var r;U5(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=K5(this,t,[].concat(a)),Kv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kv(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,f,p,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(p=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&p!==void 0?p:0}})}}),r}return X5(t,e),H5(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E2||Math.abs(n.height-this.state.lastBoundingBox.height)>E2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,p=a.children,h=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,b=a.offset,j=a.position,w=a.reverseDirection,v=a.useTranslate3d,O=a.viewBox,_=a.wrapperStyle,A=z5({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:b,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:O}),k=A.cssClasses,P=A.cssProperties,S=k2(k2({transition:y&&s?"transform ".concat(u,"ms ").concat(f):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},_);return M.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(T){n.wrapperNode=T}},p)}}])})(D.PureComponent),J5=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},da={isSsr:J5()};function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){Nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ck(n.key),n)}}function t6(e,t,r){return t&&e6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r6(e,t,r){return t=Ju(t),n6(e,Ek()?Reflect.construct(t,r||[],Ju(e).constructor):t.apply(e,r))}function n6(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a6(e)}function a6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ek=function(){return!!e})()}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ju(e)}function i6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vv(e,t)}function Nb(e,t,r){return t=Ck(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ck(e){var t=o6(e,"string");return Mo(t)=="symbol"?t:t+""}function o6(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s6(e){return e.dataKey}function l6(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement($5,t)}var fr=(function(e){function t(){return Z5(this,t),r6(this,t,arguments)}return i6(t,e),t6(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,p=a.content,h=a.coordinate,m=a.filterNull,y=a.isAnimationActive,b=a.offset,j=a.payload,w=a.payloadUniqBy,v=a.position,O=a.reverseDirection,_=a.useTranslate3d,A=a.viewBox,k=a.wrapperStyle,P=j??[];m&&P.length&&(P=wk(j.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),w,s6));var S=P.length>0;return M.createElement(Q5,{allowEscapeViewBox:c,animationDuration:u,animationEasing:f,isAnimationActive:y,active:s,coordinate:h,hasPayload:S,offset:b,position:v,reverseDirection:O,useTranslate3d:_,viewBox:A,wrapperStyle:k},l6(p,T2(T2({},this.props),{},{payload:P})))}}])})(D.PureComponent);Nb(fr,"displayName","Tooltip");Nb(fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!da.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var by,I2;function c6(){if(I2)return by;I2=1;var e=Fn(),t=function(){return e.Date.now()};return by=t,by}var wy,M2;function u6(){if(M2)return wy;M2=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return wy=t,wy}var jy,D2;function d6(){if(D2)return jy;D2=1;var e=u6(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return jy=r,jy}var Ny,$2;function Tk(){if($2)return Ny;$2=1;var e=d6(),t=Ga(),r=os(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function f(p){if(typeof p=="number")return p;if(r(p))return n;if(t(p)){var h=typeof p.valueOf=="function"?p.valueOf():p;p=t(h)?h+"":h}if(typeof p!="string")return p===0?p:+p;p=e(p);var m=s.test(p);return m||c.test(p)?u(p.slice(2),m?2:8):a.test(p)?n:+p}return Ny=f,Ny}var Sy,R2;function f6(){if(R2)return Sy;R2=1;var e=Ga(),t=c6(),r=Tk(),n="Expected a function",a=Math.max,s=Math.min;function c(u,f,p){var h,m,y,b,j,w,v=0,O=!1,_=!1,A=!0;if(typeof u!="function")throw new TypeError(n);f=r(f)||0,e(p)&&(O=!!p.leading,_="maxWait"in p,y=_?a(r(p.maxWait)||0,f):y,A="trailing"in p?!!p.trailing:A);function k(Y){var G=h,te=m;return h=m=void 0,v=Y,b=u.apply(te,G),b}function P(Y){return v=Y,j=setTimeout(T,f),O?k(Y):b}function S(Y){var G=Y-w,te=Y-v,U=f-G;return _?s(U,y-te):U}function C(Y){var G=Y-w,te=Y-v;return w===void 0||G>=f||G<0||_&&te>=y}function T(){var Y=t();if(C(Y))return q(Y);j=setTimeout(T,S(Y))}function q(Y){return j=void 0,A&&h?k(Y):(h=m=void 0,b)}function H(){j!==void 0&&clearTimeout(j),v=0,h=w=m=j=void 0}function F(){return j===void 0?b:q(t())}function L(){var Y=t(),G=C(Y);if(h=arguments,m=this,w=Y,G){if(j===void 0)return P(w);if(_)return clearTimeout(j),j=setTimeout(T,f),k(w)}return j===void 0&&(j=setTimeout(T,f)),b}return L.cancel=H,L.flush=F,L}return Sy=c,Sy}var Py,L2;function p6(){if(L2)return Py;L2=1;var e=f6(),t=Ga(),r="Expected a function";function n(a,s,c){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(r);return t(c)&&(u="leading"in c?!!c.leading:u,f="trailing"in c?!!c.trailing:f),e(a,s,{leading:u,maxWait:s,trailing:f})}return Py=n,Py}var m6=p6();const Ik=ct(m6);function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){h6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h6(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=y6(e,"string");return _l(t)=="symbol"?t:t+""}function y6(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v6(e,t){return j6(e)||w6(e,t)||b6(e,t)||x6()}function x6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6(e,t){if(e){if(typeof e=="string")return q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(e,t)}}function q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function j6(e){if(Array.isArray(e))return e}var bi=D.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,c=s===void 0?"100%":s,u=e.height,f=u===void 0?"100%":u,p=e.minWidth,h=p===void 0?0:p,m=e.minHeight,y=e.maxHeight,b=e.children,j=e.debounce,w=j===void 0?0:j,v=e.id,O=e.className,_=e.onResize,A=e.style,k=A===void 0?{}:A,P=D.useRef(null),S=D.useRef();S.current=_,D.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var C=D.useState({containerWidth:a.width,containerHeight:a.height}),T=v6(C,2),q=T[0],H=T[1],F=D.useCallback(function(Y,G){H(function(te){var U=Math.round(Y),Q=Math.round(G);return te.containerWidth===U&&te.containerHeight===Q?te:{containerWidth:U,containerHeight:Q}})},[]);D.useEffect(function(){var Y=function(B){var $,E=B[0].contentRect,R=E.width,X=E.height;F(R,X),($=S.current)===null||$===void 0||$.call(S,R,X)};w>0&&(Y=Ik(Y,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(Y),te=P.current.getBoundingClientRect(),U=te.width,Q=te.height;return F(U,Q),G.observe(P.current),function(){G.disconnect()}},[F,w]);var L=D.useMemo(function(){var Y=q.containerWidth,G=q.containerHeight;if(Y<0||G<0)return null;wn(xi(c)||xi(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,f),wn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var te=xi(c)?Y:c,U=xi(f)?G:f;r&&r>0&&(te?U=te/r:U&&(te=U*r),y&&U>y&&(U=y)),wn(te>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,U,c,f,h,m,r);var Q=!Array.isArray(b)&&na(b.type).endsWith("Chart");return M.Children.map(b,function(Z){return M.isValidElement(Z)?D.cloneElement(Z,Ou({width:te,height:U},Q?{style:Ou({height:"100%",width:"100%",maxHeight:U,maxWidth:te},Z.props.style)}:{})):Z})},[r,b,f,y,m,h,q,c]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Xe("recharts-responsive-container",O),style:Ou(Ou({},k),{},{width:c,height:f,minWidth:h,minHeight:m,maxHeight:y}),ref:P},L)}),us=function(t){return null};us.displayName="Cell";function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(n){N6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t,r){return t=S6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S6(e){var t=P6(e,"string");return Al(t)=="symbol"?t:t+""}function P6(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var co={widthCache:{},cacheCount:0},O6=2e3,_6={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},z2="recharts_measurement_span";function A6(e){var t=Gv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ml=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||da.isSsr)return{width:0,height:0};var n=A6(r),a=JSON.stringify({text:t,copyStyle:n});if(co.widthCache[a])return co.widthCache[a];try{var s=document.getElementById(z2);s||(s=document.createElement("span"),s.setAttribute("id",z2),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=Gv(Gv({},_6),n);Object.assign(s.style,c),s.textContent="".concat(t);var u=s.getBoundingClientRect(),f={width:u.width,height:u.height};return co.widthCache[a]=f,++co.cacheCount>O6&&(co.cacheCount=0,co.widthCache={}),f}catch{return{width:0,height:0}}},k6=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Zu(e,t){return I6(e)||T6(e,t)||C6(e,t)||E6()}function E6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6(e,t){if(e){if(typeof e=="string")return U2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(e,t)}}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function I6(e){if(Array.isArray(e))return e}function M6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$6(n.key),n)}}function D6(e,t,r){return t&&W2(e.prototype,t),r&&W2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $6(e){var t=R6(e,"string");return kl(t)=="symbol"?t:t+""}function R6(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var H2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,F6=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},q6=Object.keys(Mk),yo="NaN";function B6(e,t){return e*Mk[t]}var _u=(function(){function e(t,r){M6(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!L6.test(r)&&(this.num=NaN,this.unit=""),q6.includes(r)&&(this.num=B6(t,r),this.unit="px")}return D6(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=F6.exec(r))!==null&&n!==void 0?n:[],s=Zu(a,3),c=s[1],u=s[2];return new e(parseFloat(c),u??"")}}])})();function Dk(e){if(e.includes(yo))return yo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=H2.exec(t))!==null&&r!==void 0?r:[],a=Zu(n,4),s=a[1],c=a[2],u=a[3],f=_u.parse(s??""),p=_u.parse(u??""),h=c==="*"?f.multiply(p):f.divide(p);if(h.isNaN())return yo;t=t.replace(H2,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,y=(m=K2.exec(t))!==null&&m!==void 0?m:[],b=Zu(y,4),j=b[1],w=b[2],v=b[3],O=_u.parse(j??""),_=_u.parse(v??""),A=w==="+"?O.add(_):O.subtract(_);if(A.isNaN())return yo;t=t.replace(K2,A.toString())}return t}var V2=/\(([^()]*)\)/;function z6(e){for(var t=e;t.includes("(");){var r=V2.exec(t),n=Zu(r,2),a=n[1];t=t.replace(V2,Dk(a))}return t}function U6(e){var t=e.replace(/\s+/g,"");return t=z6(t),t=Dk(t),t}function W6(e){try{return U6(e)}catch{return yo}}function Oy(e){var t=W6(e.slice(5,-1));return t===yo?"":t}var H6=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],K6=["dx","dy","angle","className","breakAll"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function G2(e,t){if(e==null)return{};var r=V6(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X2(e,t){return Q6(e)||Y6(e,t)||X6(e,t)||G6()}function G6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(e,t){if(e){if(typeof e=="string")return Y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y2(e,t)}}function Y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y6(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function Q6(e){if(Array.isArray(e))return e}var $k=/[ \f\n\r\t\v\u2028\u2029]+/,Rk=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Ue(r)||(n?s=r.toString().split(""):s=r.toString().split($k));var c=s.map(function(f){return{word:f,width:ml(f,a).width}}),u=n?0:ml("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},J6=function(t,r,n,a,s){var c=t.maxLines,u=t.children,f=t.style,p=t.breakAll,h=Ne(c),m=u,y=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(U,Q){var Z=Q.word,B=Q.width,$=U[U.length-1];if($&&(a==null||s||$.width+B+n<Number(a)))$.words.push(Z),$.width+=B+n;else{var E={words:[Z],width:B};U.push(E)}return U},[])},b=y(r),j=function(te){return te.reduce(function(U,Q){return U.width>Q.width?U:Q})};if(!h)return b;for(var w="",v=function(te){var U=m.slice(0,te),Q=Rk({breakAll:p,style:f,children:U+w}).wordsWithComputedWidth,Z=y(Q),B=Z.length>c||j(Z).width>Number(a);return[B,Z]},O=0,_=m.length-1,A=0,k;O<=_&&A<=m.length-1;){var P=Math.floor((O+_)/2),S=P-1,C=v(S),T=X2(C,2),q=T[0],H=T[1],F=v(P),L=X2(F,1),Y=L[0];if(!q&&!Y&&(O=P+1),q&&Y&&(_=P-1),!q&&Y){k=H;break}A++}return k||b},Q2=function(t){var r=Ue(t)?[]:t.toString().split($k);return[{words:r}]},Z6=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,c=t.breakAll,u=t.maxLines;if((r||n)&&!da.isSsr){var f,p,h=Rk({breakAll:c,children:a,style:s});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;f=m,p=y}else return Q2(a);return J6({breakAll:c,children:a,maxLines:u,style:s},f,p,r,n)}return Q2(a)},J2="#808080",ki=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,c=t.lineHeight,u=c===void 0?"1em":c,f=t.capHeight,p=f===void 0?"0.71em":f,h=t.scaleToFit,m=h===void 0?!1:h,y=t.textAnchor,b=y===void 0?"start":y,j=t.verticalAnchor,w=j===void 0?"end":j,v=t.fill,O=v===void 0?J2:v,_=G2(t,H6),A=D.useMemo(function(){return Z6({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:m,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,m,_.style,_.width]),k=_.dx,P=_.dy,S=_.angle,C=_.className,T=_.breakAll,q=G2(_,K6);if(!zt(n)||!zt(s))return null;var H=n+(Ne(k)?k:0),F=s+(Ne(P)?P:0),L;switch(w){case"start":L=Oy("calc(".concat(p,")"));break;case"middle":L=Oy("calc(".concat((A.length-1)/2," * -").concat(u," + (").concat(p," / 2))"));break;default:L=Oy("calc(".concat(A.length-1," * -").concat(u,")"));break}var Y=[];if(m){var G=A[0].width,te=_.width;Y.push("scale(".concat((Ne(te)?te/G:1)/G,")"))}return S&&Y.push("rotate(".concat(S,", ").concat(H,", ").concat(F,")")),Y.length&&(q.transform=Y.join(" ")),M.createElement("text",Xv({},De(q,!0),{x:H,y:F,className:Xe("recharts-text",C),textAnchor:b,fill:O.includes("url")?J2:O}),A.map(function(U,Q){var Z=U.words.join(T?"":" ");return M.createElement("tspan",{x:H,dy:Q===0?L:u,key:"".concat(Z,"-").concat(Q)},Z)}))};function za(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sb(e){let t,r,n;e.length!==2?(t=za,r=(u,f)=>za(e(u),f),n=(u,f)=>e(u)-f):(t=e===za||e===eL?e:tL,r=e,n=e);function a(u,f,p=0,h=u.length){if(p<h){if(t(f,f)!==0)return h;do{const m=p+h>>>1;r(u[m],f)<0?p=m+1:h=m}while(p<h)}return p}function s(u,f,p=0,h=u.length){if(p<h){if(t(f,f)!==0)return h;do{const m=p+h>>>1;r(u[m],f)<=0?p=m+1:h=m}while(p<h)}return p}function c(u,f,p=0,h=u.length){const m=a(u,f,p,h-1);return m>p&&n(u[m-1],f)>-n(u[m],f)?m-1:m}return{left:a,center:c,right:s}}function tL(){return 0}function Lk(e){return e===null?NaN:+e}function*rL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nL=Sb(za),cc=nL.right;Sb(Lk).center;class Z2 extends Map{constructor(t,r=oL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eP(this,t))}has(t){return super.has(eP(this,t))}set(t,r){return super.set(aL(this,t),r)}delete(t){return super.delete(iL(this,t))}}function eP({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function aL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function iL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sL(e=za){if(e===za)return Fk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Fk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lL=Math.sqrt(50),cL=Math.sqrt(10),uL=Math.sqrt(2);function ed(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=lL?10:s>=cL?5:s>=uL?2:1;let u,f,p;return a<0?(p=Math.pow(10,-a)/c,u=Math.round(e*p),f=Math.round(t*p),u/p<e&&++u,f/p>t&&--f,p=-p):(p=Math.pow(10,a)*c,u=Math.round(e/p),f=Math.round(t/p),u*p<e&&++u,f*p>t&&--f),f<u&&.5<=r&&r<2?ed(e,t,r*2):[u,f,p]}function Yv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,c]=n?ed(t,e,r):ed(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(c<0)for(let p=0;p<u;++p)f[p]=(s-p)/-c;else for(let p=0;p<u;++p)f[p]=(s-p)*c;else if(c<0)for(let p=0;p<u;++p)f[p]=(a+p)/-c;else for(let p=0;p<u;++p)f[p]=(a+p)*c;return f}function Qv(e,t,r){return t=+t,e=+e,r=+r,ed(e,t,r)[2]}function Jv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Qv(t,e,r):Qv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tP(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rP(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Fk:sL(a);n>r;){if(n-r>600){const f=n-r+1,p=t-r+1,h=Math.log(f),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(f-m)/f)*(p-f/2<0?-1:1),b=Math.max(r,Math.floor(t-p*m/f+y)),j=Math.min(n,Math.floor(t+(f-p)*m/f+y));qk(e,t,b,j,a)}const s=e[t];let c=r,u=n;for(Js(e,r,t),a(e[n],s)>0&&Js(e,r,n);c<u;){for(Js(e,c,u),++c,--u;a(e[c],s)<0;)++c;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Js(e,r,u):(++u,Js(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Js(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function dL(e,t,r){if(e=Float64Array.from(rL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rP(e);if(t>=1)return tP(e);var n,a=(n-1)*t,s=Math.floor(a),c=tP(qk(e,s).subarray(0,s+1)),u=rP(e.subarray(s+1));return c+(u-c)*(a-s)}}function fL(e,t,r=Lk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(a-s)}}function pL(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zv=Symbol("implicit");function Pb(){var e=new Z2,t=[],r=[],n=Zv;function a(s){let c=e.get(s);if(c===void 0){if(n!==Zv)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Z2;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Pb(t,r).unknown(n)},sn.apply(a,arguments),a}function El(){var e=Pb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,c,u=!1,f=0,p=0,h=.5;delete e.unknown;function m(){var y=t().length,b=a<n,j=b?a:n,w=b?n:a;s=(w-j)/Math.max(1,y-f+p*2),u&&(s=Math.floor(s)),j+=(w-j-s*(y-f))*h,c=s*(1-f),u&&(j=Math.round(j),c=Math.round(c));var v=pL(y).map(function(O){return j+s*O});return r(b?v.reverse():v)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,p=+y),m()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),m()):f},e.paddingOuter=function(y){return arguments.length?(p=+y,m()):p},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return El(t(),[n,a]).round(u).paddingInner(f).paddingOuter(p).align(h)},sn.apply(m(),arguments)}function Bk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bk(t())},e}function hl(){return Bk(El.apply(null,arguments).paddingInner(1))}function Ob(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function uc(){}var Cl=.7,td=1/Cl,_o="\\s*([+-]?\\d+)\\s*",Tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mL=/^#([0-9a-f]{3,8})$/,hL=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),gL=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),yL=new RegExp(`^rgba\\(${_o},${_o},${_o},${Tl}\\)$`),vL=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${Tl}\\)$`),xL=new RegExp(`^hsl\\(${Tl},${Dn},${Dn}\\)$`),bL=new RegExp(`^hsla\\(${Tl},${Dn},${Dn},${Tl}\\)$`),nP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ob(uc,Il,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aP,formatHex:aP,formatHex8:wL,formatHsl:jL,formatRgb:iP,toString:iP});function aP(){return this.rgb().formatHex()}function wL(){return this.rgb().formatHex8()}function jL(){return Uk(this).formatHsl()}function iP(){return this.rgb().formatRgb()}function Il(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=mL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oP(t):r===3?new Er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Au(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Au(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hL.exec(e))?new Er(t[1],t[2],t[3],1):(t=gL.exec(e))?new Er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yL.exec(e))?Au(t[1],t[2],t[3],t[4]):(t=vL.exec(e))?Au(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xL.exec(e))?cP(t[1],t[2]/100,t[3]/100,1):(t=bL.exec(e))?cP(t[1],t[2]/100,t[3]/100,t[4]):nP.hasOwnProperty(e)?oP(nP[e]):e==="transparent"?new Er(NaN,NaN,NaN,0):null}function oP(e){return new Er(e>>16&255,e>>8&255,e&255,1)}function Au(e,t,r,n){return n<=0&&(e=t=r=NaN),new Er(e,t,r,n)}function NL(e){return e instanceof uc||(e=Il(e)),e?(e=e.rgb(),new Er(e.r,e.g,e.b,e.opacity)):new Er}function ex(e,t,r,n){return arguments.length===1?NL(e):new Er(e,t,r,n??1)}function Er(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ob(Er,ex,zk(uc,{brighter(e){return e=e==null?td:Math.pow(td,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cl:Math.pow(Cl,e),new Er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Er(_i(this.r),_i(this.g),_i(this.b),rd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sP,formatHex:sP,formatHex8:SL,formatRgb:lP,toString:lP}));function sP(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}`}function SL(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}${wi((isNaN(this.opacity)?1:this.opacity)*255)}`}function lP(){const e=rd(this.opacity);return`${e===1?"rgb(":"rgba("}${_i(this.r)}, ${_i(this.g)}, ${_i(this.b)}${e===1?")":`, ${e})`}`}function rd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _i(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wi(e){return e=_i(e),(e<16?"0":"")+e.toString(16)}function cP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vn(e,t,r,n)}function Uk(e){if(e instanceof vn)return new vn(e.h,e.s,e.l,e.opacity);if(e instanceof uc||(e=Il(e)),!e)return new vn;if(e instanceof vn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-a,f=(s+a)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?s+a:2-s-a,c*=60):u=f>0&&f<1?0:c,new vn(c,u,f,e.opacity)}function PL(e,t,r,n){return arguments.length===1?Uk(e):new vn(e,t,r,n??1)}function vn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ob(vn,PL,zk(uc,{brighter(e){return e=e==null?td:Math.pow(td,e),new vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cl:Math.pow(Cl,e),new vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Er(_y(e>=240?e-240:e+120,a,n),_y(e,a,n),_y(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vn(uP(this.h),ku(this.s),ku(this.l),rd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rd(this.opacity);return`${e===1?"hsl(":"hsla("}${uP(this.h)}, ${ku(this.s)*100}%, ${ku(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uP(e){return e=(e||0)%360,e<0?e+360:e}function ku(e){return Math.max(0,Math.min(1,e||0))}function _y(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _b=e=>()=>e;function OL(e,t){return function(r){return e+r*t}}function _L(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function AL(e){return(e=+e)==1?Wk:function(t,r){return r-t?_L(t,r,e):_b(isNaN(t)?r:t)}}function Wk(e,t){var r=t-e;return r?OL(e,r):_b(isNaN(e)?t:e)}const dP=(function e(t){var r=AL(t);function n(a,s){var c=r((a=ex(a)).r,(s=ex(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),p=Wk(a.opacity,s.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=p(h),a+""}}return n.gamma=e,n})(1);function kL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function EL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=ds(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function TL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function IL(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ds(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var tx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ay=new RegExp(tx.source,"g");function ML(e){return function(){return e}}function DL(e){return function(t){return e(t)+""}}function $L(e,t){var r=tx.lastIndex=Ay.lastIndex=0,n,a,s,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=tx.exec(e))&&(a=Ay.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:nd(n,a)})),r=Ay.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?f[0]?DL(f[0].x):ML(t):(t=f.length,function(p){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(p);return u.join("")})}function ds(e,t){var r=typeof t,n;return t==null||r==="boolean"?_b(t):(r==="number"?nd:r==="string"?(n=Il(t))?(t=n,dP):$L:t instanceof Il?dP:t instanceof Date?TL:EL(t)?kL:Array.isArray(t)?CL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?IL:nd)(e,t)}function Ab(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RL(e,t){t===void 0&&(t=e,e=ds);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function LL(e){return function(){return e}}function ad(e){return+e}var fP=[0,1];function wr(e){return e}function rx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:LL(isNaN(t)?NaN:.5)}function FL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qL(e,t,r){var n=e[0],a=e[1],s=t[0],c=t[1];return a<n?(n=rx(a,n),s=r(c,s)):(n=rx(n,a),s=r(s,c)),function(u){return s(n(u))}}function BL(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=rx(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var f=cc(e,u,1,n)-1;return s[f](a[f](u))}}function dc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function of(){var e=fP,t=fP,r=ds,n,a,s,c=wr,u,f,p;function h(){var y=Math.min(e.length,t.length);return c!==wr&&(c=FL(e[0],e[y-1])),u=y>2?BL:qL,f=p=null,m}function m(y){return y==null||isNaN(y=+y)?s:(f||(f=u(e.map(n),t,r)))(n(c(y)))}return m.invert=function(y){return c(a((p||(p=u(t,e.map(n),nd)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,ad),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),r=Ab,h()},m.clamp=function(y){return arguments.length?(c=y?!0:wr,h()):c!==wr},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(s=y,m):s},function(y,b){return n=y,a=b,h()}}function kb(){return of()(wr,wr)}function zL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function id(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Do(e){return e=id(Math.abs(e)),e?e[1]:NaN}function UL(e,t){return function(r,n){for(var a=r.length,s=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function WL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var HL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ml(e){if(!(t=HL.exec(e)))throw new Error("invalid format: "+e);var t;return new Eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ml.prototype=Eb.prototype;function Eb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function KL(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var od;function VL(e,t){var r=id(e,t);if(!r)return od=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(od=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+id(e,Math.max(0,t+s-1))[0]}function pP(e,t){var r=id(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pP(e*100,t),r:pP,s:VL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hP(e){return e}var gP=Array.prototype.map,yP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GL(e){var t=e.grouping===void 0||e.thousands===void 0?hP:UL(gP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?hP:WL(gP.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(m,y){m=Ml(m);var b=m.fill,j=m.align,w=m.sign,v=m.symbol,O=m.zero,_=m.width,A=m.comma,k=m.precision,P=m.trim,S=m.type;S==="n"?(A=!0,S="g"):mP[S]||(k===void 0&&(k=12),P=!0,S="g"),(O||b==="0"&&j==="=")&&(O=!0,b="0",j="=");var C=(y&&y.prefix!==void 0?y.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),T=(v==="$"?n:/[%p]/.test(S)?c:"")+(y&&y.suffix!==void 0?y.suffix:""),q=mP[S],H=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(L){var Y=C,G=T,te,U,Q;if(S==="c")G=q(L)+G,L="";else{L=+L;var Z=L<0||1/L<0;if(L=isNaN(L)?f:q(Math.abs(L),k),P&&(L=KL(L)),Z&&+L==0&&w!=="+"&&(Z=!1),Y=(Z?w==="("?w:u:w==="-"||w==="("?"":w)+Y,G=(S==="s"&&!isNaN(L)&&od!==void 0?yP[8+od/3]:"")+G+(Z&&w==="("?")":""),H){for(te=-1,U=L.length;++te<U;)if(Q=L.charCodeAt(te),48>Q||Q>57){G=(Q===46?a+L.slice(te+1):L.slice(te))+G,L=L.slice(0,te);break}}}A&&!O&&(L=t(L,1/0));var B=Y.length+L.length+G.length,$=B<_?new Array(_-B+1).join(b):"";switch(A&&O&&(L=t($+L,$.length?_-G.length:1/0),$=""),j){case"<":L=Y+L+G+$;break;case"=":L=Y+$+L+G;break;case"^":L=$.slice(0,B=$.length>>1)+Y+L+G+$.slice(B);break;default:L=$+Y+L+G;break}return s(L)}return F.toString=function(){return m+""},F}function h(m,y){var b=Math.max(-8,Math.min(8,Math.floor(Do(y)/3)))*3,j=Math.pow(10,-b),w=p((m=Ml(m),m.type="f",m),{suffix:yP[8+b/3]});return function(v){return w(j*v)}}return{format:p,formatPrefix:h}}var Eu,Cb,Hk;XL({thousands:",",grouping:[3],currency:["$",""]});function XL(e){return Eu=GL(e),Cb=Eu.format,Hk=Eu.formatPrefix,Eu}function YL(e){return Math.max(0,-Do(Math.abs(e)))}function QL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(t)/3)))*3-Do(Math.abs(e)))}function JL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Do(t)-Do(e))+1}function Kk(e,t,r,n){var a=Jv(e,t,r),s;switch(n=Ml(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=QL(a,c))&&(n.precision=s),Hk(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=JL(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=YL(a))&&(n.precision=s-(n.type==="%")*2);break}}return Cb(n)}function Ya(e){var t=e.domain;return e.ticks=function(r){var n=t();return Yv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Kk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,c=n[a],u=n[s],f,p,h=10;for(u<c&&(p=c,c=u,u=p,p=a,a=s,s=p);h-- >0;){if(p=Qv(c,u,r),p===f)return n[a]=c,n[s]=u,t(n);if(p>0)c=Math.floor(c/p)*p,u=Math.ceil(u/p)*p;else if(p<0)c=Math.ceil(c*p)/p,u=Math.floor(u*p)/p;else break;f=p}return e},e}function sd(){var e=kb();return e.copy=function(){return dc(e,sd())},sn.apply(e,arguments),Ya(e)}function Vk(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ad),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Vk(e).unknown(t)},e=arguments.length?Array.from(e,ad):[0,1],Ya(r)}function Gk(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),e[r]=t.floor(a),e[n]=t.ceil(s),e}function vP(e){return Math.log(e)}function xP(e){return Math.exp(e)}function ZL(e){return-Math.log(-e)}function eF(e){return-Math.exp(-e)}function tF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rF(e){return e===10?tF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bP(e){return(t,r)=>-e(-t,r)}function Tb(e){const t=e(vP,xP),r=t.domain;let n=10,a,s;function c(){return a=nF(n),s=rF(n),r()[0]<0?(a=bP(a),s=bP(s),e(ZL,eF)):e(vP,xP),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let p=f[0],h=f[f.length-1];const m=h<p;m&&([p,h]=[h,p]);let y=a(p),b=a(h),j,w;const v=u==null?10:+u;let O=[];if(!(n%1)&&b-y<v){if(y=Math.floor(y),b=Math.ceil(b),p>0){for(;y<=b;++y)for(j=1;j<n;++j)if(w=y<0?j/s(-y):j*s(y),!(w<p)){if(w>h)break;O.push(w)}}else for(;y<=b;++y)for(j=n-1;j>=1;--j)if(w=y>0?j/s(-y):j*s(y),!(w<p)){if(w>h)break;O.push(w)}O.length*2<v&&(O=Yv(p,h,v))}else O=Yv(y,b,Math.min(b-y,v)).map(s);return m?O.reverse():O},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Ml(f)).precision==null&&(f.trim=!0),f=Cb(f)),u===1/0)return f;const p=Math.max(1,n*u/t.ticks().length);return h=>{let m=h/s(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=p?f(h):""}},t.nice=()=>r(Gk(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function Xk(){const e=Tb(of()).domain([1,10]);return e.copy=()=>dc(e,Xk()).base(e.base()),sn.apply(e,arguments),e}function wP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ib(e){var t=1,r=e(wP(t),jP(t));return r.constant=function(n){return arguments.length?e(wP(t=+n),jP(t)):t},Ya(r)}function Yk(){var e=Ib(of());return e.copy=function(){return dc(e,Yk()).constant(e.constant())},sn.apply(e,arguments)}function NP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iF(e){return e<0?-e*e:e*e}function Mb(e){var t=e(wr,wr),r=1;function n(){return r===1?e(wr,wr):r===.5?e(aF,iF):e(NP(r),NP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ya(t)}function Db(){var e=Mb(of());return e.copy=function(){return dc(e,Db()).exponent(e.exponent())},sn.apply(e,arguments),e}function oF(){return Db.apply(null,arguments).exponent(.5)}function SP(e){return Math.sign(e)*e*e}function sF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qk(){var e=kb(),t=[0,1],r=!1,n;function a(s){var c=sF(e(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return e.invert(SP(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ad)).map(SP)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Qk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},sn.apply(a,arguments),Ya(a)}function Jk(){var e=[],t=[],r=[],n;function a(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=fL(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[cc(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(za),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Jk().domain(e).range(t).unknown(n)},sn.apply(s,arguments)}function Zk(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[cc(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var p=a.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return Zk().domain([e,t]).range(a).unknown(s)},sn.apply(Ya(c),arguments)}function eE(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[cc(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return eE().domain(e).range(t).unknown(r)},sn.apply(a,arguments)}const ky=new Date,Ey=new Date;function Ut(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return f;let p;do f.push(p=new Date(+s)),t(s,u),e(s);while(p<s&&s<c);return f},a.filter=s=>Ut(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(a.count=(s,c)=>(ky.setTime(+s),Ey.setTime(+c),e(ky),e(Ey),Math.floor(r(ky,Ey))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const ld=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ld.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ld);ld.range;const ea=1e3,rn=ea*60,ta=rn*60,oa=ta*24,$b=oa*7,PP=oa*30,Cy=oa*365,ji=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCSeconds());ji.range;const Rb=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getMinutes());Rb.range;const Lb=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getUTCMinutes());Lb.range;const Fb=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea-e.getMinutes()*rn)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getHours());Fb.range;const qb=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCHours());qb.range;const fc=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rn)/oa,e=>e.getDate()-1);fc.range;const sf=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>e.getUTCDate()-1);sf.range;const tE=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>Math.floor(e/oa));tE.range;function Di(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rn)/$b)}const lf=Di(0),cd=Di(1),lF=Di(2),cF=Di(3),$o=Di(4),uF=Di(5),dF=Di(6);lf.range;cd.range;lF.range;cF.range;$o.range;uF.range;dF.range;function $i(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$b)}const cf=$i(0),ud=$i(1),fF=$i(2),pF=$i(3),Ro=$i(4),mF=$i(5),hF=$i(6);cf.range;ud.range;fF.range;pF.range;Ro.range;mF.range;hF.range;const Bb=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Bb.range;const zb=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zb.range;const sa=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});sa.range;const la=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});la.range;function rE(e,t,r,n,a,s){const c=[[ji,1,ea],[ji,5,5*ea],[ji,15,15*ea],[ji,30,30*ea],[s,1,rn],[s,5,5*rn],[s,15,15*rn],[s,30,30*rn],[a,1,ta],[a,3,3*ta],[a,6,6*ta],[a,12,12*ta],[n,1,oa],[n,2,2*oa],[r,1,$b],[t,1,PP],[t,3,3*PP],[e,1,Cy]];function u(p,h,m){const y=h<p;y&&([p,h]=[h,p]);const b=m&&typeof m.range=="function"?m:f(p,h,m),j=b?b.range(p,+h+1):[];return y?j.reverse():j}function f(p,h,m){const y=Math.abs(h-p)/m,b=Sb(([,,v])=>v).right(c,y);if(b===c.length)return e.every(Jv(p/Cy,h/Cy,m));if(b===0)return ld.every(Math.max(Jv(p,h,m),1));const[j,w]=c[y/c[b-1][2]<c[b][2]/y?b-1:b];return j.every(w)}return[u,f]}const[gF,yF]=rE(la,zb,cf,tE,qb,Lb),[vF,xF]=rE(sa,Bb,lf,fc,Fb,Rb);function Ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Iy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function bF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,p=el(a),h=tl(a),m=el(s),y=tl(s),b=el(c),j=tl(c),w=el(u),v=tl(u),O=el(f),_=tl(f),A={a:Q,A:Z,b:B,B:$,c:null,d:CP,e:CP,f:UF,g:ZF,G:tq,H:qF,I:BF,j:zF,L:nE,m:WF,M:HF,p:E,q:R,Q:MP,s:DP,S:KF,u:VF,U:GF,V:XF,w:YF,W:QF,x:null,X:null,y:JF,Y:eq,Z:rq,"%":IP},k={a:X,A:re,b:le,B:K,c:null,d:TP,e:TP,f:oq,g:gq,G:vq,H:nq,I:aq,j:iq,L:iE,m:sq,M:lq,p:he,q:Pe,Q:MP,s:DP,S:cq,u:uq,U:dq,V:fq,w:pq,W:mq,x:null,X:null,y:hq,Y:yq,Z:xq,"%":IP},P={a:H,A:F,b:L,B:Y,c:G,d:kP,e:kP,f:$F,g:AP,G:_P,H:EP,I:EP,j:TF,L:DF,m:CF,M:IF,p:q,q:EF,Q:LF,s:FF,S:MF,u:PF,U:OF,V:_F,w:SF,W:AF,x:te,X:U,y:AP,Y:_P,Z:kF,"%":RF};A.x=S(r,A),A.X=S(n,A),A.c=S(t,A),k.x=S(r,k),k.X=S(n,k),k.c=S(t,k);function S(V,oe){return function(me){var ce=[],_e=-1,Ie=0,Je=V.length,tt,ae,we;for(me instanceof Date||(me=new Date(+me));++_e<Je;)V.charCodeAt(_e)===37&&(ce.push(V.slice(Ie,_e)),(ae=OP[tt=V.charAt(++_e)])!=null?tt=V.charAt(++_e):ae=tt==="e"?" ":"0",(we=oe[tt])&&(tt=we(me,ae)),ce.push(tt),Ie=_e+1);return ce.push(V.slice(Ie,_e)),ce.join("")}}function C(V,oe){return function(me){var ce=Zs(1900,void 0,1),_e=T(ce,V,me+="",0),Ie,Je;if(_e!=me.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(oe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=Iy(Zs(ce.y,0,1)),Je=Ie.getUTCDay(),Ie=Je>4||Je===0?ud.ceil(Ie):ud(Ie),Ie=sf.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=Ty(Zs(ce.y,0,1)),Je=Ie.getDay(),Ie=Je>4||Je===0?cd.ceil(Ie):cd(Ie),Ie=fc.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Je="Z"in ce?Iy(Zs(ce.y,0,1)).getUTCDay():Ty(Zs(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Je+5)%7:ce.w+ce.U*7-(Je+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Iy(ce)):Ty(ce)}}function T(V,oe,me,ce){for(var _e=0,Ie=oe.length,Je=me.length,tt,ae;_e<Ie;){if(ce>=Je)return-1;if(tt=oe.charCodeAt(_e++),tt===37){if(tt=oe.charAt(_e++),ae=P[tt in OP?oe.charAt(_e++):tt],!ae||(ce=ae(V,me,ce))<0)return-1}else if(tt!=me.charCodeAt(ce++))return-1}return ce}function q(V,oe,me){var ce=p.exec(oe.slice(me));return ce?(V.p=h.get(ce[0].toLowerCase()),me+ce[0].length):-1}function H(V,oe,me){var ce=b.exec(oe.slice(me));return ce?(V.w=j.get(ce[0].toLowerCase()),me+ce[0].length):-1}function F(V,oe,me){var ce=m.exec(oe.slice(me));return ce?(V.w=y.get(ce[0].toLowerCase()),me+ce[0].length):-1}function L(V,oe,me){var ce=O.exec(oe.slice(me));return ce?(V.m=_.get(ce[0].toLowerCase()),me+ce[0].length):-1}function Y(V,oe,me){var ce=w.exec(oe.slice(me));return ce?(V.m=v.get(ce[0].toLowerCase()),me+ce[0].length):-1}function G(V,oe,me){return T(V,t,oe,me)}function te(V,oe,me){return T(V,r,oe,me)}function U(V,oe,me){return T(V,n,oe,me)}function Q(V){return c[V.getDay()]}function Z(V){return s[V.getDay()]}function B(V){return f[V.getMonth()]}function $(V){return u[V.getMonth()]}function E(V){return a[+(V.getHours()>=12)]}function R(V){return 1+~~(V.getMonth()/3)}function X(V){return c[V.getUTCDay()]}function re(V){return s[V.getUTCDay()]}function le(V){return f[V.getUTCMonth()]}function K(V){return u[V.getUTCMonth()]}function he(V){return a[+(V.getUTCHours()>=12)]}function Pe(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var oe=S(V+="",A);return oe.toString=function(){return V},oe},parse:function(V){var oe=C(V+="",!1);return oe.toString=function(){return V},oe},utcFormat:function(V){var oe=S(V+="",k);return oe.toString=function(){return V},oe},utcParse:function(V){var oe=C(V+="",!0);return oe.toString=function(){return V},oe}}}var OP={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,wF=/^%/,jF=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function NF(e){return e.replace(jF,"\\$&")}function el(e){return new RegExp("^(?:"+e.map(NF).join("|")+")","i")}function tl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function SF(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function PF(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function OF(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _F(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function AF(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _P(e,t,r){var n=Qt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function EF(e,t,r){var n=Qt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function CF(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function TF(e,t,r){var n=Qt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function EP(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function IF(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function MF(e,t,r){var n=Qt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function DF(e,t,r){var n=Qt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $F(e,t,r){var n=Qt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RF(e,t,r){var n=wF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function LF(e,t,r){var n=Qt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function FF(e,t,r){var n=Qt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function CP(e,t){return it(e.getDate(),t,2)}function qF(e,t){return it(e.getHours(),t,2)}function BF(e,t){return it(e.getHours()%12||12,t,2)}function zF(e,t){return it(1+fc.count(sa(e),e),t,3)}function nE(e,t){return it(e.getMilliseconds(),t,3)}function UF(e,t){return nE(e,t)+"000"}function WF(e,t){return it(e.getMonth()+1,t,2)}function HF(e,t){return it(e.getMinutes(),t,2)}function KF(e,t){return it(e.getSeconds(),t,2)}function VF(e){var t=e.getDay();return t===0?7:t}function GF(e,t){return it(lf.count(sa(e)-1,e),t,2)}function aE(e){var t=e.getDay();return t>=4||t===0?$o(e):$o.ceil(e)}function XF(e,t){return e=aE(e),it($o.count(sa(e),e)+(sa(e).getDay()===4),t,2)}function YF(e){return e.getDay()}function QF(e,t){return it(cd.count(sa(e)-1,e),t,2)}function JF(e,t){return it(e.getFullYear()%100,t,2)}function ZF(e,t){return e=aE(e),it(e.getFullYear()%100,t,2)}function eq(e,t){return it(e.getFullYear()%1e4,t,4)}function tq(e,t){var r=e.getDay();return e=r>=4||r===0?$o(e):$o.ceil(e),it(e.getFullYear()%1e4,t,4)}function rq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function TP(e,t){return it(e.getUTCDate(),t,2)}function nq(e,t){return it(e.getUTCHours(),t,2)}function aq(e,t){return it(e.getUTCHours()%12||12,t,2)}function iq(e,t){return it(1+sf.count(la(e),e),t,3)}function iE(e,t){return it(e.getUTCMilliseconds(),t,3)}function oq(e,t){return iE(e,t)+"000"}function sq(e,t){return it(e.getUTCMonth()+1,t,2)}function lq(e,t){return it(e.getUTCMinutes(),t,2)}function cq(e,t){return it(e.getUTCSeconds(),t,2)}function uq(e){var t=e.getUTCDay();return t===0?7:t}function dq(e,t){return it(cf.count(la(e)-1,e),t,2)}function oE(e){var t=e.getUTCDay();return t>=4||t===0?Ro(e):Ro.ceil(e)}function fq(e,t){return e=oE(e),it(Ro.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function pq(e){return e.getUTCDay()}function mq(e,t){return it(ud.count(la(e)-1,e),t,2)}function hq(e,t){return it(e.getUTCFullYear()%100,t,2)}function gq(e,t){return e=oE(e),it(e.getUTCFullYear()%100,t,2)}function yq(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function vq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ro(e):Ro.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function xq(){return"+0000"}function IP(){return"%"}function MP(e){return+e}function DP(e){return Math.floor(+e/1e3)}var uo,sE,lE;bq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bq(e){return uo=bF(e),sE=uo.format,uo.parse,lE=uo.utcFormat,uo.utcParse,uo}function wq(e){return new Date(e)}function jq(e){return e instanceof Date?+e:+new Date(+e)}function Ub(e,t,r,n,a,s,c,u,f,p){var h=kb(),m=h.invert,y=h.domain,b=p(".%L"),j=p(":%S"),w=p("%I:%M"),v=p("%I %p"),O=p("%a %d"),_=p("%b %d"),A=p("%B"),k=p("%Y");function P(S){return(f(S)<S?b:u(S)<S?j:c(S)<S?w:s(S)<S?v:n(S)<S?a(S)<S?O:_:r(S)<S?A:k)(S)}return h.invert=function(S){return new Date(m(S))},h.domain=function(S){return arguments.length?y(Array.from(S,jq)):y().map(wq)},h.ticks=function(S){var C=y();return e(C[0],C[C.length-1],S??10)},h.tickFormat=function(S,C){return C==null?P:p(C)},h.nice=function(S){var C=y();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?y(Gk(C,S)):h},h.copy=function(){return dc(h,Ub(e,t,r,n,a,s,c,u,f,p))},h}function Nq(){return sn.apply(Ub(vF,xF,sa,Bb,lf,fc,Fb,Rb,ji,sE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sq(){return sn.apply(Ub(gF,yF,la,zb,cf,sf,qb,Lb,ji,lE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uf(){var e=0,t=1,r,n,a,s,c=wr,u=!1,f;function p(m){return m==null||isNaN(m=+m)?f:c(a===0?.5:(m=(s(m)-r)*a,u?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(m){return arguments.length?(u=!!m,p):u},p.interpolator=function(m){return arguments.length?(c=m,p):c};function h(m){return function(y){var b,j;return arguments.length?([b,j]=y,c=m(b,j),p):[c(0),c(1)]}}return p.range=h(ds),p.rangeRound=h(Ab),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return s=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),p}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cE(){var e=Ya(uf()(wr));return e.copy=function(){return Qa(e,cE())},fa.apply(e,arguments)}function uE(){var e=Tb(uf()).domain([1,10]);return e.copy=function(){return Qa(e,uE()).base(e.base())},fa.apply(e,arguments)}function dE(){var e=Ib(uf());return e.copy=function(){return Qa(e,dE()).constant(e.constant())},fa.apply(e,arguments)}function Wb(){var e=Mb(uf());return e.copy=function(){return Qa(e,Wb()).exponent(e.exponent())},fa.apply(e,arguments)}function Pq(){return Wb.apply(null,arguments).exponent(.5)}function fE(){var e=[],t=wr;function r(n){if(n!=null&&!isNaN(n=+n))return t((cc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(za),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>dL(e,s/n))},r.copy=function(){return fE(t).domain(e)},fa.apply(r,arguments)}function df(){var e=0,t=.5,r=1,n=1,a,s,c,u,f,p=wr,h,m=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-s)*(n*w<n*s?u:f),p(m?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),s=h(t=+t),c=h(r=+r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,b):[e,t,r]},b.clamp=function(w){return arguments.length?(m=!!w,b):m},b.interpolator=function(w){return arguments.length?(p=w,b):p};function j(w){return function(v){var O,_,A;return arguments.length?([O,_,A]=v,p=RL(w,[O,_,A]),b):[p(0),p(.5),p(1)]}}return b.range=j(ds),b.rangeRound=j(Ab),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return h=w,a=w(e),s=w(t),c=w(r),u=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),n=s<a?-1:1,b}}function pE(){var e=Ya(df()(wr));return e.copy=function(){return Qa(e,pE())},fa.apply(e,arguments)}function mE(){var e=Tb(df()).domain([.1,1,10]);return e.copy=function(){return Qa(e,mE()).base(e.base())},fa.apply(e,arguments)}function hE(){var e=Ib(df());return e.copy=function(){return Qa(e,hE()).constant(e.constant())},fa.apply(e,arguments)}function Hb(){var e=Mb(df());return e.copy=function(){return Qa(e,Hb()).exponent(e.exponent())},fa.apply(e,arguments)}function Oq(){return Hb.apply(null,arguments).exponent(.5)}const $P=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:El,scaleDiverging:pE,scaleDivergingLog:mE,scaleDivergingPow:Hb,scaleDivergingSqrt:Oq,scaleDivergingSymlog:hE,scaleIdentity:Vk,scaleImplicit:Zv,scaleLinear:sd,scaleLog:Xk,scaleOrdinal:Pb,scalePoint:hl,scalePow:Db,scaleQuantile:Jk,scaleQuantize:Zk,scaleRadial:Qk,scaleSequential:cE,scaleSequentialLog:uE,scaleSequentialPow:Wb,scaleSequentialQuantile:fE,scaleSequentialSqrt:Pq,scaleSequentialSymlog:dE,scaleSqrt:oF,scaleSymlog:Yk,scaleThreshold:eE,scaleTime:Nq,scaleUtc:Sq,tickFormat:Kk},Symbol.toStringTag,{value:"Module"}));var My,RP;function ff(){if(RP)return My;RP=1;var e=os();function t(r,n,a){for(var s=-1,c=r.length;++s<c;){var u=r[s],f=n(u);if(f!=null&&(p===void 0?f===f&&!e(f):a(f,p)))var p=f,h=u}return h}return My=t,My}var Dy,LP;function gE(){if(LP)return Dy;LP=1;function e(t,r){return t>r}return Dy=e,Dy}var $y,FP;function _q(){if(FP)return $y;FP=1;var e=ff(),t=gE(),r=cs();function n(a){return a&&a.length?e(a,r,t):void 0}return $y=n,$y}var Aq=_q();const Fa=ct(Aq);var Ry,qP;function yE(){if(qP)return Ry;qP=1;function e(t,r){return t<r}return Ry=e,Ry}var Ly,BP;function kq(){if(BP)return Ly;BP=1;var e=ff(),t=yE(),r=cs();function n(a){return a&&a.length?e(a,r,t):void 0}return Ly=n,Ly}var Eq=kq();const pf=ct(Eq);var Fy,zP;function Cq(){if(zP)return Fy;zP=1;var e=lb(),t=qn(),r=Ok(),n=Tr();function a(s,c){var u=n(s)?e:r;return u(s,t(c,3))}return Fy=a,Fy}var qy,UP;function Tq(){if(UP)return qy;UP=1;var e=Sk(),t=Cq();function r(n,a){return e(t(n,a),1)}return qy=r,qy}var Iq=Tq();const Mq=ct(Iq);var By,WP;function Dq(){if(WP)return By;WP=1;var e=bb();function t(r,n){return e(r,n)}return By=t,By}var $q=Dq();const Ka=ct($q);var fs=1e9,Rq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vb,Nt=!0,nn="[DecimalError] ",Ai=nn+"Invalid argument: ",Kb=nn+"Exponent out of range: ",ps=Math.floor,gi=Math.pow,Lq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,Xt=1e7,bt=7,vE=9007199254740991,dd=ps(vE/bt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return aa(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return ft(aa(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Rt(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zr))throw Error(nn+"NaN");if(r.s<1)throw Error(nn+(r.s?"NaN":"-Infinity"));return r.eq(zr)?new n(0):(Nt=!1,t=aa(Dl(r,s),Dl(e,s),s),Nt=!0,ft(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wE(t,e):xE(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(nn+"NaN");return r.s?(Nt=!1,t=aa(r,e,0,1).times(e),Nt=!0,r.minus(t)):ft(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return bE(this)};Ee.naturalLogarithm=Ee.ln=function(){return Dl(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xE(t,e):wE(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ai+e);if(t=Rt(a)+1,n=a.d.length-1,r=n*bt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,s,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(nn+"NaN")}for(e=Rt(u),Nt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Tn(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ps((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=c=r+3;;)if(s=n,n=s.plus(aa(u,s,c+2)).times(.5),Tn(s.d).slice(0,c)===(t=Tn(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(ft(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return Nt=!0,ft(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,s,c,u,f,p,h=this,m=h.constructor,y=h.d,b=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,f=y.length,p=b.length,f<p&&(s=y,y=b,b=s,c=f,f=p,p=c),s=[],c=f+p,n=c;n--;)s.push(0);for(n=p;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+b[n]*y[a-n-1]+t,s[a--]=u%Xt|0,t=u/Xt|0;s[a]=(s[a]+t)%Xt|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Nt?ft(e,m.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ln(e,0,fs),t===void 0?t=n.rounding:Ln(t,0,8),ft(r,e+Rt(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ei(n,!0):(Ln(e,0,fs),t===void 0?t=a.rounding:Ln(t,0,8),n=ft(new a(n),e+1,t),r=Ei(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Ei(a):(Ln(e,0,fs),t===void 0?t=s.rounding:Ln(t,0,8),n=ft(new s(a),e+Rt(a)+1,t),r=Ei(n.abs(),!1,e+Rt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return ft(new t(e),Rt(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,s,c,u=this,f=u.constructor,p=12,h=+(e=new f(e));if(!e.s)return new f(zr);if(u=new f(u),!u.s){if(e.s<1)throw Error(nn+"Infinity");return u}if(u.eq(zr))return u;if(n=f.precision,e.eq(zr))return ft(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=h<0?-h:h)<=vE){for(a=new f(zr),t=Math.ceil(n/bt+4),Nt=!1;r%2&&(a=a.times(u),KP(a.d,t)),r=ps(r/2),r!==0;)u=u.times(u),KP(u.d,t);return Nt=!0,e.s<0?new f(zr).div(a):ft(a,n)}}else if(s<0)throw Error(nn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Nt=!1,a=e.times(Dl(u,n+p)),Nt=!0,a=bE(a),a.s=s,a};Ee.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Rt(a),n=Ei(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ln(e,1,fs),t===void 0?t=s.rounding:Ln(t,0,8),a=ft(new s(a),e,t),r=Rt(a),n=Ei(a,e<=r||r<=s.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ln(e,1,fs),t===void 0?t=n.rounding:Ln(t,0,8)),ft(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rt(e),r=e.constructor;return Ei(e,t<=r.toExpNeg||t>=r.toExpPos)};function xE(e,t){var r,n,a,s,c,u,f,p,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Nt?ft(t,m):t;if(f=e.d,p=t.d,c=e.e,a=t.e,f=f.slice(),s=c-a,s){for(s<0?(n=f,s=-s,u=p.length):(n=p,a=c,u=f.length),c=Math.ceil(m/bt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=p.length,u-s<0&&(s=u,n=p,p=f,f=n),r=0;s;)r=(f[--s]=f[s]+p[s]+r)/Xt|0,f[s]%=Xt;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,Nt?ft(t,m):t}function Ln(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ai+e)}function Tn(e){var t,r,n,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)n=e[t]+"",r=bt-n.length,r&&(s+=Ra(r)),s+=n;c=e[t],n=c+"",r=bt-n.length,r&&(s+=Ra(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var aa=(function(){function e(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%Xt|0,c=s/Xt|0;return c&&n.unshift(c),n}function t(n,a,s,c){var u,f;if(s!=c)f=s>c?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*Xt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,f,p,h,m,y,b,j,w,v,O,_,A,k,P,S,C,T,q=n.constructor,H=n.s==a.s?1:-1,F=n.d,L=a.d;if(!n.s)return new q(n);if(!a.s)throw Error(nn+"Division by zero");for(f=n.e-a.e,C=L.length,P=F.length,b=new q(H),j=b.d=[],p=0;L[p]==(F[p]||0);)++p;if(L[p]>(F[p]||0)&&--f,s==null?_=s=q.precision:c?_=s+(Rt(n)-Rt(a))+1:_=s,_<0)return new q(0);if(_=_/bt+2|0,p=0,C==1)for(h=0,L=L[0],_++;(p<P||h)&&_--;p++)A=h*Xt+(F[p]||0),j[p]=A/L|0,h=A%L|0;else{for(h=Xt/(L[0]+1)|0,h>1&&(L=e(L,h),F=e(F,h),C=L.length,P=F.length),k=C,w=F.slice(0,C),v=w.length;v<C;)w[v++]=0;T=L.slice(),T.unshift(0),S=L[0],L[1]>=Xt/2&&++S;do h=0,u=t(L,w,C,v),u<0?(O=w[0],C!=v&&(O=O*Xt+(w[1]||0)),h=O/S|0,h>1?(h>=Xt&&(h=Xt-1),m=e(L,h),y=m.length,v=w.length,u=t(m,w,y,v),u==1&&(h--,r(m,C<y?T:L,y))):(h==0&&(u=h=1),m=L.slice()),y=m.length,y<v&&m.unshift(0),r(w,m,v),u==-1&&(v=w.length,u=t(L,w,C,v),u<1&&(h++,r(w,C<v?T:L,v))),v=w.length):u===0&&(h++,w=[0]),j[p++]=h,u&&w[0]?w[v++]=F[k]||0:(w=[F[k]],v=1);while((k++<P||w[0]!==void 0)&&_--)}return j[0]||j.shift(),b.e=f,ft(b,c?s+Rt(b)+1:s)}})();function bE(e,t){var r,n,a,s,c,u,f=0,p=0,h=e.constructor,m=h.precision;if(Rt(e)>16)throw Error(Kb+Rt(e));if(!e.s)return new h(zr);for(Nt=!1,u=m,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(gi(2,p))/Math.LN10*2+5|0,u+=n,r=a=s=new h(zr),h.precision=u;;){if(a=ft(a.times(e),u),r=r.times(++f),c=s.plus(aa(a,r,u)),Tn(c.d).slice(0,u)===Tn(s.d).slice(0,u)){for(;p--;)s=ft(s.times(s),u);return h.precision=m,t==null?(Nt=!0,ft(s,m)):s}s=c}}function Rt(e){for(var t=e.e*bt,r=e.d[0];r>=10;r/=10)t++;return t}function zy(e,t,r){if(t>e.LN10.sd())throw Nt=!0,r&&(e.precision=r),Error(nn+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function Ra(e){for(var t="";e--;)t+="0";return t}function Dl(e,t){var r,n,a,s,c,u,f,p,h,m=1,y=10,b=e,j=b.d,w=b.constructor,v=w.precision;if(b.s<1)throw Error(nn+(b.s?"NaN":"-Infinity"));if(b.eq(zr))return new w(0);if(t==null?(Nt=!1,p=v):p=t,b.eq(10))return t==null&&(Nt=!0),zy(w,p);if(p+=y,w.precision=p,r=Tn(j),n=r.charAt(0),s=Rt(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Tn(b.d),n=r.charAt(0),m++;s=Rt(b),n>1?(b=new w("0."+r),s++):b=new w(n+"."+r.slice(1))}else return f=zy(w,p+2,v).times(s+""),b=Dl(new w(n+"."+r.slice(1)),p-y).plus(f),w.precision=v,t==null?(Nt=!0,ft(b,v)):b;for(u=c=b=aa(b.minus(zr),b.plus(zr),p),h=ft(b.times(b),p),a=3;;){if(c=ft(c.times(h),p),f=u.plus(aa(c,new w(a),p)),Tn(f.d).slice(0,p)===Tn(u.d).slice(0,p))return u=u.times(2),s!==0&&(u=u.plus(zy(w,p+2,v).times(s+""))),u=aa(u,new w(m),p),w.precision=v,t==null?(Nt=!0,ft(u,v)):u;u=f,a+=2}}function HP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ps(r/bt),e.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=bt;n<a;)e.d.push(+t.slice(n,n+=bt));t=t.slice(n),n=bt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Nt&&(e.e>dd||e.e<-dd))throw Error(Kb+r)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,r){var n,a,s,c,u,f,p,h,m=e.d;for(c=1,s=m[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=bt,a=t,p=m[h=0];else{if(h=Math.ceil((n+1)/bt),s=m.length,h>=s)return e;for(p=s=m[h],c=1;s>=10;s/=10)c++;n%=bt,a=n-bt+c}if(r!==void 0&&(s=gi(10,c-a-1),u=p/s%10|0,f=t<0||m[h+1]!==void 0||p%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?p/gi(10,c-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return f?(s=Rt(e),m.length=1,t=t-s-1,m[0]=gi(10,(bt-t%bt)%bt),e.e=ps(-t/bt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=gi(10,bt-n),m[h]=a>0?(p/gi(10,c-a)%gi(10,a)|0)*s:0),f)for(;;)if(h==0){(m[0]+=s)==Xt&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=Xt)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Nt&&(e.e>dd||e.e<-dd))throw Error(Kb+Rt(e));return e}function wE(e,t){var r,n,a,s,c,u,f,p,h,m,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Nt?ft(t,b):t;if(f=e.d,m=t.d,n=t.e,p=e.e,f=f.slice(),c=p-n,c){for(h=c<0,h?(r=f,c=-c,u=m.length):(r=m,n=p,u=f.length),a=Math.max(Math.ceil(b/bt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=m.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=m[a]){h=f[a]<m[a];break}c=0}for(h&&(r=f,f=m,m=r,t.s=-t.s),u=f.length,a=m.length-u;a>0;--a)f[u++]=0;for(a=m.length;a>c;){if(f[--a]<m[a]){for(s=a;s&&f[--s]===0;)f[s]=Xt-1;--f[s],f[a]+=Xt}f[a]-=m[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,Nt?ft(t,b):t):new y(0)}function Ei(e,t,r){var n,a=Rt(e),s=Tn(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Ra(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ra(-a-1)+s,r&&(n=r-c)>0&&(s+=Ra(n))):a>=c?(s+=Ra(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+Ra(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=Ra(n))),e.s<0?"-"+s:s}function KP(e,t){if(e.length>t)return e.length=t,!0}function jE(e){var t,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ai+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return HP(c,s.toString())}else if(typeof s!="string")throw Error(Ai+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Lq.test(s))HP(c,s);else throw Error(Ai+s)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jE,a.config=a.set=Fq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Fq(e){if(!e||typeof e!="object")throw Error(nn+"Object expected");var t,r,n,a=["precision",1,fs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ps(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ai+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ai+r+": "+n);return this}var Vb=jE(Rq);zr=new Vb(1);const dt=Vb;function qq(e){return Wq(e)||Uq(e)||zq(e)||Bq()}function Bq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zq(e,t){if(e){if(typeof e=="string")return nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nx(e,t)}}function Uq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Wq(e){if(Array.isArray(e))return nx(e)}function nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hq=function(t){return t},NE={},SE=function(t){return t===NE},VP=function(t){return function r(){return arguments.length===0||arguments.length===1&&SE(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Kq=function e(t,r){return t===1?r:VP(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=a.filter(function(u){return u!==NE}).length;return c>=t?r.apply(void 0,a):e(t-c,VP(function(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];var h=a.map(function(m){return SE(m)?f.shift():m});return r.apply(void 0,qq(h).concat(f))}))})},mf=function(t){return Kq(t.length,t)},ax=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Vq=mf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Gq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Hq;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce(function(u,f){return f(u)},s.apply(void 0,arguments))}},ix=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},PE=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r&&s.every(function(u,f){return u===r[f]})||(r=s,n=t.apply(void 0,s)),n}};function Xq(e){var t;return e===0?t=1:t=Math.floor(new dt(e).abs().log(10).toNumber())+1,t}function Yq(e,t,r){for(var n=new dt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Qq=mf(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Jq=mf(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Zq=mf(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hf={rangeStep:Yq,getDigitCount:Xq,interpolateNumber:Qq,uninterpolateNumber:Jq,uninterpolateTruncation:Zq};function ox(e){return r8(e)||t8(e)||OE(e)||e8()}function e8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function r8(e){if(Array.isArray(e))return sx(e)}function $l(e,t){return i8(e)||a8(e,t)||OE(e,t)||n8()}function n8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OE(e,t){if(e){if(typeof e=="string")return sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sx(e,t)}}function sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a8(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var c=e[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(f){a=!0,s=f}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw s}}return r}}function i8(e){if(Array.isArray(e))return e}function _E(e){var t=$l(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function AE(e,t,r){if(e.lte(0))return new dt(0);var n=hf.getDigitCount(e.toNumber()),a=new dt(10).pow(n),s=e.div(a),c=n!==1?.05:.1,u=new dt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),f=u.mul(a);return t?f:new dt(Math.ceil(f))}function o8(e,t,r){var n=1,a=new dt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new dt(10).pow(hf.getDigitCount(e)-1),a=new dt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new dt(Math.floor(e)))}else e===0?a=new dt(Math.floor((t-1)/2)):r||(a=new dt(Math.floor(e)));var c=Math.floor((t-1)/2),u=Gq(Vq(function(f){return a.add(new dt(f-c).mul(n)).toNumber()}),ax);return u(0,t)}function kE(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var s=AE(new dt(t).sub(e).div(r-1),n,a),c;e<=0&&t>=0?c=new dt(0):(c=new dt(e).add(t).div(2),c=c.sub(new dt(c).mod(s)));var u=Math.ceil(c.sub(e).div(s).toNumber()),f=Math.ceil(new dt(t).sub(c).div(s).toNumber()),p=u+f+1;return p>r?kE(e,t,r,n,a+1):(p<r&&(f=t>0?f+(r-p):f,u=t>0?u:u+(r-p)),{step:s,tickMin:c.sub(new dt(u).mul(s)),tickMax:c.add(new dt(f).mul(s))})}function s8(e){var t=$l(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=_E([r,n]),f=$l(u,2),p=f[0],h=f[1];if(p===-1/0||h===1/0){var m=h===1/0?[p].concat(ox(ax(0,a-1).map(function(){return 1/0}))):[].concat(ox(ax(0,a-1).map(function(){return-1/0})),[h]);return r>n?ix(m):m}if(p===h)return o8(p,a,s);var y=kE(p,h,c,s),b=y.step,j=y.tickMin,w=y.tickMax,v=hf.rangeStep(j,w.add(new dt(.1).mul(b)),b);return r>n?ix(v):v}function l8(e,t){var r=$l(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=_E([n,a]),u=$l(c,2),f=u[0],p=u[1];if(f===-1/0||p===1/0)return[n,a];if(f===p)return[f];var h=Math.max(t,2),m=AE(new dt(p).sub(f).div(h-1),s,0),y=[].concat(ox(hf.rangeStep(new dt(f),new dt(p).sub(new dt(.99).mul(m)),m)),[p]);return n>a?ix(y):y}var c8=PE(s8),u8=PE(l8),d8="Invariant failed";function Ci(e,t){throw new Error(d8)}var f8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}function p8(e,t){return y8(e)||g8(e,t)||h8(e,t)||m8()}function m8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8(e,t){if(e){if(typeof e=="string")return GP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(e,t)}}function GP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function y8(e){if(Array.isArray(e))return e}function v8(e,t){if(e==null)return{};var r=x8(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TE(n.key),n)}}function j8(e,t,r){return t&&w8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N8(e,t,r){return t=pd(t),S8(e,EE()?Reflect.construct(t,r||[],pd(e).constructor):t.apply(e,r))}function S8(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P8(e)}function P8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EE=function(){return!!e})()}function pd(e){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(e)}function O8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lx(e,t)}function CE(e,t,r){return t=TE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TE(e){var t=_8(e,"string");return Lo(t)=="symbol"?t:t+""}function _8(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ms=(function(e){function t(){return b8(this,t),N8(this,t,arguments)}return O8(t,e),j8(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,c=n.width,u=n.dataKey,f=n.data,p=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=v8(n,f8),b=De(y,!1);this.props.direction==="x"&&h.type!=="number"&&Ci();var j=f.map(function(w){var v=p(w,u),O=v.x,_=v.y,A=v.value,k=v.errorVal;if(!k)return null;var P=[],S,C;if(Array.isArray(k)){var T=p8(k,2);S=T[0],C=T[1]}else S=C=k;if(s==="vertical"){var q=h.scale,H=_+a,F=H+c,L=H-c,Y=q(A-S),G=q(A+C);P.push({x1:G,y1:F,x2:G,y2:L}),P.push({x1:Y,y1:H,x2:G,y2:H}),P.push({x1:Y,y1:F,x2:Y,y2:L})}else if(s==="horizontal"){var te=m.scale,U=O+a,Q=U-c,Z=U+c,B=te(A-S),$=te(A+C);P.push({x1:Q,y1:$,x2:Z,y2:$}),P.push({x1:U,y1:B,x2:U,y2:$}),P.push({x1:Q,y1:B,x2:Z,y2:B})}return M.createElement(Ye,fd({className:"recharts-errorBar",key:"bar-".concat(P.map(function(E){return"".concat(E.x1,"-").concat(E.x2,"-").concat(E.y1,"-").concat(E.y2)}))},b),P.map(function(E){return M.createElement("line",fd({},E,{key:"line-".concat(E.x1,"-").concat(E.x2,"-").concat(E.y1,"-").concat(E.y2)}))}))});return M.createElement(Ye,{className:"recharts-errorBars"},j)}}])})(M.Component);CE(ms,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CE(ms,"displayName","ErrorBar");function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){A8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t,r){return t=k8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=E8(e,"string");return Rl(t)=="symbol"?t:t+""}function E8(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IE=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,c=Br(r,Oi);if(!c)return null;var u=Oi.defaultProps,f=u!==void 0?fi(fi({},u),c.props):{},p;return c.props&&c.props.payload?p=c.props&&c.props.payload:s==="children"?p=(n||[]).reduce(function(h,m){var y=m.item,b=m.props,j=b.sectors||b.data||[];return h.concat(j.map(function(w){return{type:c.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):p=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?fi(fi({},y),m.props):{},j=b.dataKey,w=b.name,v=b.legendType,O=b.hide;return{inactive:O,dataKey:j,type:f.iconType||v||"square",color:Gb(m),value:w||j,payload:b}}),fi(fi(fi({},f),Oi.getWithHeight(c,a)),{},{payload:p,item:c})};function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function YP(e){return M8(e)||I8(e)||T8(e)||C8()}function C8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){if(e){if(typeof e=="string")return cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(e,t)}}function I8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M8(e){if(Array.isArray(e))return cx(e)}function cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){Ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ao(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=$8(e,"string");return Ll(t)=="symbol"?t:t+""}function $8(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,r){return Ue(e)||Ue(t)?r:zt(t)?Ur(e,t,r):ze(t)?t(e):r}function gl(e,t,r,n){var a=Mq(e,function(u){return wt(u,t)});if(r==="number"){var s=a.filter(function(u){return Ne(u)||parseFloat(u)});return s.length?[pf(s),Fa(s)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!Ue(u)}):a;return c.map(function(u){return zt(u)||u instanceof Date?u:""})}var R8=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,p=0;p<u;p++){var h=p>0?a[p-1].coordinate:a[u-1].coordinate,m=a[p].coordinate,y=p>=u-1?a[0].coordinate:a[p+1].coordinate,b=void 0;if(xr(m-h)!==xr(y-m)){var j=[];if(xr(y-m)===xr(f[1]-f[0])){b=y;var w=m+f[1]-f[0];j[0]=Math.min(w,(w+h)/2),j[1]=Math.max(w,(w+h)/2)}else{b=h;var v=y+f[1]-f[0];j[0]=Math.min(m,(v+m)/2),j[1]=Math.max(m,(v+m)/2)}var O=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>O[0]&&t<=O[1]||t>=j[0]&&t<=j[1]){c=a[p].index;break}}else{var _=Math.min(h,y),A=Math.max(h,y);if(t>(_+m)/2&&t<=(A+m)/2){c=a[p].index;break}}}else for(var k=0;k<u;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<u-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===u-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){c=n[k].index;break}return c},Gb=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,c=s.stroke,u=s.fill,f;switch(a){case"Line":f=c;break;case"Area":case"Radar":f=c&&c!=="none"?c:u;break;default:f=u;break}return f},L8=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var c={},u=Object.keys(s),f=0,p=u.length;f<p;f++)for(var h=s[u[f]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var j=h[m[y]],w=j.items,v=j.cateAxisId,O=w.filter(function(C){return na(C.type).indexOf("Bar")>=0});if(O&&O.length){var _=O[0].type.defaultProps,A=_!==void 0?At(At({},_),O[0].props):O[0].props,k=A.barSize,P=A[v];c[P]||(c[P]=[]);var S=Ue(k)?r:k;c[P].push({item:O[0],stackList:O.slice(1),barSize:Ue(S)?void 0:br(S,n,0)})}}return c},F8=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,c=s===void 0?[]:s,u=t.maxBarSize,f=c.length;if(f<1)return null;var p=br(r,a,0,!0),h,m=[];if(c[0].barSize===+c[0].barSize){var y=!1,b=a/f,j=c.reduce(function(k,P){return k+P.barSize||0},0);j+=(f-1)*p,j>=a&&(j-=(f-1)*p,p=0),j>=a&&b>0&&(y=!0,b*=.9,j=f*b);var w=(a-j)/2>>0,v={offset:w-p,size:0};h=c.reduce(function(k,P){var S={item:P.item,position:{offset:v.offset+v.size+p,size:y?b:P.barSize}},C=[].concat(YP(k),[S]);return v=C[C.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(T){C.push({item:T,position:v})}),C},m)}else{var O=br(n,a,0,!0);a-2*O-(f-1)*p<=0&&(p=0);var _=(a-2*O-(f-1)*p)/f;_>1&&(_>>=0);var A=u===+u?Math.min(_,u):_;h=c.reduce(function(k,P,S){var C=[].concat(YP(k),[{item:P.item,position:{offset:O+(_+p)*S+(_-A)/2,size:A}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(T){C.push({item:T,position:C[C.length-1].position})}),C},m)}return h},q8=function(t,r,n,a){var s=n.children,c=n.width,u=n.margin,f=c-(u.left||0)-(u.right||0),p=IE({children:s,legendWidth:f});if(p){var h=a||{},m=h.width,y=h.height,b=p.align,j=p.verticalAlign,w=p.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&b!=="center"&&Ne(t[b]))return At(At({},t),{},Ao({},b,t[b]+(m||0)));if((w==="horizontal"||w==="vertical"&&b==="center")&&j!=="middle"&&Ne(t[j]))return At(At({},t),{},Ao({},j,t[j]+(y||0)))}return t},B8=function(t,r,n){return Ue(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ME=function(t,r,n,a,s){var c=r.props.children,u=jr(c,ms).filter(function(p){return B8(a,s,p.props.direction)});if(u&&u.length){var f=u.map(function(p){return p.props.dataKey});return t.reduce(function(p,h){var m=wt(h,n);if(Ue(m))return p;var y=Array.isArray(m)?[pf(m),Fa(m)]:[m,m],b=f.reduce(function(j,w){var v=wt(h,w,0),O=y[0]-Math.abs(Array.isArray(v)?v[0]:v),_=y[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(O,j[0]),Math.max(_,j[1])]},[1/0,-1/0]);return[Math.min(b[0],p[0]),Math.max(b[1],p[1])]},[1/0,-1/0])}return null},z8=function(t,r,n,a,s){var c=r.map(function(u){return ME(t,u,n,s,a)}).filter(function(u){return!Ue(u)});return c&&c.length?c.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},DE=function(t,r,n,a,s){var c=r.map(function(f){var p=f.props.dataKey;return n==="number"&&p&&ME(t,f,p,a)||gl(t,p,n,s)});if(n==="number")return c.reduce(function(f,p){return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);var u={};return c.reduce(function(f,p){for(var h=0,m=p.length;h<m;h++)u[p[h]]||(u[p[h]]=!0,f.push(p[h]));return f},[])},$E=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},RE=function(t,r,n,a){if(a)return t.map(function(f){return f.coordinate});var s,c,u=t.map(function(f){return f.coordinate===r&&(s=!0),f.coordinate===n&&(c=!0),f.coordinate});return s||u.push(r),c||u.push(n),u},ra=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,c=t.type,u=t.range,f=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,p=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/f:0;if(p=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?xr(u[0]-u[1])*2*p:p,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var y=s?s.indexOf(m):m;return{coordinate:a(y)+p,value:m,offset:p}});return h.filter(function(m){return!ls(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,y){return{coordinate:a(m)+p,value:m,index:y,offset:p}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+p,value:m,offset:p}}):a.domain().map(function(m,y){return{coordinate:a(m)+p,value:s?s[m]:m,index:y,offset:p}})},Uy=new WeakMap,Cu=function(t,r){if(typeof r!="function")return t;Uy.has(t)||Uy.set(t,new WeakMap);var n=Uy.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},LE=function(t,r,n){var a=t.scale,s=t.type,c=t.layout,u=t.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:El(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:sd(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hl(),realScaleType:"point"}:s==="category"?{scale:El(),realScaleType:"band"}:{scale:sd(),realScaleType:"linear"};if(sc(a)){var f="scale".concat(Qd(a));return{scale:($P[f]||hl)(),realScaleType:$P[f]?f:"point"}}return ze(a)?{scale:a}:{scale:hl(),realScaleType:"point"}},JP=1e-4,FE=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-JP,c=Math.max(a[0],a[1])+JP,u=t(r[0]),f=t(r[n-1]);(u<s||u>c||f<s||f>c)&&t.domain([r[0],r[n-1]])}},U8=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},W8=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(s[0]=n),(!Ne(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},H8=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,c=0,u=0;u<r;++u){var f=ls(t[u][n][1])?t[u][n][0]:t[u][n][1];f>=0?(t[u][n][0]=s,t[u][n][1]=s+f,s=t[u][n][1]):(t[u][n][0]=c,t[u][n][1]=c+f,c=t[u][n][1])}},K8=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,c=0;c<r;++c){var u=ls(t[c][n][1])?t[c][n][0]:t[c][n][1];u>=0?(t[c][n][0]=s,t[c][n][1]=s+u,s=t[c][n][1]):(t[c][n][0]=0,t[c][n][1]=0)}},V8={sign:H8,expand:M$,none:Eo,silhouette:D$,wiggle:$$,positive:K8},G8=function(t,r,n){var a=r.map(function(u){return u.props.dataKey}),s=V8[n],c=I$().keys(a).value(function(u,f){return+wt(u,f,0)}).order(Fv).offset(s);return c(t)},X8=function(t,r,n,a,s,c){if(!t)return null;var u=c?r.reverse():r,f={},p=u.reduce(function(m,y){var b,j=(b=y.type)!==null&&b!==void 0&&b.defaultProps?At(At({},y.type.defaultProps),y.props):y.props,w=j.stackId,v=j.hide;if(v)return m;var O=j[n],_=m[O]||{hasStack:!1,stackGroups:{}};if(zt(w)){var A=_.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};A.items.push(y),_.hasStack=!0,_.stackGroups[w]=A}else _.stackGroups[Xa("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return At(At({},m),{},Ao({},O,_))},f),h={};return Object.keys(p).reduce(function(m,y){var b=p[y];if(b.hasStack){var j={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(w,v){var O=b.stackGroups[v];return At(At({},w),{},Ao({},v,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:G8(t,O.items,s)}))},j)}return At(At({},m),{},Ao({},y,b))},h)},qE=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,c=r.originalDomain,u=r.allowDecimals,f=n||r.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var p=t.domain();if(!p.length)return null;var h=c8(p,s,u);return t.domain([pf(h),Fa(h)]),{niceTicks:h}}if(s&&a==="number"){var m=t.domain(),y=u8(m,s,u);return{niceTicks:y}}return null};function Fo(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(a[t.dataKey])){var u=zu(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var f=wt(a,Ue(c)?t.dataKey:c);return Ue(f)?null:t.scale(f)}var ZP=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,c=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var f=wt(c,r.dataKey,r.domain[u]);return Ue(f)?null:r.scale(f)-s/2+a},Y8=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Q8=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(zt(s)){var c=r[s];if(c){var u=c.items.indexOf(t);return u>=0?c.stackedData[u]:null}}return null},J8=function(t){return t.reduce(function(r,n){return[pf(n.concat([r[0]]).filter(Ne)),Fa(n.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},BE=function(t,r,n){return Object.keys(t).reduce(function(a,s){var c=t[s],u=c.stackedData,f=u.reduce(function(p,h){var m=J8(h.slice(r,n+1));return[Math.min(p[0],m[0]),Math.max(p[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},eO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ux=function(t,r,n){if(ze(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ne(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(eO.test(t[0])){var s=+eO.exec(t[0])[1];a[0]=r[0]-s}else ze(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ne(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(tO.test(t[1])){var c=+tO.exec(t[1])[1];a[1]=r[1]+c}else ze(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},md=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=jb(r,function(m){return m.coordinate}),c=1/0,u=1,f=s.length;u<f;u++){var p=s[u],h=s[u-1];c=Math.min((p.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},rO=function(t,r,n){return!t||!t.length||Ka(t,Ur(n,"type.defaultProps.domain"))?r:t},zE=function(t,r){var n=t.type.defaultProps?At(At({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,c=n.unit,u=n.formatter,f=n.tooltipType,p=n.chartType,h=n.hide;return At(At({},De(t,!1)),{},{dataKey:a,unit:c,formatter:u,name:s||a,color:Gb(t),value:wt(r,a),type:f,payload:r,chartType:p,hide:h})};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){UE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UE(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=eB(e,"string");return Fl(t)=="symbol"?t:t+""}function eB(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tB(e,t){return iB(e)||aB(e,t)||nB(e,t)||rB()}function rB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function iB(e){if(Array.isArray(e))return e}var hd=Math.PI/180,oB=function(t){return t*180/Math.PI},yt=function(t,r,n,a){return{x:t+Math.cos(-hd*a)*n,y:r+Math.sin(-hd*a)*n}},WE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sB=function(t,r,n,a,s){var c=t.width,u=t.height,f=t.startAngle,p=t.endAngle,h=br(t.cx,c,c/2),m=br(t.cy,u,u/2),y=WE(c,u,n),b=br(t.innerRadius,y,0),j=br(t.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(v,O){var _=r[O],A=_.domain,k=_.reversed,P;if(Ue(_.range))a==="angleAxis"?P=[f,p]:a==="radiusAxis"&&(P=[b,j]),k&&(P=[P[1],P[0]]);else{P=_.range;var S=P,C=tB(S,2);f=C[0],p=C[1]}var T=LE(_,s),q=T.realScaleType,H=T.scale;H.domain(A).range(P),FE(H);var F=qE(H,Zn(Zn({},_),{},{realScaleType:q})),L=Zn(Zn(Zn({},_),F),{},{range:P,radius:j,realScaleType:q,scale:H,cx:h,cy:m,innerRadius:b,outerRadius:j,startAngle:f,endAngle:p});return Zn(Zn({},v),{},UE({},O,L))},{})},lB=function(t,r){var n=t.x,a=t.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-c,2))},cB=function(t,r){var n=t.x,a=t.y,s=r.cx,c=r.cy,u=lB({x:n,y:a},{x:s,y:c});if(u<=0)return{radius:u};var f=(n-s)/u,p=Math.acos(f);return a>c&&(p=2*Math.PI-p),{radius:u,angle:oB(p),angleInRadian:p}},uB=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return{startAngle:r-c*360,endAngle:n-c*360}},dB=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(s,c);return t+u*360},iO=function(t,r){var n=t.x,a=t.y,s=cB({x:n,y:a},r),c=s.radius,u=s.angle,f=r.innerRadius,p=r.outerRadius;if(c<f||c>p)return!1;if(c===0)return!0;var h=uB(r),m=h.startAngle,y=h.endAngle,b=u,j;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;j=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;j=b>=y&&b<=m}return j?Zn(Zn({},r),{},{radius:c,angle:dB(b,r)}):null},HE=function(t){return!D.isValidElement(t)&&!ze(t)&&typeof t!="boolean"?t.className:""};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}var fB=["offset"];function pB(e){return yB(e)||gB(e)||hB(e)||mB()}function mB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(e,t){if(e){if(typeof e=="string")return dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(e,t)}}function gB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yB(e){if(Array.isArray(e))return dx(e)}function dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vB(e,t){if(e==null)return{};var r=xB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){bB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bB(e,t,r){return t=wB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=jB(e,"string");return ql(t)=="symbol"?t:t+""}function jB(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}var NB=function(t){var r=t.value,n=t.formatter,a=Ue(t.children)?r:t.children;return ze(n)?n(a):a},SB=function(t,r){var n=xr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},PB=function(t,r,n){var a=t.position,s=t.viewBox,c=t.offset,u=t.className,f=s,p=f.cx,h=f.cy,m=f.innerRadius,y=f.outerRadius,b=f.startAngle,j=f.endAngle,w=f.clockWise,v=(m+y)/2,O=SB(b,j),_=O>=0?1:-1,A,k;a==="insideStart"?(A=b+_*c,k=w):a==="insideEnd"?(A=j-_*c,k=!w):a==="end"&&(A=j+_*c,k=w),k=O<=0?k:!k;var P=yt(p,h,v,A),S=yt(p,h,v,A+(k?1:-1)*359),C="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),T=Ue(t.id)?Xa("recharts-radial-line-"):t.id;return M.createElement("text",Bl({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),M.createElement("defs",null,M.createElement("path",{id:T,d:C})),M.createElement("textPath",{xlinkHref:"#".concat(T)},r))},OB=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,c=s.cx,u=s.cy,f=s.innerRadius,p=s.outerRadius,h=s.startAngle,m=s.endAngle,y=(h+m)/2;if(a==="outside"){var b=yt(c,u,p+n,y),j=b.x,w=b.y;return{x:j,y:w,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var v=(f+p)/2,O=yt(c,u,v,y),_=O.x,A=O.y;return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},_B=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,c=r,u=c.x,f=c.y,p=c.width,h=c.height,m=h>=0?1:-1,y=m*a,b=m>0?"end":"start",j=m>0?"start":"end",w=p>=0?1:-1,v=w*a,O=w>0?"end":"start",_=w>0?"start":"end";if(s==="top"){var A={x:u+p/2,y:f-m*a,textAnchor:"middle",verticalAnchor:b};return Bt(Bt({},A),n?{height:Math.max(f-n.y,0),width:p}:{})}if(s==="bottom"){var k={x:u+p/2,y:f+h+y,textAnchor:"middle",verticalAnchor:j};return Bt(Bt({},k),n?{height:Math.max(n.y+n.height-(f+h),0),width:p}:{})}if(s==="left"){var P={x:u-v,y:f+h/2,textAnchor:O,verticalAnchor:"middle"};return Bt(Bt({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(s==="right"){var S={x:u+p+v,y:f+h/2,textAnchor:_,verticalAnchor:"middle"};return Bt(Bt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:h}:{})}var C=n?{width:p,height:h}:{};return s==="insideLeft"?Bt({x:u+v,y:f+h/2,textAnchor:_,verticalAnchor:"middle"},C):s==="insideRight"?Bt({x:u+p-v,y:f+h/2,textAnchor:O,verticalAnchor:"middle"},C):s==="insideTop"?Bt({x:u+p/2,y:f+y,textAnchor:"middle",verticalAnchor:j},C):s==="insideBottom"?Bt({x:u+p/2,y:f+h-y,textAnchor:"middle",verticalAnchor:b},C):s==="insideTopLeft"?Bt({x:u+v,y:f+y,textAnchor:_,verticalAnchor:j},C):s==="insideTopRight"?Bt({x:u+p-v,y:f+y,textAnchor:O,verticalAnchor:j},C):s==="insideBottomLeft"?Bt({x:u+v,y:f+h-y,textAnchor:_,verticalAnchor:b},C):s==="insideBottomRight"?Bt({x:u+p-v,y:f+h-y,textAnchor:O,verticalAnchor:b},C):ss(s)&&(Ne(s.x)||xi(s.x))&&(Ne(s.y)||xi(s.y))?Bt({x:u+br(s.x,p),y:f+br(s.y,h),textAnchor:"end",verticalAnchor:"end"},C):Bt({x:u+p/2,y:f+h/2,textAnchor:"middle",verticalAnchor:"middle"},C)},AB=function(t){return"cx"in t&&Ne(t.cx)};function Yt(e){var t=e.offset,r=t===void 0?5:t,n=vB(e,fB),a=Bt({offset:r},n),s=a.viewBox,c=a.position,u=a.value,f=a.children,p=a.content,h=a.className,m=h===void 0?"":h,y=a.textBreakAll;if(!s||Ue(u)&&Ue(f)&&!D.isValidElement(p)&&!ze(p))return null;if(D.isValidElement(p))return D.cloneElement(p,a);var b;if(ze(p)){if(b=D.createElement(p,a),D.isValidElement(b))return b}else b=NB(a);var j=AB(s),w=De(a,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return PB(a,b,w);var v=j?OB(a):_B(a);return M.createElement(ki,Bl({className:Xe("recharts-label",m)},w,v,{breakAll:y}),b)}Yt.displayName="Label";var KE=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,c=t.endAngle,u=t.r,f=t.radius,p=t.innerRadius,h=t.outerRadius,m=t.x,y=t.y,b=t.top,j=t.left,w=t.width,v=t.height,O=t.clockWise,_=t.labelViewBox;if(_)return _;if(Ne(w)&&Ne(v)){if(Ne(m)&&Ne(y))return{x:m,y,width:w,height:v};if(Ne(b)&&Ne(j))return{x:b,y:j,width:w,height:v}}return Ne(m)&&Ne(y)?{x:m,y,width:0,height:0}:Ne(r)&&Ne(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:c||a||0,innerRadius:p||0,outerRadius:h||f||u||0,clockWise:O}:t.viewBox?t.viewBox:{}},kB=function(t,r){return t?t===!0?M.createElement(Yt,{key:"label-implicit",viewBox:r}):zt(t)?M.createElement(Yt,{key:"label-implicit",viewBox:r,value:t}):D.isValidElement(t)?t.type===Yt?D.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Yt,{key:"label-implicit",content:t,viewBox:r}):ze(t)?M.createElement(Yt,{key:"label-implicit",content:t,viewBox:r}):ss(t)?M.createElement(Yt,Bl({viewBox:r},t,{key:"label-implicit"})):null:null},EB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=KE(t),c=jr(a,Yt).map(function(f,p){return D.cloneElement(f,{viewBox:r||s,key:"label-".concat(p)})});if(!n)return c;var u=kB(t.label,r||s);return[u].concat(pB(c))};Yt.parseViewBox=KE;Yt.renderCallByParent=EB;var Wy,sO;function CB(){if(sO)return Wy;sO=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Wy=e,Wy}var TB=CB();const IB=ct(TB);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}var MB=["valueAccessor"],DB=["data","dataKey","clockWise","id","textBreakAll"];function $B(e){return qB(e)||FB(e)||LB(e)||RB()}function RB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LB(e,t){if(e){if(typeof e=="string")return fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}}function FB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qB(e){if(Array.isArray(e))return fx(e)}function fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){BB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BB(e,t,r){return t=zB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=UB(e,"string");return zl(t)=="symbol"?t:t+""}function UB(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uO(e,t){if(e==null)return{};var r=WB(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HB=function(t){return Array.isArray(t.value)?IB(t.value):t.value};function jn(e){var t=e.valueAccessor,r=t===void 0?HB:t,n=uO(e,MB),a=n.data,s=n.dataKey,c=n.clockWise,u=n.id,f=n.textBreakAll,p=uO(n,DB);return!a||!a.length?null:M.createElement(Ye,{className:"recharts-label-list"},a.map(function(h,m){var y=Ue(s)?r(h,m):wt(h&&h.payload,s),b=Ue(u)?{}:{id:"".concat(u,"-").concat(m)};return M.createElement(Yt,gd({},De(h,!0),p,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:f,viewBox:Yt.parseViewBox(Ue(c)?h:cO(cO({},h),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}jn.displayName="LabelList";function KB(e,t){return e?e===!0?M.createElement(jn,{key:"labelList-implicit",data:t}):M.isValidElement(e)||ze(e)?M.createElement(jn,{key:"labelList-implicit",data:t,content:e}):ss(e)?M.createElement(jn,gd({data:t},e,{key:"labelList-implicit"})):null:null}function VB(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=jr(n,jn).map(function(c,u){return D.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!r)return a;var s=KB(e.label,t);return[s].concat($B(a))}jn.renderCallByParent=VB;function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return t=XB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XB(e){var t=YB(e,"string");return Ul(t)=="symbol"?t:t+""}function YB(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QB=function(t,r){var n=xr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Tu=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,c=t.sign,u=t.isExternal,f=t.cornerRadius,p=t.cornerIsExternal,h=f*(u?1:-1)+a,m=Math.asin(f/h)/hd,y=p?s:s+c*m,b=yt(r,n,h,y),j=yt(r,n,a,y),w=p?s-c*m:s,v=yt(r,n,h*Math.cos(m*hd),w);return{center:b,circleTangency:j,lineTangency:v,theta:m}},VE=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,c=t.startAngle,u=t.endAngle,f=QB(c,u),p=c+f,h=yt(r,n,s,c),m=yt(r,n,s,p),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>p),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var b=yt(r,n,a,c),j=yt(r,n,a,p);y+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=p),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},JB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,p=t.startAngle,h=t.endAngle,m=xr(h-p),y=Tu({cx:r,cy:n,radius:s,angle:p,sign:m,cornerRadius:c,cornerIsExternal:f}),b=y.circleTangency,j=y.lineTangency,w=y.theta,v=Tu({cx:r,cy:n,radius:s,angle:h,sign:-m,cornerRadius:c,cornerIsExternal:f}),O=v.circleTangency,_=v.lineTangency,A=v.theta,k=f?Math.abs(p-h):Math.abs(p-h)-w-A;if(k<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):VE({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:p,endAngle:h});var P="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var S=Tu({cx:r,cy:n,radius:a,angle:p,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),C=S.circleTangency,T=S.lineTangency,q=S.theta,H=Tu({cx:r,cy:n,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),F=H.circleTangency,L=H.lineTangency,Y=H.theta,G=f?Math.abs(p-h):Math.abs(p-h)-q-Y;if(G<0&&c===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(L.x,",").concat(L.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},ZB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GE=function(t){var r=fO(fO({},ZB),t),n=r.cx,a=r.cy,s=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,f=r.forceCornerRadius,p=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(c<s||h===m)return null;var b=Xe("recharts-sector",y),j=c-s,w=br(u,j,0,!0),v;return w>0&&Math.abs(h-m)<360?v=JB({cx:n,cy:a,innerRadius:s,outerRadius:c,cornerRadius:Math.min(w,j/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:h,endAngle:m}):v=VE({cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:h,endAngle:m}),M.createElement("path",px({},De(r,!0),{className:b,d:v,role:"img"}))};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(this,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){e7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7(e,t,r){return t=t7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return Wl(t)=="symbol"?t:t+""}function r7(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hO={curveBasisClosed:j$,curveBasisOpen:N$,curveBasis:w$,curveBumpX:s$,curveBumpY:l$,curveLinearClosed:S$,curveLinear:Zd,curveMonotoneX:P$,curveMonotoneY:O$,curveNatural:_$,curveStep:A$,curveStepAfter:E$,curveStepBefore:k$},Iu=function(t){return t.x===+t.x&&t.y===+t.y},rl=function(t){return t.x},nl=function(t){return t.y},n7=function(t,r){if(ze(t))return t;var n="curve".concat(Qd(t));return(n==="curveMonotone"||n==="curveBump")&&r?hO["".concat(n).concat(r==="vertical"?"Y":"X")]:hO[n]||Zd},a7=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,c=t.baseLine,u=t.layout,f=t.connectNulls,p=f===void 0?!1:f,h=n7(n,u),m=p?s.filter(function(w){return Iu(w)}):s,y;if(Array.isArray(c)){var b=p?c.filter(function(w){return Iu(w)}):c,j=m.map(function(w,v){return mO(mO({},w),{},{base:b[v]})});return u==="vertical"?y=Su().y(nl).x1(rl).x0(function(w){return w.base.x}):y=Su().x(rl).y1(nl).y0(function(w){return w.base.y}),y.defined(Iu).curve(h),y(j)}return u==="vertical"&&Ne(c)?y=Su().y(nl).x1(rl).x0(c):Ne(c)?y=Su().x(rl).y1(nl).y0(c):y=VA().x(rl).y(nl),y.defined(Iu).curve(h),y(m)},Ua=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?a7(t):a;return M.createElement("path",mx({},De(t,!1),Uu(t),{className:Xe("recharts-curve",r),d:c,ref:s}))},Hy={exports:{}},Ky,gO;function i7(){if(gO)return Ky;gO=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ky=e,Ky}var Vy,yO;function o7(){if(yO)return Vy;yO=1;var e=i7();function t(){}function r(){}return r.resetWarningCache=t,Vy=function(){function n(c,u,f,p,h,m){if(m!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},Vy}var vO;function s7(){return vO||(vO=1,Hy.exports=o7()()),Hy.exports}var l7=s7();const lt=ct(l7),{getOwnPropertyNames:c7,getOwnPropertySymbols:u7}=Object,{hasOwnProperty:d7}=Object.prototype;function Gy(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Mu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:s}=a,c=s.get(r),u=s.get(n);if(c&&u)return c===n&&u===r;s.set(r,n),s.set(n,r);const f=e(r,n,a);return s.delete(r),s.delete(n),f}}function f7(e){return e!=null?e[Symbol.toStringTag]:void 0}function xO(e){return c7(e).concat(u7(e))}const p7=Object.hasOwn||((e,t)=>d7.call(e,t));function Ri(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const m7="__v",h7="__o",g7="_owner",{getOwnPropertyDescriptor:bO,keys:wO}=Object;function y7(e,t){return e.byteLength===t.byteLength&&yd(new Uint8Array(e),new Uint8Array(t))}function v7(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function x7(e,t){return e.byteLength===t.byteLength&&yd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function b7(e,t){return Ri(e.getTime(),t.getTime())}function w7(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function j7(e,t){return e===t}function jO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.entries();let c,u,f=0;for(;(c=s.next())&&!c.done;){const p=t.entries();let h=!1,m=0;for(;(u=p.next())&&!u.done;){if(a[m]){m++;continue}const y=c.value,b=u.value;if(r.equals(y[0],b[0],f,m,e,t,r)&&r.equals(y[1],b[1],y[0],b[0],e,t,r)){h=a[m]=!0;break}m++}if(!h)return!1;f++}return!0}const N7=Ri;function S7(e,t,r){const n=wO(e);let a=n.length;if(wO(t).length!==a)return!1;for(;a-- >0;)if(!XE(e,t,r,n[a]))return!1;return!0}function al(e,t,r){const n=xO(e);let a=n.length;if(xO(t).length!==a)return!1;let s,c,u;for(;a-- >0;)if(s=n[a],!XE(e,t,r,s)||(c=bO(e,s),u=bO(t,s),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function P7(e,t){return Ri(e.valueOf(),t.valueOf())}function O7(e,t){return e.source===t.source&&e.flags===t.flags}function NO(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),s=e.values();let c,u;for(;(c=s.next())&&!c.done;){const f=t.values();let p=!1,h=0;for(;(u=f.next())&&!u.done;){if(!a[h]&&r.equals(c.value,u.value,c.value,u.value,e,t,r)){p=a[h]=!0;break}h++}if(!p)return!1}return!0}function yd(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function _7(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function XE(e,t,r,n){return(n===g7||n===h7||n===m7)&&(e.$$typeof||t.$$typeof)?!0:p7(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const A7="[object ArrayBuffer]",k7="[object Arguments]",E7="[object Boolean]",C7="[object DataView]",T7="[object Date]",I7="[object Error]",M7="[object Map]",D7="[object Number]",$7="[object Object]",R7="[object RegExp]",L7="[object Set]",F7="[object String]",q7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},B7="[object URL]",z7=Object.prototype.toString;function U7({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:s,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:p,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:b,unknownTagComparators:j}){return function(v,O,_){if(v===O)return!0;if(v==null||O==null)return!1;const A=typeof v;if(A!==typeof O)return!1;if(A!=="object")return A==="number"?u(v,O,_):A==="function"?s(v,O,_):!1;const k=v.constructor;if(k!==O.constructor)return!1;if(k===Object)return f(v,O,_);if(Array.isArray(v))return t(v,O,_);if(k===Date)return n(v,O,_);if(k===RegExp)return h(v,O,_);if(k===Map)return c(v,O,_);if(k===Set)return m(v,O,_);const P=z7.call(v);if(P===T7)return n(v,O,_);if(P===R7)return h(v,O,_);if(P===M7)return c(v,O,_);if(P===L7)return m(v,O,_);if(P===$7)return typeof v.then!="function"&&typeof O.then!="function"&&f(v,O,_);if(P===B7)return b(v,O,_);if(P===I7)return a(v,O,_);if(P===k7)return f(v,O,_);if(q7[P])return y(v,O,_);if(P===A7)return e(v,O,_);if(P===C7)return r(v,O,_);if(P===E7||P===D7||P===F7)return p(v,O,_);if(j){let S=j[P];if(!S){const C=f7(v);C&&(S=j[C])}if(S)return S(v,O,_)}return!1}}function W7({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:y7,areArraysEqual:r?al:v7,areDataViewsEqual:x7,areDatesEqual:b7,areErrorsEqual:w7,areFunctionsEqual:j7,areMapsEqual:r?Gy(jO,al):jO,areNumbersEqual:N7,areObjectsEqual:r?al:S7,arePrimitiveWrappersEqual:P7,areRegExpsEqual:O7,areSetsEqual:r?Gy(NO,al):NO,areTypedArraysEqual:r?Gy(yd,al):yd,areUrlsEqual:_7,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Mu(n.areArraysEqual),s=Mu(n.areMapsEqual),c=Mu(n.areObjectsEqual),u=Mu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:u})}return n}function H7(e){return function(t,r,n,a,s,c,u){return e(t,r,u)}}function K7({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(u,f){const{cache:p=e?new WeakMap:void 0,meta:h}=r();return t(u,f,{cache:p,equals:n,meta:h,strict:a})};if(e)return function(u,f){return t(u,f,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const s={cache:void 0,equals:n,meta:void 0,strict:a};return function(u,f){return t(u,f,s)}}const V7=Ja();Ja({strict:!0});Ja({circular:!0});Ja({circular:!0,strict:!0});Ja({createInternalComparator:()=>Ri});Ja({strict:!0,createInternalComparator:()=>Ri});Ja({circular:!0,createInternalComparator:()=>Ri});Ja({circular:!0,createInternalComparator:()=>Ri,strict:!0});function Ja(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,s=W7(e),c=U7(s),u=r?r(c):H7(c);return K7({circular:t,comparator:c,createState:n,equals:u,strict:a})}function G7(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function SO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):G7(a)};requestAnimationFrame(n)}function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function X7(e){return Z7(e)||J7(e)||Q7(e)||Y7()}function Y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z7(e){if(Array.isArray(e))return e}function ez(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,u=X7(c),f=u[0],p=u.slice(1);if(typeof f=="number"){SO(a.bind(null,p),f);return}a(f),SO(a.bind(null,p));return}hx(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){YE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YE(e,t,r){return t=tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=rz(e,"string");return Hl(t)==="symbol"?t:String(t)}function rz(e,t){if(Hl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nz=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},az=function(t){return t},iz=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yl=function(t,r){return Object.keys(r).reduce(function(n,a){return _O(_O({},n),{},YE({},a,t(a,r[a])))},{})},AO=function(t,r,n){return t.map(function(a){return"".concat(iz(a)," ").concat(r,"ms ").concat(n)}).join(",")};function oz(e,t){return cz(e)||lz(e,t)||QE(e,t)||sz()}function sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function cz(e){if(Array.isArray(e))return e}function uz(e){return pz(e)||fz(e)||QE(e)||dz()}function dz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QE(e,t){if(e){if(typeof e=="string")return gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(e,t)}}function fz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pz(e){if(Array.isArray(e))return gx(e)}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vd=1e-4,JE=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZE=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},kO=function(t,r){return function(n){var a=JE(t,r);return ZE(a,n)}},mz=function(t,r){return function(n){var a=JE(t,r),s=[].concat(uz(a.map(function(c,u){return c*u}).slice(1)),[0]);return ZE(s,n)}},EO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,c=1,u=1;break;case"ease":a=.25,s=.1,c=.25,u=1;break;case"ease-in":a=.42,s=0,c=1,u=1;break;case"ease-out":a=.42,s=0,c=.58,u=1;break;case"ease-in-out":a=0,s=0,c=.58,u=1;break;default:{var f=r[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var p=f[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=oz(p,4);a=h[0],s=h[1],c=h[2],u=h[3]}}}var m=kO(a,c),y=kO(s,u),b=mz(a,c),j=function(O){return O>1?1:O<0?0:O},w=function(O){for(var _=O>1?1:O,A=_,k=0;k<8;++k){var P=m(A)-_,S=b(A);if(Math.abs(P-_)<vd||S<vd)return y(A);A=j(A-P/S)}return y(A)};return w.isStepper=!1,w},hz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,c=t.dt,u=c===void 0?17:c,f=function(h,m,y){var b=-(h-m)*n,j=y*s,w=y+(b-j)*u/1e3,v=y*u/1e3+h;return Math.abs(v-m)<vd&&Math.abs(w)<vd?[m,0]:[v,w]};return f.isStepper=!0,f.dt=u,f},gz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EO(a);case"spring":return hz();default:if(a.split("(")[0]==="cubic-bezier")return EO(a)}return typeof a=="function"?a:null};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function CO(e){return xz(e)||vz(e)||eC(e)||yz()}function yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xz(e){if(Array.isArray(e))return vx(e)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yx(e,t,r){return t=bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=wz(e,"string");return Kl(t)==="symbol"?t:String(t)}function wz(e,t){if(Kl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jz(e,t){return Pz(e)||Sz(e,t)||eC(e,t)||Nz()}function Nz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eC(e,t){if(e){if(typeof e=="string")return vx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vx(e,t)}}function vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function Pz(e){if(Array.isArray(e))return e}var xd=function(t,r,n){return t+(r-t)*n},xx=function(t){var r=t.from,n=t.to;return r!==n},Oz=function e(t,r,n){var a=yl(function(s,c){if(xx(c)){var u=t(c.from,c.to,c.velocity),f=jz(u,2),p=f[0],h=f[1];return ar(ar({},c),{},{from:p,velocity:h})}return c},r);return n<1?yl(function(s,c){return xx(c)?ar(ar({},c),{},{velocity:xd(c.velocity,a[s].velocity,n),from:xd(c.from,a[s].from,n)}):c},r):e(t,a,n-1)};const _z=(function(e,t,r,n,a){var s=nz(e,t),c=s.reduce(function(v,O){return ar(ar({},v),{},yx({},O,[e[O],t[O]]))},{}),u=s.reduce(function(v,O){return ar(ar({},v),{},yx({},O,{from:e[O],velocity:0,to:t[O]}))},{}),f=-1,p,h,m=function(){return null},y=function(){return yl(function(O,_){return _.from},u)},b=function(){return!Object.values(u).filter(xx).length},j=function(O){p||(p=O);var _=O-p,A=_/r.dt;u=Oz(r,u,A),a(ar(ar(ar({},e),t),y())),p=O,b()||(f=requestAnimationFrame(m))},w=function(O){h||(h=O);var _=(O-h)/n,A=yl(function(P,S){return xd.apply(void 0,CO(S).concat([r(_)]))},c);if(a(ar(ar(ar({},e),t),A)),_<1)f=requestAnimationFrame(m);else{var k=yl(function(P,S){return xd.apply(void 0,CO(S).concat([r(1)]))},c);a(ar(ar(ar({},e),t),k))}};return m=r.isStepper?j:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}var Az=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kz(e,t){if(e==null)return{};var r=Ez(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ez(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Xy(e){return Mz(e)||Iz(e)||Tz(e)||Cz()}function Cz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tz(e,t){if(e){if(typeof e=="string")return bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bx(e,t)}}function Iz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mz(e){if(Array.isArray(e))return bx(e)}function bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ul(e,t,r){return t=tC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tC(n.key),n)}}function Rz(e,t,r){return t&&$z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tC(e){var t=Lz(e,"string");return qo(t)==="symbol"?t:String(t)}function Lz(e,t){if(qo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wx(e,t)}function wx(e,t){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wx(e,t)}function qz(e){var t=Bz();return function(){var n=bd(e),a;if(t){var s=bd(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return jx(this,a)}}function jx(e,t){if(t&&(qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nx(e)}function Nx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(e)}var an=(function(e){Fz(r,e);var t=qz(r);function r(n,a){var s;Dz(this,r),s=t.call(this,n,a);var c=s.props,u=c.isActive,f=c.attributeName,p=c.from,h=c.to,m=c.steps,y=c.children,b=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Nx(s)),s.changeStyle=s.changeStyle.bind(Nx(s)),!u||b<=0)return s.state={style:{}},typeof y=="function"&&(s.state={style:h}),jx(s);if(m&&m.length)s.state={style:m[0].style};else if(p){if(typeof y=="function")return s.state={style:p},jx(s);s.state={style:f?ul({},f,p):p}}else s.state={style:{}};return s}return Rz(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,c=a.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,c=s.isActive,u=s.canBegin,f=s.attributeName,p=s.shouldReAnimate,h=s.to,m=s.from,y=this.state.style;if(u){if(!c){var b={style:f?ul({},f,h):h};this.state&&y&&(f&&y[f]!==h||!f&&y!==h)&&this.setState(b);return}if(!(V7(a.to,h)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||p?m:a.to;if(this.state&&y){var v={style:f?ul({},f,w):w};(f&&y[f]!==w||!f&&y!==w)&&this.setState(v)}this.runAnimation(hn(hn({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,c=a.from,u=a.to,f=a.duration,p=a.easing,h=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,b=_z(c,u,gz(p),f,this.changeStyle),j=function(){s.stopJSAnimation=b()};this.manager.start([y,h,j,f,m])}},{key:"runStepAnimation",value:function(a){var s=this,c=a.steps,u=a.begin,f=a.onAnimationStart,p=c[0],h=p.style,m=p.duration,y=m===void 0?0:m,b=function(w,v,O){if(O===0)return w;var _=v.duration,A=v.easing,k=A===void 0?"ease":A,P=v.style,S=v.properties,C=v.onAnimationEnd,T=O>0?c[O-1]:v,q=S||Object.keys(P);if(typeof k=="function"||k==="spring")return[].concat(Xy(w),[s.runJSAnimation.bind(s,{from:T.style,to:P,duration:_,easing:k}),_]);var H=AO(q,_,k),F=hn(hn(hn({},T.style),P),{},{transition:H});return[].concat(Xy(w),[F,_,C]).filter(az)};return this.manager.start([f].concat(Xy(c.reduce(b,[h,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ez());var s=a.begin,c=a.duration,u=a.attributeName,f=a.to,p=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,b=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof p=="function"||typeof b=="function"||p==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=u?ul({},u,f):f,v=AO(Object.keys(w),c,p);j.start([h,s,hn(hn({},w),{},{transition:v}),c,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=kz(a,Az),p=D.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!u||p===0||c<=0)return s;var m=function(b){var j=b.props,w=j.style,v=w===void 0?{}:w,O=j.className,_=D.cloneElement(b,hn(hn({},f),{},{style:hn(hn({},v),h),className:O}));return _};return p===1?m(D.Children.only(s)):M.createElement("div",null,D.Children.map(s,function(y){return m(y)}))}}]),r})(D.PureComponent);an.displayName="Animate";an.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};an.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function zz(e,t){return Kz(e)||Hz(e,t)||Wz(e,t)||Uz()}function Uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wz(e,t){if(e){if(typeof e=="string")return MO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(e,t)}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function Kz(e){if(Array.isArray(e))return e}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return t=Gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=Xz(e,"string");return Vl(t)=="symbol"?t:t+""}function Xz(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO=function(t,r,n,a,s){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,f=n>=0?1:-1,p=a>=0&&n>=0||a<0&&n<0?1:0,h;if(c>0&&s instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=s[y]>c?c:s[y];h="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(p,",").concat(t+f*m[0],",").concat(r)),h+="L ".concat(t+n-f*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(p,`,
        `).concat(t+n,",").concat(r+u*m[1])),h+="L ".concat(t+n,",").concat(r+a-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(p,`,
        `).concat(t+n-f*m[2],",").concat(r+a)),h+="L ".concat(t+f*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(p,`,
        `).concat(t,",").concat(r+a-u*m[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var j=Math.min(c,s);h="M ".concat(t,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(p,",").concat(t+f*j,",").concat(r,`
            L `).concat(t+n-f*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(p,",").concat(t+n,",").concat(r+u*j,`
            L `).concat(t+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(p,",").concat(t+n-f*j,",").concat(r+a,`
            L `).concat(t+f*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(p,",").concat(t,",").concat(r+a-u*j," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return h},Yz=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,c=r.y,u=r.width,f=r.height;if(Math.abs(u)>0&&Math.abs(f)>0){var p=Math.min(s,s+u),h=Math.max(s,s+u),m=Math.min(c,c+f),y=Math.max(c,c+f);return n>=p&&n<=h&&a>=m&&a<=y}return!1},Qz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xb=function(t){var r=$O($O({},Qz),t),n=D.useRef(),a=D.useState(-1),s=zz(a,2),c=s[0],u=s[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var f=r.x,p=r.y,h=r.width,m=r.height,y=r.radius,b=r.className,j=r.animationEasing,w=r.animationDuration,v=r.animationBegin,O=r.isAnimationActive,_=r.isUpdateAnimationActive;if(f!==+f||p!==+p||h!==+h||m!==+m||h===0||m===0)return null;var A=Xe("recharts-rectangle",b);return _?M.createElement(an,{canBegin:c>0,from:{width:h,height:m,x:f,y:p},to:{width:h,height:m,x:f,y:p},duration:w,animationEasing:j,isActive:_},function(k){var P=k.width,S=k.height,C=k.x,T=k.y;return M.createElement(an,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:O,easing:j},M.createElement("path",wd({},De(r,!0),{className:A,d:RO(C,T,P,S,y),ref:n})))}):M.createElement("path",wd({},De(r,!0),{className:A,d:RO(f,p,h,m,y)}))},Jz=["points","className","baseLinePoints","connectNulls"];function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function Zz(e,t){if(e==null)return{};var r=e9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LO(e){return a9(e)||n9(e)||r9(e)||t9()}function t9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(e,t){if(e){if(typeof e=="string")return Sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(e,t)}}function n9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a9(e){if(Array.isArray(e))return Sx(e)}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FO=function(t){return t&&t.x===+t.x&&t.y===+t.y},i9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){FO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vl=function(t,r){var n=i9(t);r&&(n=[n.reduce(function(s,c){return[].concat(LO(s),LO(c))},[])]);var a=n.map(function(s){return s.reduce(function(c,u,f){return"".concat(c).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},o9=function(t,r,n){var a=vl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(vl(r.reverse(),n).slice(1))},s9=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,c=Zz(t,Jz);if(!r||!r.length)return null;var u=Xe("recharts-polygon",n);if(a&&a.length){var f=c.stroke&&c.stroke!=="none",p=o9(r,a,s);return M.createElement("g",{className:u},M.createElement("path",vo({},De(c,!0),{fill:p.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:p})),f?M.createElement("path",vo({},De(c,!0),{fill:"none",d:vl(r,s)})):null,f?M.createElement("path",vo({},De(c,!0),{fill:"none",d:vl(a,s)})):null)}var h=vl(r,s);return M.createElement("path",vo({},De(c,!0),{fill:h.slice(-1)==="Z"?c.fill:"none",className:u,d:h}))};function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}var pc=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,c=Xe("recharts-dot",s);return r===+r&&n===+n&&a===+a?M.createElement("circle",Px({},De(t,!1),Uu(t),{className:c,cx:r,cy:n,r:a})):null};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}var l9=["x","y","top","left","width","height","className"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(this,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){u9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=f9(e,"string");return Gl(t)=="symbol"?t:t+""}function f9(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p9(e,t){if(e==null)return{};var r=m9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var h9=function(t,r,n,a,s,c){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},g9=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,c=t.top,u=c===void 0?0:c,f=t.left,p=f===void 0?0:f,h=t.width,m=h===void 0?0:h,y=t.height,b=y===void 0?0:y,j=t.className,w=p9(t,l9),v=c9({x:n,y:s,top:u,left:p,width:m,height:b},w);return!Ne(n)||!Ne(s)||!Ne(m)||!Ne(b)||!Ne(u)||!Ne(p)?null:M.createElement("path",Ox({},De(v,!0),{className:Xe("recharts-cross",j),d:h9(n,s,m,b,u,p)}))},Yy,BO;function y9(){if(BO)return Yy;BO=1;var e=ff(),t=gE(),r=qn();function n(a,s){return a&&a.length?e(a,r(s,2),t):void 0}return Yy=n,Yy}var v9=y9();const x9=ct(v9);var Qy,zO;function b9(){if(zO)return Qy;zO=1;var e=ff(),t=qn(),r=yE();function n(a,s){return a&&a.length?e(a,t(s,2),r):void 0}return Qy=n,Qy}var w9=b9();const j9=ct(w9);var N9=["cx","cy","angle","ticks","axisLine"],S9=["ticks","tick","angle","tickFormatter","stroke"];function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){gf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WO(e,t){if(e==null)return{};var r=P9(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function _9(e,t,r){return t&&HO(e.prototype,t),r&&HO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A9(e,t,r){return t=jd(t),k9(e,rC()?Reflect.construct(t,r||[],jd(e).constructor):t.apply(e,r))}function k9(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9(e)}function E9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(e)}function C9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_x(e,t)}function _x(e,t){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_x(e,t)}function gf(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=T9(e,"string");return Bo(t)=="symbol"?t:t+""}function T9(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yf=(function(e){function t(){return O9(this,t),A9(this,t,arguments)}return C9(t,e),_9(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,c=s.angle,u=s.cx,f=s.cy;return yt(u,f,a,c)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.angle,u=n.ticks,f=x9(u,function(h){return h.coordinate||0}),p=j9(u,function(h){return h.coordinate||0});return{cx:a,cy:s,startAngle:c,endAngle:c,innerRadius:p.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.angle,u=n.ticks,f=n.axisLine,p=WO(n,N9),h=u.reduce(function(j,w){return[Math.min(j[0],w.coordinate),Math.max(j[1],w.coordinate)]},[1/0,-1/0]),m=yt(a,s,h[0],c),y=yt(a,s,h[1],c),b=pi(pi(pi({},De(p,!1)),{},{fill:"none"},De(f,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return M.createElement("line",xl({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,c=a.tick,u=a.angle,f=a.tickFormatter,p=a.stroke,h=WO(a,S9),m=this.getTickTextAnchor(),y=De(h,!1),b=De(c,!1),j=s.map(function(w,v){var O=n.getTickValueCoord(w),_=pi(pi(pi(pi({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:p},b),{},{index:v},O),{},{payload:w});return M.createElement(Ye,xl({className:Xe("recharts-polar-radius-axis-tick",HE(c)),key:"tick-".concat(w.coordinate)},Ha(n.props,w,v)),t.renderTickItem(c,_,f?f(w.value,v):w.value))});return M.createElement(Ye,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,c=n.tick;return!a||!a.length?null:M.createElement(Ye,{className:Xe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),Yt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var c;return M.isValidElement(n)?c=M.cloneElement(n,a):ze(n)?c=n(a):c=M.createElement(ki,xl({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(D.PureComponent);gf(yf,"displayName","PolarRadiusAxis");gf(yf,"axisType","radiusAxis");gf(yf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){vf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function M9(e,t,r){return t&&VO(e.prototype,t),r&&VO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D9(e,t,r){return t=Nd(t),$9(e,aC()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function $9(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R9(e)}function R9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!e})()}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(e)}function L9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ax(e,t)}function Ax(e,t){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ax(e,t)}function vf(e,t,r){return t=iC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(e){var t=F9(e,"string");return zo(t)=="symbol"?t:t+""}function F9(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q9=Math.PI/180,GO=1e-5,xf=(function(e){function t(){return I9(this,t),D9(this,t,arguments)}return L9(t,e),M9(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,c=a.cy,u=a.radius,f=a.orientation,p=a.tickSize,h=p||8,m=yt(s,c,u,n.coordinate),y=yt(s,c,u+(f==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*q9),c;return s>GO?c=a==="outer"?"start":"end":s<-GO?c=a==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.radius,u=n.axisLine,f=n.axisLineType,p=mi(mi({},De(this.props,!1)),{},{fill:"none"},De(u,!1));if(f==="circle")return M.createElement(pc,yi({className:"recharts-polar-angle-axis-line"},p,{cx:a,cy:s,r:c}));var h=this.props.ticks,m=h.map(function(y){return yt(a,s,c,y.coordinate)});return M.createElement(s9,yi({className:"recharts-polar-angle-axis-line"},p,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,c=a.tick,u=a.tickLine,f=a.tickFormatter,p=a.stroke,h=De(this.props,!1),m=De(c,!1),y=mi(mi({},h),{},{fill:"none"},De(u,!1)),b=s.map(function(j,w){var v=n.getTickLineCoord(j),O=n.getTickTextAnchor(j),_=mi(mi(mi({textAnchor:O},h),{},{stroke:"none",fill:p},m),{},{index:w,payload:j,x:v.x2,y:v.y2});return M.createElement(Ye,yi({className:Xe("recharts-polar-angle-axis-tick",HE(c)),key:"tick-".concat(j.coordinate)},Ha(n.props,j,w)),u&&M.createElement("line",yi({className:"recharts-polar-angle-axis-tick-line"},y,v)),c&&t.renderTickItem(c,_,f?f(j.value,w):j.value))});return M.createElement(Ye,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,c=n.axisLine;return s<=0||!a||!a.length?null:M.createElement(Ye,{className:Xe("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var c;return M.isValidElement(n)?c=M.cloneElement(n,a):ze(n)?c=n(a):c=M.createElement(ki,yi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(D.PureComponent);vf(xf,"displayName","PolarAngleAxis");vf(xf,"axisType","angleAxis");vf(xf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Jy,XO;function B9(){if(XO)return Jy;XO=1;var e=gk(),t=e(Object.getPrototypeOf,Object);return Jy=t,Jy}var Zy,YO;function z9(){if(YO)return Zy;YO=1;var e=ca(),t=B9(),r=ua(),n="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,f=c.call(Object);function p(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==f}return Zy=p,Zy}var U9=z9();const W9=ct(U9);var ev,QO;function H9(){if(QO)return ev;QO=1;var e=ca(),t=ua(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return ev=n,ev}var K9=H9();const V9=ct(K9);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function G9(e,t){return J9(e)||Q9(e,t)||Y9(e,t)||X9()}function X9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(e,t){if(e){if(typeof e=="string")return JO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JO(e,t)}}function JO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function J9(e){if(Array.isArray(e))return e}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return Xl(t)=="symbol"?t:t+""}function tU(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t_=function(t,r,n,a,s){var c=n-a,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-c/2,",").concat(r+s),u+="L ".concat(t+n-c/2-a,",").concat(r+s),u+="L ".concat(t,",").concat(r," Z"),u},rU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nU=function(t){var r=e_(e_({},rU),t),n=D.useRef(),a=D.useState(-1),s=G9(a,2),c=s[0],u=s[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&u(A)}catch{}},[]);var f=r.x,p=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,b=r.className,j=r.animationEasing,w=r.animationDuration,v=r.animationBegin,O=r.isUpdateAnimationActive;if(f!==+f||p!==+p||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var _=Xe("recharts-trapezoid",b);return O?M.createElement(an,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:y,x:f,y:p},to:{upperWidth:h,lowerWidth:m,height:y,x:f,y:p},duration:w,animationEasing:j,isActive:O},function(A){var k=A.upperWidth,P=A.lowerWidth,S=A.height,C=A.x,T=A.y;return M.createElement(an,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:j},M.createElement("path",Sd({},De(r,!0),{className:_,d:t_(C,T,k,P,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Sd({},De(r,!0),{className:_,d:t_(f,p,h,m,y)})))},aU=["option","shapeType","propTransformer","activeClassName","isActive"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function iU(e,t){if(e==null)return{};var r=oU(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){sU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sU(e,t,r){return t=lU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return Yl(t)=="symbol"?t:t+""}function cU(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e,t){return Pd(Pd({},t),e)}function dU(e,t){return e==="symbols"}function n_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(Xb,r);case"trapezoid":return M.createElement(nU,r);case"sector":return M.createElement(GE,r);case"symbols":if(dU(t))return M.createElement(tf,r);break;default:return null}}function fU(e){return D.isValidElement(e)?e.props:e}function Od(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?uU:n,s=e.activeClassName,c=s===void 0?"recharts-active-shape":s,u=e.isActive,f=iU(e,aU),p;if(D.isValidElement(t))p=D.cloneElement(t,Pd(Pd({},f),fU(t)));else if(ze(t))p=t(f);else if(W9(t)&&!V9(t)){var h=a(t,f);p=M.createElement(n_,{shapeType:r,elementProps:h})}else{var m=f;p=M.createElement(n_,{shapeType:r,elementProps:m})}return u?M.createElement(Ye,{className:c},p):p}function bf(e,t){return t!=null&&"trapezoids"in e.props}function wf(e,t){return t!=null&&"sectors"in e.props}function Ql(e,t){return t!=null&&"points"in e.props}function pU(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function mU(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hU(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gU(e,t){var r;return bf(e,t)?r=pU:wf(e,t)?r=mU:Ql(e,t)&&(r=hU),r}function yU(e,t){var r;return bf(e,t)?r="trapezoids":wf(e,t)?r="sectors":Ql(e,t)&&(r="points"),r}function vU(e,t){if(bf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(wf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ql(e,t)?t.payload:{}}function xU(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=yU(r,t),s=vU(r,t),c=n.filter(function(f,p){var h=Ka(s,f),m=r.props[a].filter(function(j){var w=gU(r,t);return w(j,t)}),y=r.props[a].indexOf(m[m.length-1]),b=p===y;return h&&b}),u=n.indexOf(c[c.length-1]);return u}var Lu;function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){tn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sC(n.key),n)}}function wU(e,t,r){return t&&i_(e.prototype,t),r&&i_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jU(e,t,r){return t=_d(t),NU(e,oC()?Reflect.construct(t,r||[],_d(e).constructor):t.apply(e,r))}function NU(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SU(e)}function SU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(e)}function PU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kx(e,t)}function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kx(e,t)}function tn(e,t,r){return t=sC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sC(e){var t=OU(e,"string");return Uo(t)=="symbol"?t:t+""}function OU(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bn=(function(e){function t(r){var n;return bU(this,t),n=jU(this,t,[r]),tn(n,"pieRef",null),tn(n,"sectorRefs",[]),tn(n,"id",Xa("recharts-pie-")),tn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(a)&&a()}),tn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return PU(t,e),wU(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,u=s.labelLine,f=s.dataKey,p=s.valueKey,h=De(this.props,!1),m=De(c,!1),y=De(u,!1),b=c&&c.offsetRadius||20,j=n.map(function(w,v){var O=(w.startAngle+w.endAngle)/2,_=yt(w.cx,w.cy,w.outerRadius+b,O),A=ht(ht(ht(ht({},h),w),{},{stroke:"none"},m),{},{index:v,textAnchor:t.getTextAnchor(_.x,w.cx)},_),k=ht(ht(ht(ht({},h),w),{},{fill:"none",stroke:w.fill},y),{},{index:v,points:[yt(w.cx,w.cy,w.outerRadius,O),_]}),P=f;return Ue(f)&&Ue(p)?P="value":Ue(f)&&(P=p),M.createElement(Ye,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(v)},u&&t.renderLabelLineItem(u,k,"line"),t.renderLabelItem(c,A,wt(w,P)))});return M.createElement(Ye,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,c=s.activeShape,u=s.blendStroke,f=s.inactiveShape;return n.map(function(p,h){if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(h),y=f&&a.hasActiveIndex()?f:null,b=m?c:y,j=ht(ht({},p),{},{stroke:u?p.fill:p.stroke,tabIndex:-1});return M.createElement(Ye,xo({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ha(a.props,p,h),{key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(h)}),M.createElement(Od,xo({option:b,isActive:m,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,p=a.animationEasing,h=a.animationId,m=this.state,y=m.prevSectors,b=m.prevIsAnimationActive;return M.createElement(an,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var w=j.t,v=[],O=s&&s[0],_=O.startAngle;return s.forEach(function(A,k){var P=y&&y[k],S=k>0?Ur(A,"paddingAngle",0):0;if(P){var C=Ot(P.endAngle-P.startAngle,A.endAngle-A.startAngle),T=ht(ht({},A),{},{startAngle:_+S,endAngle:_+C(w)+S});v.push(T),_=T.endAngle}else{var q=A.endAngle,H=A.startAngle,F=Ot(0,q-H),L=F(w),Y=ht(ht({},A),{},{startAngle:_+S,endAngle:_+L+S});v.push(Y),_=Y.endAngle}}),M.createElement(Ye,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,c=this.state.prevSectors;return s&&a&&a.length&&(!c||!Ka(c,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,c=a.sectors,u=a.className,f=a.label,p=a.cx,h=a.cy,m=a.innerRadius,y=a.outerRadius,b=a.isAnimationActive,j=this.state.isAnimationFinished;if(s||!c||!c.length||!Ne(p)||!Ne(h)||!Ne(m)||!Ne(y))return null;var w=Xe("recharts-pie",u);return M.createElement(Ye,{tabIndex:this.props.rootTabIndex,className:w,ref:function(O){n.pieRef=O}},this.renderSectors(),f&&this.renderLabels(c),Yt.renderCallByParent(this.props,null,!1),(!b||j)&&jn.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(M.isValidElement(n))return M.cloneElement(n,a);if(ze(n))return n(a);var c=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Ua,xo({},a,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(n,a,s){if(M.isValidElement(n))return M.cloneElement(n,a);var c=s;if(ze(n)&&(c=n(a),M.isValidElement(c)))return c;var u=Xe("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return M.createElement(ki,xo({},a,{alignmentBaseline:"middle",className:u}),c)}}])})(D.PureComponent);Lu=Bn;tn(Bn,"displayName","Pie");tn(Bn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!da.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});tn(Bn,"parseDeltaAngle",function(e,t){var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});tn(Bn,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=jr(r,us);return t&&t.length?t.map(function(s,c){return ht(ht(ht({payload:s},n),s),a&&a[c]&&a[c].props)}):a&&a.length?a.map(function(s){return ht(ht({},n),s.props)}):[]});tn(Bn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,c=WE(a,s),u=n+br(e.cx,a,a/2),f=r+br(e.cy,s,s/2),p=br(e.innerRadius,c,0),h=br(e.outerRadius,c,c*.8),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:f,innerRadius:p,outerRadius:h,maxRadius:m}});tn(Bn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ht(ht({},t.type.defaultProps),t.props):t.props,a=Lu.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,c=n.startAngle,u=n.endAngle,f=n.paddingAngle,p=n.dataKey,h=n.nameKey,m=n.valueKey,y=n.tooltipType,b=Math.abs(n.minAngle),j=Lu.parseCoordinateOfPie(n,r),w=Lu.parseDeltaAngle(c,u),v=Math.abs(w),O=p;Ue(p)&&Ue(m)?(wn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):Ue(p)&&(wn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var _=a.filter(function(T){return wt(T,O,0)!==0}).length,A=(v>=360?_:_-1)*f,k=v-_*b-A,P=a.reduce(function(T,q){var H=wt(q,O,0);return T+(Ne(H)?H:0)},0),S;if(P>0){var C;S=a.map(function(T,q){var H=wt(T,O,0),F=wt(T,h,q),L=(Ne(H)?H:0)/P,Y;q?Y=C.endAngle+xr(w)*f*(H!==0?1:0):Y=c;var G=Y+xr(w)*((H!==0?b:0)+L*k),te=(Y+G)/2,U=(j.innerRadius+j.outerRadius)/2,Q=[{name:F,value:H,payload:T,dataKey:O,type:y}],Z=yt(j.cx,j.cy,U,te);return C=ht(ht(ht({percent:L,cornerRadius:s,name:F,tooltipPayload:Q,midAngle:te,middleRadius:U,tooltipPosition:Z},T),j),{},{value:wt(T,O),startAngle:Y,endAngle:G,payload:T,paddingAngle:xr(w)*f}),C})}return ht(ht({},j),{},{sectors:S,data:a})});var tv,o_;function _U(){if(o_)return tv;o_=1;var e=Math.ceil,t=Math.max;function r(n,a,s,c){for(var u=-1,f=t(e((a-n)/(s||1)),0),p=Array(f);f--;)p[c?f:++u]=n,n+=s;return p}return tv=r,tv}var rv,s_;function lC(){if(s_)return rv;s_=1;var e=Tk(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var s=a<0?-1:1;return s*r}return a===a?a:0}return rv=n,rv}var nv,l_;function AU(){if(l_)return nv;l_=1;var e=_U(),t=af(),r=lC();function n(a){return function(s,c,u){return u&&typeof u!="number"&&t(s,c,u)&&(c=u=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),u=u===void 0?s<c?1:-1:r(u),e(s,c,u,a)}}return nv=n,nv}var av,c_;function kU(){if(c_)return av;c_=1;var e=AU(),t=e();return av=t,av}var EU=kU();const Ad=ct(EU);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){cC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cC(e,t,r){return t=CU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=TU(e,"string");return Jl(t)=="symbol"?t:t+""}function TU(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IU=["Webkit","Moz","O","ms"],MU=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=IU.reduce(function(s,c){return d_(d_({},s),{},cC({},c+n,r))},{});return a[t]=r,a};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){qr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dC(n.key),n)}}function $U(e,t,r){return t&&p_(e.prototype,t),r&&p_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RU(e,t,r){return t=Ed(t),LU(e,uC()?Reflect.construct(t,r||[],Ed(e).constructor):t.apply(e,r))}function LU(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FU(e)}function FU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uC=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(e)}function qU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ex(e,t)}function Ex(e,t){return Ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ex(e,t)}function qr(e,t,r){return t=dC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dC(e){var t=BU(e,"string");return Wo(t)=="symbol"?t:t+""}function BU(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zU=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,c=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var f=r.length,p=hl().domain(Ad(0,f)).range([s,s+c-u]),h=p.domain().map(function(m){return p(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(n),endX:p(a),scale:p,scaleValues:h}},m_=function(t){return t.changedTouches&&!!t.changedTouches.length},Ho=(function(e){function t(r){var n;return DU(this,t),n=RU(this,t,[r]),qr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,c=a.onDragEnd,u=a.startIndex;c==null||c({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),qr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qr(n,"handleSlideDragStart",function(a){var s=m_(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qU(t,e),$U(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,c=this.state.scaleValues,u=this.props,f=u.gap,p=u.data,h=p.length-1,m=Math.min(a,s),y=Math.max(a,s),b=t.getIndexInRange(c,m),j=t.getIndexInRange(c,y);return{startIndex:b-b%f,endIndex:j===h?h:j-j%f}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,c=a.tickFormatter,u=a.dataKey,f=wt(s[n],u,n);return ze(c)?c(f,n):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,c=a.startX,u=a.endX,f=this.props,p=f.x,h=f.width,m=f.travellerWidth,y=f.startIndex,b=f.endIndex,j=f.onChange,w=n.pageX-s;w>0?w=Math.min(w,p+h-m-u,p+h-m-c):w<0&&(w=Math.max(w,p-c,p-u));var v=this.getIndex({startX:c+w,endX:u+w});(v.startIndex!==y||v.endIndex!==b)&&j&&j(v),this.setState({startX:c+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=m_(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,f=a.startX,p=this.state[c],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,j=h.onChange,w=h.gap,v=h.data,O={startX:this.state.startX,endX:this.state.endX},_=n.pageX-s;_>0?_=Math.min(_,m+y-b-p):_<0&&(_=Math.max(_,m-p)),O[c]=p+_;var A=this.getIndex(O),k=A.startIndex,P=A.endIndex,S=function(){var T=v.length-1;return c==="startX"&&(u>f?k%w===0:P%w===0)||u<f&&P===T||c==="endX"&&(u>f?P%w===0:k%w===0)||u>f&&P===T};this.setState(qr(qr({},c,p+_),"brushMoveStartX",n.pageX),function(){j&&S()&&j(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,c=this.state,u=c.scaleValues,f=c.startX,p=c.endX,h=this.state[a],m=u.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var b=u[y];a==="startX"&&b>=p||a==="endX"&&b<=f||this.setState(qr({},a,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,f=n.fill,p=n.stroke;return M.createElement("rect",{stroke:p,fill:f,x:a,y:s,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,f=n.data,p=n.children,h=n.padding,m=D.Children.only(p);return m?M.cloneElement(m,{x:a,y:s,width:c,height:u,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,c,u=this,f=this.props,p=f.y,h=f.travellerWidth,m=f.height,y=f.traveller,b=f.ariaLabel,j=f.data,w=f.startIndex,v=f.endIndex,O=Math.max(n,this.props.x),_=iv(iv({},De(this.props,!1)),{},{x:O,y:p,width:h,height:m}),A=b||"Min value: ".concat((s=j[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=j[v])===null||c===void 0?void 0:c.name);return M.createElement(Ye,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),u.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,_))}},{key:"renderSlide",value:function(n,a){var s=this.props,c=s.y,u=s.height,f=s.stroke,p=s.travellerWidth,h=Math.min(n,a)+p,m=Math.max(Math.abs(a-n)-p,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:c,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,c=n.y,u=n.height,f=n.travellerWidth,p=n.stroke,h=this.state,m=h.startX,y=h.endX,b=5,j={pointerEvents:"none",fill:p};return M.createElement(Ye,{className:"recharts-brush-texts"},M.createElement(ki,kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:c+u/2},j),this.getTextOfTick(a)),M.createElement(ki,kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+f+b,y:c+u/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,c=n.children,u=n.x,f=n.y,p=n.width,h=n.height,m=n.alwaysShowText,y=this.state,b=y.startX,j=y.endX,w=y.isTextActive,v=y.isSlideMoving,O=y.isTravellerMoving,_=y.isTravellerFocused;if(!a||!a.length||!Ne(u)||!Ne(f)||!Ne(p)||!Ne(h)||p<=0||h<=0)return null;var A=Xe("recharts-brush",s),k=M.Children.count(c)===1,P=MU("userSelect","none");return M.createElement(Ye,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(b,j),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(j,"endX"),(w||v||O||_||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,c=n.width,u=n.height,f=n.stroke,p=Math.floor(s+u/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:s,width:c,height:u,fill:f,stroke:"none"}),M.createElement("line",{x1:a+1,y1:p,x2:a+c-1,y2:p,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:p+2,x2:a+c-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return M.isValidElement(n)?s=M.cloneElement(n,a):ze(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,c=n.width,u=n.x,f=n.travellerWidth,p=n.updateId,h=n.startIndex,m=n.endIndex;if(s!==a.prevData||p!==a.prevUpdateId)return iv({prevData:s,prevTravellerWidth:f,prevUpdateId:p,prevX:u,prevWidth:c},s&&s.length?zU({data:s,width:c,x:u,travellerWidth:f,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+c-f]);var y=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:p,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,c=0,u=s-1;u-c>1;){var f=Math.floor((c+u)/2);n[f]>a?u=f:c=f}return a>=n[u]?u:c}}])})(D.PureComponent);qr(Ho,"displayName","Brush");qr(Ho,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ov,h_;function UU(){if(h_)return ov;h_=1;var e=wb();function t(r,n){var a;return e(r,function(s,c,u){return a=n(s,c,u),!a}),!!a}return ov=t,ov}var sv,g_;function WU(){if(g_)return sv;g_=1;var e=ck(),t=qn(),r=UU(),n=Tr(),a=af();function s(c,u,f){var p=n(c)?e:r;return f&&a(c,u,f)&&(u=void 0),p(c,t(u,3))}return sv=s,sv}var HU=WU();const KU=ct(HU);var $n=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},lv,y_;function VU(){if(y_)return lv;y_=1;var e=_k();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return lv=t,lv}var cv,v_;function GU(){if(v_)return cv;v_=1;var e=VU(),t=Pk(),r=qn();function n(a,s){var c={};return s=r(s,3),t(a,function(u,f,p){e(c,f,s(u,f,p))}),c}return cv=n,cv}var XU=GU();const YU=ct(XU);var uv,x_;function QU(){if(x_)return uv;x_=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return uv=e,uv}var dv,b_;function JU(){if(b_)return dv;b_=1;var e=wb();function t(r,n){var a=!0;return e(r,function(s,c,u){return a=!!n(s,c,u),a}),a}return dv=t,dv}var fv,w_;function ZU(){if(w_)return fv;w_=1;var e=QU(),t=JU(),r=qn(),n=Tr(),a=af();function s(c,u,f){var p=n(c)?e:t;return f&&a(c,u,f)&&(u=void 0),p(c,r(u,3))}return fv=s,fv}var eW=ZU();const fC=ct(eW);var tW=["x","y"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return t=nW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=aW(e,"string");return Zl(t)=="symbol"?t:t+""}function aW(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iW(e,t){if(e==null)return{};var r=oW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sW(e,t){var r=e.x,n=e.y,a=iW(e,tW),s="".concat(r),c=parseInt(s,10),u="".concat(n),f=parseInt(u,10),p="".concat(t.height||a.height),h=parseInt(p,10),m="".concat(t.width||a.width),y=parseInt(m,10);return il(il(il(il(il({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function N_(e){return M.createElement(Od,Cx({shapeType:"rectangle",propTransformer:sW,activeClassName:"recharts-active-bar"},e))}var lW=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||Ci(),r)}},cW=["value","background"],pC;function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function uW(e,t){if(e==null)return{};var r=dW(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hC(n.key),n)}}function pW(e,t,r){return t&&P_(e.prototype,t),r&&P_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mW(e,t,r){return t=Td(t),hW(e,mC()?Reflect.construct(t,r||[],Td(e).constructor):t.apply(e,r))}function hW(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gW(e)}function gW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!e})()}function Td(e){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(e)}function yW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tx(e,t)}function Tx(e,t){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tx(e,t)}function qa(e,t,r){return t=hC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hC(e){var t=vW(e,"string");return Ko(t)=="symbol"?t:t+""}function vW(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=(function(e){function t(){var r;fW(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mW(this,t,[].concat(a)),qa(r,"state",{isAnimationFinished:!1}),qa(r,"id",Xa("recharts-bar-")),qa(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),qa(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return yW(t,e),pW(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.dataKey,f=s.activeIndex,p=s.activeBar,h=De(this.props,!1);return n&&n.map(function(m,y){var b=y===f,j=b?p:c,w=Dt(Dt(Dt({},h),m),{},{isActive:b,option:j,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(Ye,Cd({className:"recharts-bar-rectangle"},Ha(a.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),M.createElement(N_,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,c=a.layout,u=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,h=a.animationEasing,m=a.animationId,y=this.state.prevData;return M.createElement(an,{begin:f,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var j=b.t,w=s.map(function(v,O){var _=y&&y[O];if(_){var A=Ot(_.x,v.x),k=Ot(_.y,v.y),P=Ot(_.width,v.width),S=Ot(_.height,v.height);return Dt(Dt({},v),{},{x:A(j),y:k(j),width:P(j),height:S(j)})}if(c==="horizontal"){var C=Ot(0,v.height),T=C(j);return Dt(Dt({},v),{},{y:v.y+v.height-T,height:T})}var q=Ot(0,v.width),H=q(j);return Dt(Dt({},v),{},{width:H})});return M.createElement(Ye,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&a&&a.length&&(!c||!Ka(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,c=a.dataKey,u=a.activeIndex,f=De(this.props.background,!1);return s.map(function(p,h){p.value;var m=p.background,y=uW(p,cW);if(!m)return null;var b=Dt(Dt(Dt(Dt(Dt({},y),{},{fill:"#eee"},m),f),Ha(n.props,p,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:h,className:"recharts-bar-background-rectangle"});return M.createElement(N_,Cd({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,u=s.xAxis,f=s.yAxis,p=s.layout,h=s.children,m=jr(h,ms);if(!m)return null;var y=p==="vertical"?c[0].height/2:c[0].width/2,b=function(v,O){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:wt(v,O)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(Ye,j,m.map(function(w){return M.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:c,xAxis:u,yAxis:f,layout:p,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,c=n.className,u=n.xAxis,f=n.yAxis,p=n.left,h=n.top,m=n.width,y=n.height,b=n.isAnimationActive,j=n.background,w=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,O=Xe("recharts-bar",c),_=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,k=_||A,P=Ue(w)?this.id:w;return M.createElement(Ye,{className:O},_||A?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(P)},M.createElement("rect",{x:_?p:p-m/2,y:A?h:h-y/2,width:_?m:m*2,height:A?y:y*2}))):null,M.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(P,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,P),(!b||v)&&jn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(D.PureComponent);pC=on;qa(on,"displayName","Bar");qa(on,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qa(on,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,c=e.yAxis,u=e.xAxisTicks,f=e.yAxisTicks,p=e.stackedData,h=e.dataStartIndex,m=e.displayedData,y=e.offset,b=U8(n,r);if(!b)return null;var j=t.layout,w=r.type.defaultProps,v=w!==void 0?Dt(Dt({},w),r.props):r.props,O=v.dataKey,_=v.children,A=v.minPointSize,k=j==="horizontal"?c:s,P=p?k.scale.domain():null,S=Y8({numericAxis:k}),C=jr(_,us),T=m.map(function(q,H){var F,L,Y,G,te,U;p?F=W8(p[h+H],P):(F=wt(q,O),Array.isArray(F)||(F=[S,F]));var Q=lW(A,pC.defaultProps.minPointSize)(F[1],H);if(j==="horizontal"){var Z,B=[c.scale(F[0]),c.scale(F[1])],$=B[0],E=B[1];L=ZP({axis:s,ticks:u,bandSize:a,offset:b.offset,entry:q,index:H}),Y=(Z=E??$)!==null&&Z!==void 0?Z:void 0,G=b.size;var R=$-E;if(te=Number.isNaN(R)?0:R,U={x:L,y:c.y,width:G,height:c.height},Math.abs(Q)>0&&Math.abs(te)<Math.abs(Q)){var X=xr(te||Q)*(Math.abs(Q)-Math.abs(te));Y-=X,te+=X}}else{var re=[s.scale(F[0]),s.scale(F[1])],le=re[0],K=re[1];if(L=le,Y=ZP({axis:c,ticks:f,bandSize:a,offset:b.offset,entry:q,index:H}),G=K-le,te=b.size,U={x:s.x,y:Y,width:s.width,height:te},Math.abs(Q)>0&&Math.abs(G)<Math.abs(Q)){var he=xr(G||Q)*(Math.abs(Q)-Math.abs(G));G+=he}}return Dt(Dt(Dt({},q),{},{x:L,y:Y,width:G,height:te,value:p?F:F[1],payload:q,background:U},C&&C[H]&&C[H].props),{},{tooltipPayload:[zE(r,q)],tooltipPosition:{x:L+G/2,y:Y+te/2}})});return Dt({data:T,layout:j},y)});function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function xW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gC(n.key),n)}}function bW(e,t,r){return t&&O_(e.prototype,t),r&&O_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jf(e,t,r){return t=gC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gC(e){var t=wW(e,"string");return ec(t)=="symbol"?t:t+""}function wW(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yb=function(t,r,n,a,s){var c=t.width,u=t.height,f=t.layout,p=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Br(p,on);return h.reduce(function(b,j){var w=r[j],v=w.orientation,O=w.domain,_=w.padding,A=_===void 0?{}:_,k=w.mirror,P=w.reversed,S="".concat(v).concat(k?"Mirror":""),C,T,q,H,F;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var L=O[1]-O[0],Y=1/0,G=w.categoricalDomain.sort();if(G.forEach(function(re,le){le>0&&(Y=Math.min((re||0)-(G[le-1]||0),Y))}),Number.isFinite(Y)){var te=Y/L,U=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(C=te*U/2),w.padding==="no-gap"){var Q=br(t.barCategoryGap,te*U),Z=te*U/2;C=Z-Q-(Z-Q)/U*Q}}}a==="xAxis"?T=[n.left+(A.left||0)+(C||0),n.left+n.width-(A.right||0)-(C||0)]:a==="yAxis"?T=f==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(C||0),n.top+n.height-(A.bottom||0)-(C||0)]:T=w.range,P&&(T=[T[1],T[0]]);var B=LE(w,s,y),$=B.scale,E=B.realScaleType;$.domain(O).range(T),FE($);var R=qE($,gn(gn({},w),{},{realScaleType:E}));a==="xAxis"?(F=v==="top"&&!k||v==="bottom"&&k,q=n.left,H=m[S]-F*w.height):a==="yAxis"&&(F=v==="left"&&!k||v==="right"&&k,q=m[S]-F*w.width,H=n.top);var X=gn(gn(gn({},w),R),{},{realScaleType:E,x:q,y:H,scale:$,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return X.bandSize=md(X,R),!w.hide&&a==="xAxis"?m[S]+=(F?-1:1)*X.height:w.hide||(m[S]+=(F?-1:1)*X.width),gn(gn({},b),{},jf({},j,X))},{})},yC=function(t,r){var n=t.x,a=t.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(a,c),width:Math.abs(s-n),height:Math.abs(c-a)}},jW=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return yC({x:r,y:n},{x:a,y:s})},vC=(function(){function e(t){xW(this,e),this.scale=t}return bW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+f}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();jf(vC,"EPS",1e-4);var Qb=function(t){var r=Object.keys(t).reduce(function(n,a){return gn(gn({},n),{},jf({},a,vC.create(t[a])))},{});return gn(gn({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,u=s.position;return YU(a,function(f,p){return r[p].apply(f,{bandAware:c,position:u})})},isInRange:function(a){return fC(a,function(s,c){return r[c].isInRange(s)})}})};function NW(e){return(e%180+180)%180}var SW=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=NW(a),c=s*Math.PI/180,u=Math.atan(n/r),f=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},pv,A_;function PW(){if(A_)return pv;A_=1;var e=qn(),t=lc(),r=rf();function n(a){return function(s,c,u){var f=Object(s);if(!t(s)){var p=e(c,3);s=r(s),c=function(m){return p(f[m],m,f)}}var h=a(s,c,u);return h>-1?f[p?s[h]:h]:void 0}}return pv=n,pv}var mv,k_;function OW(){if(k_)return mv;k_=1;var e=lC();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return mv=t,mv}var hv,E_;function _W(){if(E_)return hv;E_=1;var e=bk(),t=qn(),r=OW(),n=Math.max;function a(s,c,u){var f=s==null?0:s.length;if(!f)return-1;var p=u==null?0:r(u);return p<0&&(p=n(f+p,0)),e(s,t(c,3),p)}return hv=a,hv}var gv,C_;function AW(){if(C_)return gv;C_=1;var e=PW(),t=_W(),r=e(t);return gv=r,gv}var kW=AW();const EW=ct(kW);var CW=DA();const TW=ct(CW);var IW=TW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Jb=D.createContext(void 0),Zb=D.createContext(void 0),xC=D.createContext(void 0),bC=D.createContext({}),wC=D.createContext(void 0),jC=D.createContext(0),NC=D.createContext(0),T_=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,c=t.clipPathId,u=t.children,f=t.width,p=t.height,h=IW(s);return M.createElement(Jb.Provider,{value:n},M.createElement(Zb.Provider,{value:a},M.createElement(bC.Provider,{value:s},M.createElement(xC.Provider,{value:h},M.createElement(wC.Provider,{value:c},M.createElement(jC.Provider,{value:p},M.createElement(NC.Provider,{value:f},u)))))))},MW=function(){return D.useContext(wC)},SC=function(t){var r=D.useContext(Jb);r==null&&Ci();var n=r[t];return n==null&&Ci(),n},DW=function(){var t=D.useContext(Jb);return La(t)},$W=function(){var t=D.useContext(Zb),r=EW(t,function(n){return fC(n.domain,Number.isFinite)});return r||La(t)},PC=function(t){var r=D.useContext(Zb);r==null&&Ci();var n=r[t];return n==null&&Ci(),n},RW=function(){var t=D.useContext(xC);return t},LW=function(){return D.useContext(bC)},e0=function(){return D.useContext(NC)},t0=function(){return D.useContext(jC)};function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function FW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_C(n.key),n)}}function BW(e,t,r){return t&&qW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zW(e,t,r){return t=Id(t),UW(e,OC()?Reflect.construct(t,r||[],Id(e).constructor):t.apply(e,r))}function UW(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WW(e)}function WW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OC=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(e)}function HW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ix(e,t)}function Ix(e,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ix(e,t)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0(e,t,r){return t=_C(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _C(e){var t=KW(e,"string");return Vo(t)=="symbol"?t:t+""}function KW(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VW(e,t){return QW(e)||YW(e,t)||XW(e,t)||GW()}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XW(e,t){if(e){if(typeof e=="string")return D_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D_(e,t)}}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function QW(e){if(Array.isArray(e))return e}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(this,arguments)}var JW=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):ze(t)?n=t(r):n=M.createElement("line",Mx({},r,{className:"recharts-reference-line-line"})),n},ZW=function(t,r,n,a,s,c,u,f,p){var h=s.x,m=s.y,y=s.width,b=s.height;if(n){var j=p.y,w=t.y.apply(j,{position:c});if($n(p,"discard")&&!t.y.isInRange(w))return null;var v=[{x:h+y,y:w},{x:h,y:w}];return f==="left"?v.reverse():v}if(r){var O=p.x,_=t.x.apply(O,{position:c});if($n(p,"discard")&&!t.x.isInRange(_))return null;var A=[{x:_,y:m+b},{x:_,y:m}];return u==="top"?A.reverse():A}if(a){var k=p.segment,P=k.map(function(S){return t.apply(S,{position:c})});return $n(p,"discard")&&KU(P,function(S){return!t.isInRange(S)})?null:P}return null};function eH(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,c=e.shape,u=e.className,f=e.alwaysShow,p=MW(),h=SC(a),m=PC(s),y=RW();if(!p||!y)return null;wn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Qb({x:h.scale,y:m.scale}),j=zt(t),w=zt(r),v=n&&n.length===2,O=ZW(b,j,w,v,y,e.position,h.orientation,m.orientation,e);if(!O)return null;var _=VW(O,2),A=_[0],k=A.x,P=A.y,S=_[1],C=S.x,T=S.y,q=$n(e,"hidden")?"url(#".concat(p,")"):void 0,H=M_(M_({clipPath:q},De(e,!0)),{},{x1:k,y1:P,x2:C,y2:T});return M.createElement(Ye,{className:Xe("recharts-reference-line",u)},JW(c,H),Yt.renderCallByParent(e,jW({x1:k,y1:P,x2:C,y2:T})))}var n0=(function(e){function t(){return FW(this,t),zW(this,t,arguments)}return HW(t,e),BW(t,[{key:"render",value:function(){return M.createElement(eH,this.props)}}])})(M.Component);r0(n0,"displayName","ReferenceLine");r0(n0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(this,arguments)}function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){Nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kC(n.key),n)}}function nH(e,t,r){return t&&rH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aH(e,t,r){return t=Md(t),iH(e,AC()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function iH(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oH(e)}function oH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AC=function(){return!!e})()}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(e)}function sH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$x(e,t)}function Nf(e,t,r){return t=kC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kC(e){var t=lH(e,"string");return Go(t)=="symbol"?t:t+""}function lH(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cH=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,c=Qb({x:a.scale,y:s.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return $n(t,"discard")&&!c.isInRange(u)?null:u},Sf=(function(e){function t(){return tH(this,t),aH(this,t,arguments)}return sH(t,e),nH(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,c=n.r,u=n.alwaysShow,f=n.clipPathId,p=zt(a),h=zt(s);if(wn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!h)return null;var m=cH(this.props);if(!m)return null;var y=m.x,b=m.y,j=this.props,w=j.shape,v=j.className,O=$n(this.props,"hidden")?"url(#".concat(f,")"):void 0,_=R_(R_({clipPath:O},De(this.props,!0)),{},{cx:y,cy:b});return M.createElement(Ye,{className:Xe("recharts-reference-dot",v)},t.renderDot(w,_),Yt.renderCallByParent(this.props,{x:y-c,y:b-c,width:2*c,height:2*c}))}}])})(M.Component);Nf(Sf,"displayName","ReferenceDot");Nf(Sf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nf(Sf,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(pc,Dx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Pf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CC(n.key),n)}}function fH(e,t,r){return t&&dH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pH(e,t,r){return t=Dd(t),mH(e,EC()?Reflect.construct(t,r||[],Dd(e).constructor):t.apply(e,r))}function mH(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hH(e)}function hH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EC=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dd(e)}function gH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lx(e,t)}function Lx(e,t){return Lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lx(e,t)}function Pf(e,t,r){return t=CC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CC(e){var t=yH(e,"string");return Xo(t)=="symbol"?t:t+""}function yH(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vH=function(t,r,n,a,s){var c=s.x1,u=s.x2,f=s.y1,p=s.y2,h=s.xAxis,m=s.yAxis;if(!h||!m)return null;var y=Qb({x:h.scale,y:m.scale}),b={x:t?y.x.apply(c,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(f,{position:"start"}):y.y.rangeMin},j={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(p,{position:"end"}):y.y.rangeMax};return $n(s,"discard")&&(!y.isInRange(b)||!y.isInRange(j))?null:yC(b,j)},Of=(function(e){function t(){return uH(this,t),pH(this,t,arguments)}return gH(t,e),fH(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,c=n.y1,u=n.y2,f=n.className,p=n.alwaysShow,h=n.clipPathId;wn(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=zt(a),y=zt(s),b=zt(c),j=zt(u),w=this.props.shape;if(!m&&!y&&!b&&!j&&!w)return null;var v=vH(m,y,b,j,this.props);if(!v&&!w)return null;var O=$n(this.props,"hidden")?"url(#".concat(h,")"):void 0;return M.createElement(Ye,{className:Xe("recharts-reference-area",f)},t.renderRect(w,F_(F_({clipPath:O},De(this.props,!0)),v)),Yt.renderCallByParent(this.props,v))}}])})(M.Component);Pf(Of,"displayName","ReferenceArea");Pf(Of,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Pf(Of,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):ze(e)?r=e(t):r=M.createElement(Xb,Rx({},t,{className:"recharts-reference-area-rect"})),r});function TC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function xH(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return SW(n,r)}function bH(e,t,r){var n=r==="width",a=e.x,s=e.y,c=e.width,u=e.height;return t===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function $d(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function wH(e,t){return TC(e,t+1)}function jH(e,t,r,n,a){for(var s=(n||[]).slice(),c=t.start,u=t.end,f=0,p=1,h=c,m=function(){var j=n==null?void 0:n[f];if(j===void 0)return{v:TC(n,p)};var w=f,v,O=function(){return v===void 0&&(v=r(j,w)),v},_=j.coordinate,A=f===0||$d(e,_,O,h,u);A||(f=0,h=c,p+=1),A&&(h=_+e*(O()/2+a),f+=p)},y;p<=s.length;)if(y=m(),y)return y.v;return[]}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return t=SH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=PH(e,"string");return tc(t)=="symbol"?t:t+""}function PH(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OH(e,t,r,n,a){for(var s=(n||[]).slice(),c=s.length,u=t.start,f=t.end,p=function(y){var b=s[y],j,w=function(){return j===void 0&&(j=r(b,y)),j};if(y===c-1){var v=e*(b.coordinate+e*w()/2-f);s[y]=b=dr(dr({},b),{},{tickCoord:v>0?b.coordinate-v*e:b.coordinate})}else s[y]=b=dr(dr({},b),{},{tickCoord:b.coordinate});var O=$d(e,b.tickCoord,w,u,f);O&&(f=b.tickCoord-e*(w()/2+a),s[y]=dr(dr({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)p(h);return s}function _H(e,t,r,n,a,s){var c=(n||[]).slice(),u=c.length,f=t.start,p=t.end;if(s){var h=n[u-1],m=r(h,u-1),y=e*(h.coordinate+e*m/2-p);c[u-1]=h=dr(dr({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate});var b=$d(e,h.tickCoord,function(){return m},f,p);b&&(p=h.tickCoord-e*(m/2+a),c[u-1]=dr(dr({},h),{},{isShow:!0}))}for(var j=s?u-1:u,w=function(_){var A=c[_],k,P=function(){return k===void 0&&(k=r(A,_)),k};if(_===0){var S=e*(A.coordinate-e*P()/2-f);c[_]=A=dr(dr({},A),{},{tickCoord:S<0?A.coordinate-S*e:A.coordinate})}else c[_]=A=dr(dr({},A),{},{tickCoord:A.coordinate});var C=$d(e,A.tickCoord,P,f,p);C&&(f=A.tickCoord+e*(P()/2+a),c[_]=dr(dr({},A),{},{isShow:!0}))},v=0;v<j;v++)w(v);return c}function a0(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,c=e.minTickGap,u=e.orientation,f=e.interval,p=e.tickFormatter,h=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(Ne(f)||da.isSsr)return wH(a,typeof f=="number"&&Ne(f)?f:0);var y=[],b=u==="top"||u==="bottom"?"width":"height",j=h&&b==="width"?ml(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(A,k){var P=ze(p)?p(A.value,k):A.value;return b==="width"?xH(ml(P,{fontSize:t,letterSpacing:r}),j,m):ml(P,{fontSize:t,letterSpacing:r})[b]},v=a.length>=2?xr(a[1].coordinate-a[0].coordinate):1,O=bH(s,v,b);return f==="equidistantPreserveStart"?jH(v,O,w,a,c):(f==="preserveStart"||f==="preserveStartEnd"?y=_H(v,O,w,a,c,f==="preserveStartEnd"):y=OH(v,O,w,a,c),y.filter(function(_){return _.isShow}))}var AH=["viewBox"],kH=["viewBox"],EH=["ticks"];function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yv(e,t){if(e==null)return{};var r=CH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MC(n.key),n)}}function IH(e,t,r){return t&&z_(e.prototype,t),r&&z_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MH(e,t,r){return t=Rd(t),DH(e,IC()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function DH(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $H(e)}function $H(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IC=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function RH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}function Fx(e,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fx(e,t)}function i0(e,t,r){return t=MC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MC(e){var t=LH(e,"string");return Yo(t)=="symbol"?t:t+""}function LH(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hs=(function(e){function t(r){var n;return TH(this,t),n=MH(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return RH(t,e),IH(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,c=yv(n,AH),u=this.props,f=u.viewBox,p=yv(u,kH);return!Oo(s,f)||!Oo(c,p)||!Oo(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,c=a.y,u=a.width,f=a.height,p=a.orientation,h=a.tickSize,m=a.mirror,y=a.tickMargin,b,j,w,v,O,_,A=m?-1:1,k=n.tickSize||h,P=Ne(n.tickCoord)?n.tickCoord:n.coordinate;switch(p){case"top":b=j=n.coordinate,v=c+ +!m*f,w=v-A*k,_=w-A*y,O=P;break;case"left":w=v=n.coordinate,j=s+ +!m*u,b=j-A*k,O=b-A*y,_=P;break;case"right":w=v=n.coordinate,j=s+ +m*u,b=j+A*k,O=b+A*y,_=P;break;default:b=j=n.coordinate,v=c+ +m*f,w=v+A*k,_=w+A*y,O=P;break}return{line:{x1:b,y1:w,x2:j,y2:v},tick:{x:O,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c;switch(a){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,f=n.orientation,p=n.mirror,h=n.axisLine,m=vr(vr(vr({},De(this.props,!1)),De(h,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var y=+(f==="top"&&!p||f==="bottom"&&p);m=vr(vr({},m),{},{x1:a,y1:s+y*u,x2:a+c,y2:s+y*u})}else{var b=+(f==="left"&&!p||f==="right"&&p);m=vr(vr({},m),{},{x1:a+b*c,y1:s,x2:a+b*c,y2:s+u})}return M.createElement("line",bo({},m,{className:Xe("recharts-cartesian-axis-line",Ur(h,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var c=this,u=this.props,f=u.tickLine,p=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,b=a0(vr(vr({},this.props),{},{ticks:n}),a,s),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=De(this.props,!1),O=De(h,!1),_=vr(vr({},v),{},{fill:"none"},De(f,!1)),A=b.map(function(k,P){var S=c.getTickLineCoord(k),C=S.line,T=S.tick,q=vr(vr(vr(vr({textAnchor:j,verticalAnchor:w},v),{},{stroke:"none",fill:p},O),T),{},{index:P,payload:k,visibleTicksCount:b.length,tickFormatter:m});return M.createElement(Ye,bo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Ha(c.props,k,P)),f&&M.createElement("line",bo({},_,C,{className:Xe("recharts-cartesian-axis-tick-line",Ur(f,"className"))})),h&&t.renderTickItem(h,q,"".concat(ze(m)?m(k.value,P):k.value).concat(y||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,c=a.width,u=a.height,f=a.ticksGenerator,p=a.className,h=a.hide;if(h)return null;var m=this.props,y=m.ticks,b=yv(m,EH),j=y;return ze(f)&&(j=y&&y.length>0?f(this.props):f(b)),c<=0||u<=0||!j||!j.length?null:M.createElement(Ye,{className:Xe("recharts-cartesian-axis",p),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var c;return M.isValidElement(n)?c=M.cloneElement(n,a):ze(n)?c=n(a):c=M.createElement(ki,bo({},a,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(D.Component);i0(hs,"displayName","CartesianAxis");i0(hs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FH=["x1","y1","x2","y2","key"],qH=["offset"];function Ti(e){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(e)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return t=zH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=UH(e,"string");return Ti(t)=="symbol"?t:t+""}function UH(e,t){if(Ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function W_(e,t){if(e==null)return{};var r=WH(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HH=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,c=t.width,u=t.height,f=t.ry;return M.createElement("rect",{x:a,y:s,ry:f,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DC(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,c=t.y2,u=t.key,f=W_(t,FH),p=De(f,!1);p.offset;var h=W_(p,qH);r=M.createElement("line",Ni({},h,{x1:n,y1:a,x2:s,y2:c,fill:"none",key:u}))}return r}function KH(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(u,f){var p=pr(pr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(f),index:f});return DC(a,p)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function VH(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(u,f){var p=pr(pr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(f),index:f});return DC(a,p)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function GH(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,c=e.height,u=e.horizontalPoints,f=e.horizontal,p=f===void 0?!0:f;if(!p||!t||!t.length)return null;var h=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var j=!h[b+1],w=j?a+c-y:h[b+1]-y;if(w<=0)return null;var v=b%t.length;return M.createElement("rect",{key:"react-".concat(b),y,x:n,height:w,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function XH(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,c=e.y,u=e.width,f=e.height,p=e.verticalPoints;if(!r||!n||!n.length)return null;var h=p.map(function(y){return Math.round(y+s-s)}).sort(function(y,b){return y-b});s!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var j=!h[b+1],w=j?s+u-y:h[b+1]-y;if(w<=0)return null;var v=b%n.length;return M.createElement("rect",{key:"react-".concat(b),x:y,y:c,width:w,height:f,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var YH=function(t,r){var n=t.xAxis,a=t.width,s=t.height,c=t.offset;return RE(a0(pr(pr(pr({},hs.defaultProps),n),{},{ticks:ra(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.left,c.left+c.width,r)},QH=function(t,r){var n=t.yAxis,a=t.width,s=t.height,c=t.offset;return RE(a0(pr(pr(pr({},hs.defaultProps),n),{},{ticks:ra(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.top,c.top+c.height,r)},fo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ko(e){var t,r,n,a,s,c,u=e0(),f=t0(),p=LW(),h=pr(pr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:fo.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:fo.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:fo.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:fo.verticalFill,x:Ne(e.x)?e.x:p.left,y:Ne(e.y)?e.y:p.top,width:Ne(e.width)?e.width:p.width,height:Ne(e.height)?e.height:p.height}),m=h.x,y=h.y,b=h.width,j=h.height,w=h.syncWithTicks,v=h.horizontalValues,O=h.verticalValues,_=DW(),A=$W();if(!Ne(b)||b<=0||!Ne(j)||j<=0||!Ne(m)||m!==+m||!Ne(y)||y!==+y)return null;var k=h.verticalCoordinatesGenerator||YH,P=h.horizontalCoordinatesGenerator||QH,S=h.horizontalPoints,C=h.verticalPoints;if((!S||!S.length)&&ze(P)){var T=v&&v.length,q=P({yAxis:A?pr(pr({},A),{},{ticks:T?v:A.ticks}):void 0,width:u,height:f,offset:p},T?!0:w);wn(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ti(q),"]")),Array.isArray(q)&&(S=q)}if((!C||!C.length)&&ze(k)){var H=O&&O.length,F=k({xAxis:_?pr(pr({},_),{},{ticks:H?O:_.ticks}):void 0,width:u,height:f,offset:p},H?!0:w);wn(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ti(F),"]")),Array.isArray(F)&&(C=F)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(HH,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),M.createElement(KH,Ni({},h,{offset:p,horizontalPoints:S,xAxis:_,yAxis:A})),M.createElement(VH,Ni({},h,{offset:p,verticalPoints:C,xAxis:_,yAxis:A})),M.createElement(GH,Ni({},h,{horizontalPoints:S})),M.createElement(XH,Ni({},h,{verticalPoints:C})))}ko.displayName="CartesianGrid";var JH=["type","layout","connectNulls","ref"],ZH=["key"];function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function H_(e,t){if(e==null)return{};var r=eK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(this,arguments)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){yn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function po(e){return aK(e)||nK(e)||rK(e)||tK()}function tK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(e,t){if(e){if(typeof e=="string")return qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qx(e,t)}}function nK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aK(e){if(Array.isArray(e))return qx(e)}function qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RC(n.key),n)}}function oK(e,t,r){return t&&V_(e.prototype,t),r&&V_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e,t,r){return t=Ld(t),lK(e,$C()?Reflect.construct(t,r||[],Ld(e).constructor):t.apply(e,r))}function lK(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(e)}function cK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ld(e)}function uK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bx(e,t)}function yn(e,t,r){return t=RC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RC(e){var t=dK(e,"string");return Qo(t)=="symbol"?t:t+""}function dK(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mc=(function(e){function t(){var r;iK(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=sK(this,t,[].concat(a)),yn(r,"state",{isAnimationFinished:!0,totalLength:0}),yn(r,"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),yn(r,"getStrokeDasharray",function(c,u,f){var p=f.reduce(function(O,_){return O+_});if(!p)return r.generateSimpleStrokeDasharray(u,c);for(var h=Math.floor(c/p),m=c%p,y=u-c,b=[],j=0,w=0;j<f.length;w+=f[j],++j)if(w+f[j]>m){b=[].concat(po(f.slice(0,j)),[m-w]);break}var v=b.length%2===0?[0,y]:[y];return[].concat(po(t.repeat(f,h)),po(b),v).map(function(O){return"".concat(O,"px")}).join(", ")}),yn(r,"id",Xa("recharts-line-")),yn(r,"pathRef",function(c){r.mainCurve=c}),yn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uK(t,e),oK(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,u=s.xAxis,f=s.yAxis,p=s.layout,h=s.children,m=jr(h,ms);if(!m)return null;var y=function(w,v){return{x:w.x,y:w.y,value:w.value,errorVal:wt(w.payload,v)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(Ye,b,m.map(function(j){return M.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:f,layout:p,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,p=u.points,h=u.dataKey,m=De(this.props,!1),y=De(f,!0),b=p.map(function(w,v){var O=Fr(Fr(Fr({key:"dot-".concat(v),r:3},m),y),{},{index:v,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:p});return t.renderDotItem(f,O)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return M.createElement(Ye,bl({className:"recharts-line-dots",key:"dots"},j),b)}},{key:"renderCurveStatically",value:function(n,a,s,c){var u=this.props,f=u.type,p=u.layout,h=u.connectNulls;u.ref;var m=H_(u,JH),y=Fr(Fr(Fr({},De(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},c),{},{type:f,layout:p,connectNulls:h});return M.createElement(Ua,bl({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,f=c.strokeDasharray,p=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,y=c.animationEasing,b=c.animationId,j=c.animateNewValues,w=c.width,v=c.height,O=this.state,_=O.prevPoints,A=O.totalLength;return M.createElement(an,{begin:h,duration:m,isActive:p,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var P=k.t;if(_){var S=_.length/u.length,C=u.map(function(L,Y){var G=Math.floor(Y*S);if(_[G]){var te=_[G],U=Ot(te.x,L.x),Q=Ot(te.y,L.y);return Fr(Fr({},L),{},{x:U(P),y:Q(P)})}if(j){var Z=Ot(w*2,L.x),B=Ot(v/2,L.y);return Fr(Fr({},L),{},{x:Z(P),y:B(P)})}return Fr(Fr({},L),{},{x:L.x,y:L.y})});return s.renderCurveStatically(C,n,a)}var T=Ot(0,A),q=T(P),H;if(f){var F="".concat(f).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});H=s.getStrokeDasharray(q,A,F)}else H=s.generateSimpleStrokeDasharray(A,q);return s.renderCurveStatically(u,n,a,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,a){var s=this.props,c=s.points,u=s.isAnimationActive,f=this.state,p=f.prevPoints,h=f.totalLength;return u&&c&&c.length&&(!p&&h>0||!Ka(p,c))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(c,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,f=a.className,p=a.xAxis,h=a.yAxis,m=a.top,y=a.left,b=a.width,j=a.height,w=a.isAnimationActive,v=a.id;if(s||!u||!u.length)return null;var O=this.state.isAnimationFinished,_=u.length===1,A=Xe("recharts-line",f),k=p&&p.allowDataOverflow,P=h&&h.allowDataOverflow,S=k||P,C=Ue(v)?this.id:v,T=(n=De(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},q=T.r,H=q===void 0?3:q,F=T.strokeWidth,L=F===void 0?2:F,Y=qA(c)?c:{},G=Y.clipDot,te=G===void 0?!0:G,U=H*2+L;return M.createElement(Ye,{className:A},k||P?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(C)},M.createElement("rect",{x:k?y:y-b/2,y:P?m:m-j/2,width:k?b:b*2,height:P?j:j*2})),!te&&M.createElement("clipPath",{id:"clipPath-dots-".concat(C)},M.createElement("rect",{x:y-U/2,y:m-U/2,width:b+U,height:j+U}))):null,!_&&this.renderCurve(S,C),this.renderErrorBar(S,C),(_||c)&&this.renderDots(S,te,C),(!w||O)&&jn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(po(n),[0]):n,c=[],u=0;u<a;++u)c=[].concat(po(c),po(s));return c}},{key:"renderDotItem",value:function(n,a){var s;if(M.isValidElement(n))s=M.cloneElement(n,a);else if(ze(n))s=n(a);else{var c=a.key,u=H_(a,ZH),f=Xe("recharts-line-dot",typeof n!="boolean"?n.className:"");s=M.createElement(pc,bl({key:c},u,{className:f}))}return s}}])})(D.PureComponent);yn(mc,"displayName","Line");yn(mc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!da.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yn(mc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,c=e.dataKey,u=e.bandSize,f=e.displayedData,p=e.offset,h=t.layout,m=f.map(function(y,b){var j=wt(y,c);return h==="horizontal"?{x:Fo({axis:r,ticks:a,bandSize:u,entry:y,index:b}),y:Ue(j)?null:n.scale(j),value:j,payload:y}:{x:Ue(j)?null:r.scale(j),y:Fo({axis:n,ticks:s,bandSize:u,entry:y,index:b}),value:j,payload:y}});return Fr({points:m,layout:h},p)});var fK=["layout","type","stroke","connectNulls","isRange","ref"],pK=["key"],LC;function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function FC(e,t){if(e==null)return{};var r=mK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BC(n.key),n)}}function gK(e,t,r){return t&&X_(e.prototype,t),r&&X_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yK(e,t,r){return t=Fd(t),vK(e,qC()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function vK(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xK(e)}function xK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qC=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function bK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zx(e,t)}function In(e,t,r){return t=BC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BC(e){var t=wK(e,"string");return Jo(t)=="symbol"?t:t+""}function wK(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pa=(function(e){function t(){var r;hK(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=yK(this,t,[].concat(a)),In(r,"state",{isAnimationFinished:!0}),In(r,"id",Xa("recharts-area-")),In(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(c)&&c()}),In(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(c)&&c()}),r}return bK(t,e),gK(t,[{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var f=this.props,p=f.dot,h=f.points,m=f.dataKey,y=De(this.props,!1),b=De(p,!0),j=h.map(function(v,O){var _=$a($a($a({key:"dot-".concat(O),r:3},y),b),{},{index:O,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:h});return t.renderDotItem(p,_)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return M.createElement(Ye,Si({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,f=c[0].x,p=c[c.length-1].x,h=n*Math.abs(f-p),m=Fa(c.map(function(y){return y.y||0}));return Ne(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Fa(s.map(function(y){return y.y||0})),m)),Ne(m)?M.createElement("rect",{x:f<p?f:f-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,f=c[0].y,p=c[c.length-1].y,h=n*Math.abs(f-p),m=Fa(c.map(function(y){return y.x||0}));return Ne(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Fa(s.map(function(y){return y.x||0})),m)),Ne(m)?M.createElement("rect",{x:0,y:f<p?f:f-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,c){var u=this.props,f=u.layout,p=u.type,h=u.stroke,m=u.connectNulls,y=u.isRange;u.ref;var b=FC(u,fK);return M.createElement(Ye,{clipPath:s?"url(#clipPath-".concat(c,")"):null},M.createElement(Ua,Si({},De(b,!0),{points:n,connectNulls:m,type:p,baseLine:a,layout:f,stroke:"none",className:"recharts-area-area"})),h!=="none"&&M.createElement(Ua,Si({},De(this.props,!1),{className:"recharts-area-curve",layout:f,type:p,connectNulls:m,fill:"none",points:n})),h!=="none"&&y&&M.createElement(Ua,Si({},De(this.props,!1),{className:"recharts-area-curve",layout:f,type:p,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,f=c.baseLine,p=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,y=c.animationEasing,b=c.animationId,j=this.state,w=j.prevPoints,v=j.prevBaseLine;return M.createElement(an,{begin:h,duration:m,isActive:p,easing:y,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(w){var A=w.length/u.length,k=u.map(function(T,q){var H=Math.floor(q*A);if(w[H]){var F=w[H],L=Ot(F.x,T.x),Y=Ot(F.y,T.y);return $a($a({},T),{},{x:L(_),y:Y(_)})}return T}),P;if(Ne(f)&&typeof f=="number"){var S=Ot(v,f);P=S(_)}else if(Ue(f)||ls(f)){var C=Ot(v,0);P=C(_)}else P=f.map(function(T,q){var H=Math.floor(q*A);if(v[H]){var F=v[H],L=Ot(F.x,T.x),Y=Ot(F.y,T.y);return $a($a({},T),{},{x:L(_),y:Y(_)})}return T});return s.renderAreaStatically(k,P,n,a)}return M.createElement(Ye,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(_))),M.createElement(Ye,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(u,f,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,c=s.points,u=s.baseLine,f=s.isAnimationActive,p=this.state,h=p.prevPoints,m=p.prevBaseLine,y=p.totalLength;return f&&c&&c.length&&(!h&&y>0||!Ka(h,c)||!Ka(m,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,f=a.className,p=a.top,h=a.left,m=a.xAxis,y=a.yAxis,b=a.width,j=a.height,w=a.isAnimationActive,v=a.id;if(s||!u||!u.length)return null;var O=this.state.isAnimationFinished,_=u.length===1,A=Xe("recharts-area",f),k=m&&m.allowDataOverflow,P=y&&y.allowDataOverflow,S=k||P,C=Ue(v)?this.id:v,T=(n=De(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},q=T.r,H=q===void 0?3:q,F=T.strokeWidth,L=F===void 0?2:F,Y=qA(c)?c:{},G=Y.clipDot,te=G===void 0?!0:G,U=H*2+L;return M.createElement(Ye,{className:A},k||P?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(C)},M.createElement("rect",{x:k?h:h-b/2,y:P?p:p-j/2,width:k?b:b*2,height:P?j:j*2})),!te&&M.createElement("clipPath",{id:"clipPath-dots-".concat(C)},M.createElement("rect",{x:h-U/2,y:p-U/2,width:b+U,height:j+U}))):null,_?null:this.renderArea(S,C),(c||_)&&this.renderDots(S,te,C),(!w||O)&&jn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(D.PureComponent);LC=pa;In(pa,"displayName","Area");In(pa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});In(pa,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,c=t.props.baseValue,u=c??s;if(Ne(u)&&typeof u=="number")return u;var f=a==="horizontal"?n:r,p=f.scale.domain();if(f.type==="number"){var h=Math.max(p[0],p[1]),m=Math.min(p[0],p[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(p[0],p[1]),0)}return u==="dataMin"?p[0]:u==="dataMax"?p[1]:p[0]});In(pa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.bandSize,f=e.dataKey,p=e.stackedData,h=e.dataStartIndex,m=e.displayedData,y=e.offset,b=t.layout,j=p&&p.length,w=LC.getBaseValue(t,r,n,a),v=b==="horizontal",O=!1,_=m.map(function(k,P){var S;j?S=p[h+P]:(S=wt(k,f),Array.isArray(S)?O=!0:S=[w,S]);var C=S[1]==null||j&&wt(k,f)==null;return v?{x:Fo({axis:n,ticks:s,bandSize:u,entry:k,index:P}),y:C?null:a.scale(S[1]),value:S,payload:k}:{x:C?null:n.scale(S[1]),y:Fo({axis:a,ticks:c,bandSize:u,entry:k,index:P}),value:S,payload:k}}),A;return j||O?A=_.map(function(k){var P=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:P!=null&&k.y!=null?a.scale(P):null}:{x:P!=null?n.scale(P):null,y:k.y}}):A=v?a.scale(w):n.scale(w),$a({points:_,baseLine:A,layout:b,isRange:O},y)});In(pa,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=FC(t,pK);r=M.createElement(pc,Si({},s,{key:a,className:n}))}return r});function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function jK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WC(n.key),n)}}function SK(e,t,r){return t&&NK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PK(e,t,r){return t=qd(t),OK(e,zC()?Reflect.construct(t,r||[],qd(e).constructor):t.apply(e,r))}function OK(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _K(e)}function _K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zC=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qd(e)}function AK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ux(e,t)}function UC(e,t,r){return t=WC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WC(e){var t=kK(e,"string");return Zo(t)=="symbol"?t:t+""}function kK(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f=(function(e){function t(){return jK(this,t),PK(this,t,arguments)}return AK(t,e),SK(t,[{key:"render",value:function(){return null}}])})(M.Component);UC(_f,"displayName","ZAxis");UC(_f,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var EK=["option","isActive"];function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function CK(e,t){if(e==null)return{};var r=TK(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IK(e){var t=e.option,r=e.isActive,n=CK(e,EK);return typeof t=="string"?M.createElement(Od,wl({option:M.createElement(tf,wl({type:t},n)),isActive:r,shapeType:"symbols"},n)):M.createElement(Od,wl({option:t,isActive:r,shapeType:"symbols"},n))}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KC(n.key),n)}}function DK(e,t,r){return t&&Q_(e.prototype,t),r&&Q_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $K(e,t,r){return t=Bd(t),RK(e,HC()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function RK(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(e)}function LK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HC=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function FK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wx(e,t)}function Ba(e,t,r){return t=KC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KC(e){var t=qK(e,"string");return es(t)=="symbol"?t:t+""}function qK(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Af=(function(e){function t(){var r;MK(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=$K(this,t,[].concat(a)),Ba(r,"state",{isAnimationFinished:!1}),Ba(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Ba(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Ba(r,"id",Xa("recharts-scatter-")),r}return FK(t,e),DK(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.activeShape,f=s.activeIndex,p=De(this.props,!1);return n.map(function(h,m){var y=f===m,b=y?u:c,j=en(en({},p),h);return M.createElement(Ye,jl({className:"recharts-scatter-symbol",key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(m)},Ha(a.props,h,m),{role:"img"}),M.createElement(IK,jl({option:b,isActive:y,key:"symbol-".concat(m)},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,s=a.points,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,p=a.animationEasing,h=a.animationId,m=this.state.prevPoints;return M.createElement(an,{begin:u,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,j=s.map(function(w,v){var O=m&&m[v];if(O){var _=Ot(O.cx,w.cx),A=Ot(O.cy,w.cy),k=Ot(O.size,w.size);return en(en({},w),{},{cx:_(b),cy:A(b),size:k(b)})}var P=Ot(0,w.size);return en(en({},w),{},{size:P(b)})});return M.createElement(Ye,null,n.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,s=n.isAnimationActive,c=this.state.prevPoints;return s&&a&&a.length&&(!c||!Ka(c,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,c=a.xAxis,u=a.yAxis,f=a.children,p=jr(f,ms);return p?p.map(function(h,m){var y=h.props,b=y.direction,j=y.dataKey;return M.cloneElement(h,{key:"".concat(b,"-").concat(j,"-").concat(s[m]),data:s,xAxis:c,yAxis:u,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(v,O){return{x:v.cx,y:v.cy,value:b==="x"?+v.node.x:+v.node.y,errorVal:wt(v,O)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,s=n.line,c=n.lineType,u=n.lineJointType,f=De(this.props,!1),p=De(s,!1),h,m;if(c==="joint")h=a.map(function(A){return{x:A.cx,y:A.cy}});else if(c==="fitting"){var y=T3(a),b=y.xmin,j=y.xmax,w=y.a,v=y.b,O=function(k){return w*k+v};h=[{x:b,y:O(b)},{x:j,y:O(j)}]}var _=en(en(en({},f),{},{fill:"none",stroke:f&&f.fill},p),{},{points:h});return M.isValidElement(s)?m=M.cloneElement(s,_):ze(s)?m=s(_):m=M.createElement(Ua,jl({},_,{type:u})),M.createElement(Ye,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.points,c=n.line,u=n.className,f=n.xAxis,p=n.yAxis,h=n.left,m=n.top,y=n.width,b=n.height,j=n.id,w=n.isAnimationActive;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,O=Xe("recharts-scatter",u),_=f&&f.allowDataOverflow,A=p&&p.allowDataOverflow,k=_||A,P=Ue(j)?this.id:j;return M.createElement(Ye,{className:O,clipPath:k?"url(#clipPath-".concat(P,")"):null},_||A?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(P)},M.createElement("rect",{x:_?h:h-y/2,y:A?m:m-b/2,width:_?y:y*2,height:A?b:b*2}))):null,c&&this.renderLine(),this.renderErrorBar(),M.createElement(Ye,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||v)&&jn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])})(D.PureComponent);Ba(Af,"displayName","Scatter");Ba(Af,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!da.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ba(Af,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,s=e.displayedData,c=e.xAxisTicks,u=e.yAxisTicks,f=e.offset,p=a.props.tooltipType,h=jr(a.props.children,us),m=Ue(t.dataKey)?a.props.dataKey:t.dataKey,y=Ue(r.dataKey)?a.props.dataKey:r.dataKey,b=n&&n.dataKey,j=n?n.range:_f.defaultProps.range,w=j&&j[0],v=t.scale.bandwidth?t.scale.bandwidth():0,O=r.scale.bandwidth?r.scale.bandwidth():0,_=s.map(function(A,k){var P=wt(A,m),S=wt(A,y),C=!Ue(b)&&wt(A,b)||"-",T=[{name:Ue(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:P,payload:A,dataKey:m,type:p},{name:Ue(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:A,dataKey:y,type:p}];C!=="-"&&T.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:A,dataKey:b,type:p});var q=Fo({axis:t,ticks:c,bandSize:v,entry:A,index:k,dataKey:m}),H=Fo({axis:r,ticks:u,bandSize:O,entry:A,index:k,dataKey:y}),F=C!=="-"?n.scale(C):w,L=Math.sqrt(Math.max(F,0)/Math.PI);return en(en({},A),{},{cx:q,cy:H,x:q-L,y:H-L,xAxis:t,yAxis:r,zAxis:n,width:2*L,height:2*L,size:F,node:{x:P,y:S,z:C},tooltipPayload:T,tooltipPosition:{x:q,y:H},payload:A},h&&h[k]&&h[k].props)});return en({points:_},f)});function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XC(n.key),n)}}function UK(e,t,r){return t&&zK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WK(e,t,r){return t=zd(t),HK(e,VC()?Reflect.construct(t,r||[],zd(e).constructor):t.apply(e,r))}function HK(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(e)}function KK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VC=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zd(e)}function VK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hx(e,t)}function GC(e,t,r){return t=XC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XC(e){var t=GK(e,"string");return ts(t)=="symbol"?t:t+""}function GK(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function XK(e){var t=e.xAxisId,r=e0(),n=t0(),a=SC(t);return a==null?null:M.createElement(hs,Kx({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return ra(c,!0)}}))}var Rn=(function(e){function t(){return BK(this,t),WK(this,t,arguments)}return VK(t,e),UK(t,[{key:"render",value:function(){return M.createElement(XK,this.props)}}])})(M.Component);GC(Rn,"displayName","XAxis");GC(Rn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function YK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JC(n.key),n)}}function JK(e,t,r){return t&&QK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZK(e,t,r){return t=Ud(t),eV(e,YC()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function eV(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tV(e)}function tV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YC=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function rV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vx(e,t)}function QC(e,t,r){return t=JC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JC(e){var t=nV(e,"string");return rs(t)=="symbol"?t:t+""}function nV(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}var aV=function(t){var r=t.yAxisId,n=e0(),a=t0(),s=PC(r);return s==null?null:M.createElement(hs,Gx({},s,{className:Xe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return ra(u,!0)}}))},bn=(function(e){function t(){return YK(this,t),ZK(this,t,arguments)}return rV(t,e),JK(t,[{key:"render",value:function(){return M.createElement(aV,this.props)}}])})(M.Component);QC(bn,"displayName","YAxis");QC(bn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function J_(e){return lV(e)||sV(e)||oV(e)||iV()}function iV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oV(e,t){if(e){if(typeof e=="string")return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}}function sV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lV(e){if(Array.isArray(e))return Xx(e)}function Xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yx=function(t,r,n,a,s){var c=jr(t,n0),u=jr(t,Sf),f=[].concat(J_(c),J_(u)),p=jr(t,Of),h="".concat(a,"Id"),m=a[0],y=r;if(f.length&&(y=f.reduce(function(w,v){if(v.props[h]===n&&$n(v.props,"extendDomain")&&Ne(v.props[m])){var O=v.props[m];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},y)),p.length){var b="".concat(m,"1"),j="".concat(m,"2");y=p.reduce(function(w,v){if(v.props[h]===n&&$n(v.props,"extendDomain")&&Ne(v.props[b])&&Ne(v.props[j])){var O=v.props[b],_=v.props[j];return[Math.min(w[0],O,_),Math.max(w[1],O,_)]}return w},y)}return s&&s.length&&(y=s.reduce(function(w,v){return Ne(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},y)),y},vv={exports:{}},Z_;function cV(){return Z_||(Z_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,p,h){this.fn=f,this.context=p,this.once=h||!1}function s(f,p,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,m||f,y),j=r?r+p:p;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],b]:f._events[j].push(b):(f._events[j]=b,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new n:delete f._events[p]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],h,m;if(this._eventsCount===0)return p;for(m in h=this._events)t.call(h,m)&&p.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},u.prototype.listeners=function(p){var h=r?r+p:p,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,j=new Array(b);y<b;y++)j[y]=m[y].fn;return j},u.prototype.listenerCount=function(p){var h=r?r+p:p,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(p,h,m,y,b,j){var w=r?r+p:p;if(!this._events[w])return!1;var v=this._events[w],O=arguments.length,_,A;if(v.fn){switch(v.once&&this.removeListener(p,v.fn,void 0,!0),O){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,y),!0;case 5:return v.fn.call(v.context,h,m,y,b),!0;case 6:return v.fn.call(v.context,h,m,y,b,j),!0}for(A=1,_=new Array(O-1);A<O;A++)_[A-1]=arguments[A];v.fn.apply(v.context,_)}else{var k=v.length,P;for(A=0;A<k;A++)switch(v[A].once&&this.removeListener(p,v[A].fn,void 0,!0),O){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,h);break;case 3:v[A].fn.call(v[A].context,h,m);break;case 4:v[A].fn.call(v[A].context,h,m,y);break;default:if(!_)for(P=1,_=new Array(O-1);P<O;P++)_[P-1]=arguments[P];v[A].fn.apply(v[A].context,_)}}return!0},u.prototype.on=function(p,h,m){return s(this,p,h,m,!1)},u.prototype.once=function(p,h,m){return s(this,p,h,m,!0)},u.prototype.removeListener=function(p,h,m,y){var b=r?r+p:p;if(!this._events[b])return this;if(!h)return c(this,b),this;var j=this._events[b];if(j.fn)j.fn===h&&(!y||j.once)&&(!m||j.context===m)&&c(this,b);else{for(var w=0,v=[],O=j.length;w<O;w++)(j[w].fn!==h||y&&!j[w].once||m&&j[w].context!==m)&&v.push(j[w]);v.length?this._events[b]=v.length===1?v[0]:v:c(this,b)}return this},u.prototype.removeAllListeners=function(p){var h;return p?(h=r?r+p:p,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(vv)),vv.exports}var uV=cV();const dV=ct(uV);var xv=new dV,bv="recharts.syncMouseEvents";function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function fV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZC(n.key),n)}}function mV(e,t,r){return t&&pV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wv(e,t,r){return t=ZC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZC(e){var t=hV(e,"string");return rc(t)=="symbol"?t:t+""}function hV(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gV=(function(){function e(){fV(this,e),wv(this,"activeIndex",0),wv(this,"coordinateList",[]),wv(this,"layout","horizontal")}return mV(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,c=r.container,u=c===void 0?null:c,f=r.layout,p=f===void 0?null:f,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=p??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,c=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,p=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+f+p,y=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])})();function yV(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ne(n)&&Ne(a))return!0}return!1}function vV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function eT(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,c=yt(t,r,n,a),u=yt(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function xV(e,t,r){var n,a,s,c;if(e==="horizontal")n=t.x,s=n,a=r.top,c=r.top+r.height;else if(e==="vertical")a=t.y,c=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,f=t.cy,p=t.innerRadius,h=t.outerRadius,m=t.angle,y=yt(u,f,p,m),b=yt(u,f,h,m);n=y.x,a=y.y,s=b.x,c=b.y}else return eT(t);return[{x:n,y:a},{x:s,y:c}]}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return t=wV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=jV(e,"string");return nc(t)=="symbol"?t:t+""}function jV(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NV(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,c=e.activeCoordinate,u=e.activePayload,f=e.offset,p=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,y=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!c||y!=="ScatterChart"&&a!=="axis")return null;var j,w=Ua;if(y==="ScatterChart")j=c,w=g9;else if(y==="BarChart")j=vV(m,c,f,h),w=Xb;else if(m==="radial"){var v=eT(c),O=v.cx,_=v.cy,A=v.radius,k=v.startAngle,P=v.endAngle;j={cx:O,cy:_,startAngle:k,endAngle:P,innerRadius:A,outerRadius:A},w=GE}else j={points:xV(m,c,f)},w=Ua;var S=Du(Du(Du(Du({stroke:"#ccc",pointerEvents:"none"},f),j),De(b,!1)),{},{payload:u,payloadIndex:p,className:Xe("recharts-tooltip-cursor",b.className)});return D.isValidElement(b)?D.cloneElement(b,S):D.createElement(w,S)}var SV=["item"],PV=["children","className","width","height","style","compact","title","desc"];function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(this,arguments)}function tA(e,t){return AV(e)||_V(e,t)||rT(e,t)||OV()}function OV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _V(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,c,u=[],f=!0,p=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(f=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);f=!0);}catch(h){p=!0,a=h}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(p)throw a}}return u}}function AV(e){if(Array.isArray(e))return e}function rA(e,t){if(e==null)return{};var r=kV(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function EV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nT(n.key),n)}}function TV(e,t,r){return t&&CV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IV(e,t,r){return t=Wd(t),MV(e,tT()?Reflect.construct(t,r||[],Wd(e).constructor):t.apply(e,r))}function MV(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DV(e)}function DV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tT=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wd(e)}function $V(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qx(e,t)}function Qx(e,t){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qx(e,t)}function as(e){return FV(e)||LV(e)||rT(e)||RV()}function RV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rT(e,t){if(e){if(typeof e=="string")return Jx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jx(e,t)}}function LV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FV(e){if(Array.isArray(e))return Jx(e)}function Jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=nT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nT(e){var t=qV(e,"string");return ns(t)=="symbol"?t:t+""}function qV(e,t){if(ns(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV={xAxis:["bottom","top"],yAxis:["left","right"]},zV={width:"100%",height:"100%"},aT={x:0,y:0};function $u(e){return e}var UV=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},WV=function(t,r,n,a){var s=r.find(function(h){return h&&h.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var c=s.coordinate,u=a.radius;return de(de(de({},a),yt(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var f=s.coordinate,p=a.angle;return de(de(de({},a),yt(a.cx,a.cy,f,p)),{},{angle:p,radius:f})}return aT},kf=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(u,f){var p=f.props.data;return p&&p.length?[].concat(as(u),as(p)):u},[]);return c.length>0?c:t&&t.length&&Ne(a)&&Ne(s)?t.slice(a,s+1):[]};function iT(e){return e==="number"?[0,"auto"]:void 0}var Zx=function(t,r,n,a){var s=t.graphicalItems,c=t.tooltipAxis,u=kf(r,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(f,p){var h,m=(h=p.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(c.dataKey&&!c.allowDuplicatedCategory){var b=m===void 0?u:m;y=zu(b,c.dataKey,a)}else y=m&&m[n]||u[n];return y?[].concat(as(f),[zE(p,y)]):f},[])},aA=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},c=UV(s,n),u=t.orderedTooltipTicks,f=t.tooltipAxis,p=t.tooltipTicks,h=R8(c,u,p,f);if(h>=0&&p){var m=p[h]&&p[h].value,y=Zx(t,r,h,m),b=WV(n,u,h,s);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},HV=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,h=t.layout,m=t.children,y=t.stackOffset,b=$E(h,s);return n.reduce(function(j,w){var v,O=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,_=O.type,A=O.dataKey,k=O.allowDataOverflow,P=O.allowDuplicatedCategory,S=O.scale,C=O.ticks,T=O.includeHidden,q=O[c];if(j[q])return j;var H=kf(t.data,{graphicalItems:a.filter(function(R){var X,re=c in R.props?R.props[c]:(X=R.type.defaultProps)===null||X===void 0?void 0:X[c];return re===q}),dataStartIndex:f,dataEndIndex:p}),F=H.length,L,Y,G;yV(O.domain,k,_)&&(L=ux(O.domain,null,k),b&&(_==="number"||S!=="auto")&&(G=gl(H,A,"category")));var te=iT(_);if(!L||L.length===0){var U,Q=(U=O.domain)!==null&&U!==void 0?U:te;if(A){if(L=gl(H,A,_),_==="category"&&b){var Z=C3(L);P&&Z?(Y=L,L=Ad(0,F)):P||(L=rO(Q,L,w).reduce(function(R,X){return R.indexOf(X)>=0?R:[].concat(as(R),[X])},[]))}else if(_==="category")P?L=L.filter(function(R){return R!==""&&!Ue(R)}):L=rO(Q,L,w).reduce(function(R,X){return R.indexOf(X)>=0||X===""||Ue(X)?R:[].concat(as(R),[X])},[]);else if(_==="number"){var B=z8(H,a.filter(function(R){var X,re,le=c in R.props?R.props[c]:(X=R.type.defaultProps)===null||X===void 0?void 0:X[c],K="hide"in R.props?R.props.hide:(re=R.type.defaultProps)===null||re===void 0?void 0:re.hide;return le===q&&(T||!K)}),A,s,h);B&&(L=B)}b&&(_==="number"||S!=="auto")&&(G=gl(H,A,"category"))}else b?L=Ad(0,F):u&&u[q]&&u[q].hasStack&&_==="number"?L=y==="expand"?[0,1]:BE(u[q].stackGroups,f,p):L=DE(H,a.filter(function(R){var X=c in R.props?R.props[c]:R.type.defaultProps[c],re="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return X===q&&(T||!re)}),_,h,!0);if(_==="number")L=Yx(m,L,q,s,C),Q&&(L=ux(Q,L,k));else if(_==="category"&&Q){var $=Q,E=L.every(function(R){return $.indexOf(R)>=0});E&&(L=$)}}return de(de({},j),{},He({},q,de(de({},O),{},{axisType:s,domain:L,categoricalDomain:G,duplicateDomain:Y,originalDomain:(v=O.domain)!==null&&v!==void 0?v:te,isCategorical:b,layout:h})))},{})},KV=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,h=t.layout,m=t.children,y=kf(t.data,{graphicalItems:n,dataStartIndex:f,dataEndIndex:p}),b=y.length,j=$E(h,s),w=-1;return n.reduce(function(v,O){var _=O.type.defaultProps!==void 0?de(de({},O.type.defaultProps),O.props):O.props,A=_[c],k=iT("number");if(!v[A]){w++;var P;return j?P=Ad(0,b):u&&u[A]&&u[A].hasStack?(P=BE(u[A].stackGroups,f,p),P=Yx(m,P,A,s)):(P=ux(k,DE(y,n.filter(function(S){var C,T,q=c in S.props?S.props[c]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[c],H="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return q===A&&!H}),"number",h),a.defaultProps.allowDataOverflow),P=Yx(m,P,A,s)),de(de({},v),{},He({},A,de(de({axisType:s},a.defaultProps),{},{hide:!0,orientation:Ur(BV,"".concat(s,".").concat(w%2),null),domain:P,originalDomain:k,isCategorical:j,layout:h})))}return v},{})},VV=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,f=r.dataStartIndex,p=r.dataEndIndex,h=t.children,m="".concat(a,"Id"),y=jr(h,s),b={};return y&&y.length?b=HV(t,{axes:y,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:p}):c&&c.length&&(b=KV(t,{Axis:s,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:p})),b},GV=function(t){var r=La(t),n=ra(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:md(r,n)}},iA=function(t){var r=t.children,n=t.defaultShowTooltip,a=Br(r,Ho),s=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},XV=function(t){return!t||!t.length?!1:t.some(function(r){var n=na(r&&r.type);return n&&n.indexOf("Bar")>=0})},oA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YV=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,c=s===void 0?{}:s,u=t.yAxisMap,f=u===void 0?{}:u,p=n.width,h=n.height,m=n.children,y=n.margin||{},b=Br(m,Ho),j=Br(m,Oi),w=Object.keys(f).reduce(function(P,S){var C=f[S],T=C.orientation;return!C.mirror&&!C.hide?de(de({},P),{},He({},T,P[T]+C.width)):P},{left:y.left||0,right:y.right||0}),v=Object.keys(c).reduce(function(P,S){var C=c[S],T=C.orientation;return!C.mirror&&!C.hide?de(de({},P),{},He({},T,Ur(P,"".concat(T))+C.height)):P},{top:y.top||0,bottom:y.bottom||0}),O=de(de({},v),w),_=O.bottom;b&&(O.bottom+=b.props.height||Ho.defaultProps.height),j&&r&&(O=q8(O,a,n,r));var A=p-O.left-O.right,k=h-O.top-O.bottom;return de(de({brushBottom:_},O),{},{width:Math.max(A,0),height:Math.max(k,0)})},QV=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ef=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,c=t.validateTooltipEventTypes,u=c===void 0?["axis"]:c,f=t.axisComponents,p=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,y=function(O,_){var A=_.graphicalItems,k=_.stackGroups,P=_.offset,S=_.updateId,C=_.dataStartIndex,T=_.dataEndIndex,q=O.barSize,H=O.layout,F=O.barGap,L=O.barCategoryGap,Y=O.maxBarSize,G=oA(H),te=G.numericAxisName,U=G.cateAxisName,Q=XV(A),Z=[];return A.forEach(function(B,$){var E=kf(O.data,{graphicalItems:[B],dataStartIndex:C,dataEndIndex:T}),R=B.type.defaultProps!==void 0?de(de({},B.type.defaultProps),B.props):B.props,X=R.dataKey,re=R.maxBarSize,le=R["".concat(te,"Id")],K=R["".concat(U,"Id")],he={},Pe=f.reduce(function(ve,je){var Fe=_["".concat(je.axisType,"Map")],Ve=R["".concat(je.axisType,"Id")];Fe&&Fe[Ve]||je.axisType==="zAxis"||Ci();var pt=Fe[Ve];return de(de({},ve),{},He(He({},je.axisType,pt),"".concat(je.axisType,"Ticks"),ra(pt)))},he),V=Pe[U],oe=Pe["".concat(U,"Ticks")],me=k&&k[le]&&k[le].hasStack&&Q8(B,k[le].stackGroups),ce=na(B.type).indexOf("Bar")>=0,_e=md(V,oe),Ie=[],Je=Q&&L8({barSize:q,stackGroups:k,totalSize:QV(Pe,U)});if(ce){var tt,ae,we=Ue(re)?Y:re,z=(tt=(ae=md(V,oe,!0))!==null&&ae!==void 0?ae:we)!==null&&tt!==void 0?tt:0;Ie=F8({barGap:F,barCategoryGap:L,bandSize:z!==_e?z:_e,sizeList:Je[K],maxBarSize:we}),z!==_e&&(Ie=Ie.map(function(ve){return de(de({},ve),{},{position:de(de({},ve.position),{},{offset:ve.position.offset-z/2})})}))}var fe=B&&B.type&&B.type.getComposedData;fe&&Z.push({props:de(de({},fe(de(de({},Pe),{},{displayedData:E,props:O,dataKey:X,item:B,bandSize:_e,barPosition:Ie,offset:P,stackedData:me,layout:H,dataStartIndex:C,dataEndIndex:T}))),{},He(He(He({key:B.key||"item-".concat($)},te,Pe[te]),U,Pe[U]),"animationId",S)),childIndex:U3(B,O.children),item:B})}),Z},b=function(O,_){var A=O.props,k=O.dataStartIndex,P=O.dataEndIndex,S=O.updateId;if(!yN({props:A}))return null;var C=A.children,T=A.layout,q=A.stackOffset,H=A.data,F=A.reverseStackOrder,L=oA(T),Y=L.numericAxisName,G=L.cateAxisName,te=jr(C,n),U=X8(H,te,"".concat(Y,"Id"),"".concat(G,"Id"),q,F),Q=f.reduce(function(R,X){var re="".concat(X.axisType,"Map");return de(de({},R),{},He({},re,VV(A,de(de({},X),{},{graphicalItems:te,stackGroups:X.axisType===Y&&U,dataStartIndex:k,dataEndIndex:P}))))},{}),Z=YV(de(de({},Q),{},{props:A,graphicalItems:te}),_==null?void 0:_.legendBBox);Object.keys(Q).forEach(function(R){Q[R]=h(A,Q[R],Z,R.replace("Map",""),r)});var B=Q["".concat(G,"Map")],$=GV(B),E=y(A,de(de({},Q),{},{dataStartIndex:k,dataEndIndex:P,updateId:S,graphicalItems:te,stackGroups:U,offset:Z}));return de(de({formattedGraphicalItems:E,graphicalItems:te,offset:Z,stackGroups:U},$),Q)},j=(function(v){function O(_){var A,k,P;return EV(this,O),P=IV(this,O,[_]),He(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(P,"accessibilityManager",new gV),He(P,"handleLegendBBoxUpdate",function(S){if(S){var C=P.state,T=C.dataStartIndex,q=C.dataEndIndex,H=C.updateId;P.setState(de({legendBBox:S},b({props:P.props,dataStartIndex:T,dataEndIndex:q,updateId:H},de(de({},P.state),{},{legendBBox:S}))))}}),He(P,"handleReceiveSyncEvent",function(S,C,T){if(P.props.syncId===S){if(T===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(C)}}),He(P,"handleBrushChange",function(S){var C=S.startIndex,T=S.endIndex;if(C!==P.state.dataStartIndex||T!==P.state.dataEndIndex){var q=P.state.updateId;P.setState(function(){return de({dataStartIndex:C,dataEndIndex:T},b({props:P.props,dataStartIndex:C,dataEndIndex:T,updateId:q},P.state))}),P.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),He(P,"handleMouseEnter",function(S){var C=P.getMouseInfo(S);if(C){var T=de(de({},C),{},{isTooltipActive:!0});P.setState(T),P.triggerSyncEvent(T);var q=P.props.onMouseEnter;ze(q)&&q(T,S)}}),He(P,"triggeredAfterMouseMove",function(S){var C=P.getMouseInfo(S),T=C?de(de({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var q=P.props.onMouseMove;ze(q)&&q(T,S)}),He(P,"handleItemMouseEnter",function(S){P.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),He(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),He(P,"handleMouseMove",function(S){S.persist(),P.throttleTriggeredAfterMouseMove(S)}),He(P,"handleMouseLeave",function(S){P.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};P.setState(C),P.triggerSyncEvent(C);var T=P.props.onMouseLeave;ze(T)&&T(C,S)}),He(P,"handleOuterEvent",function(S){var C=z3(S),T=Ur(P.props,"".concat(C));if(C&&ze(T)){var q,H;/.*touch.*/i.test(C)?H=P.getMouseInfo(S.changedTouches[0]):H=P.getMouseInfo(S),T((q=H)!==null&&q!==void 0?q:{},S)}}),He(P,"handleClick",function(S){var C=P.getMouseInfo(S);if(C){var T=de(de({},C),{},{isTooltipActive:!0});P.setState(T),P.triggerSyncEvent(T);var q=P.props.onClick;ze(q)&&q(T,S)}}),He(P,"handleMouseDown",function(S){var C=P.props.onMouseDown;if(ze(C)){var T=P.getMouseInfo(S);C(T,S)}}),He(P,"handleMouseUp",function(S){var C=P.props.onMouseUp;if(ze(C)){var T=P.getMouseInfo(S);C(T,S)}}),He(P,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),He(P,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&P.handleMouseDown(S.changedTouches[0])}),He(P,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&P.handleMouseUp(S.changedTouches[0])}),He(P,"handleDoubleClick",function(S){var C=P.props.onDoubleClick;if(ze(C)){var T=P.getMouseInfo(S);C(T,S)}}),He(P,"handleContextMenu",function(S){var C=P.props.onContextMenu;if(ze(C)){var T=P.getMouseInfo(S);C(T,S)}}),He(P,"triggerSyncEvent",function(S){P.props.syncId!==void 0&&xv.emit(bv,P.props.syncId,S,P.eventEmitterSymbol)}),He(P,"applySyncEvent",function(S){var C=P.props,T=C.layout,q=C.syncMethod,H=P.state.updateId,F=S.dataStartIndex,L=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)P.setState(de({dataStartIndex:F,dataEndIndex:L},b({props:P.props,dataStartIndex:F,dataEndIndex:L,updateId:H},P.state)));else if(S.activeTooltipIndex!==void 0){var Y=S.chartX,G=S.chartY,te=S.activeTooltipIndex,U=P.state,Q=U.offset,Z=U.tooltipTicks;if(!Q)return;if(typeof q=="function")te=q(Z,S);else if(q==="value"){te=-1;for(var B=0;B<Z.length;B++)if(Z[B].value===S.activeLabel){te=B;break}}var $=de(de({},Q),{},{x:Q.left,y:Q.top}),E=Math.min(Y,$.x+$.width),R=Math.min(G,$.y+$.height),X=Z[te]&&Z[te].value,re=Zx(P.state,P.props.data,te),le=Z[te]?{x:T==="horizontal"?Z[te].coordinate:E,y:T==="horizontal"?R:Z[te].coordinate}:aT;P.setState(de(de({},S),{},{activeLabel:X,activeCoordinate:le,activePayload:re,activeTooltipIndex:te}))}else P.setState(S)}),He(P,"renderCursor",function(S){var C,T=P.state,q=T.isTooltipActive,H=T.activeCoordinate,F=T.activePayload,L=T.offset,Y=T.activeTooltipIndex,G=T.tooltipAxisBandSize,te=P.getTooltipEventType(),U=(C=S.props.active)!==null&&C!==void 0?C:q,Q=P.props.layout,Z=S.key||"_recharts-cursor";return M.createElement(NV,{key:Z,activeCoordinate:H,activePayload:F,activeTooltipIndex:Y,chartName:r,element:S,isActive:U,layout:Q,offset:L,tooltipAxisBandSize:G,tooltipEventType:te})}),He(P,"renderPolarAxis",function(S,C,T){var q=Ur(S,"type.axisType"),H=Ur(P.state,"".concat(q,"Map")),F=S.type.defaultProps,L=F!==void 0?de(de({},F),S.props):S.props,Y=H&&H[L["".concat(q,"Id")]];return D.cloneElement(S,de(de({},Y),{},{className:Xe(q,Y.className),key:S.key||"".concat(C,"-").concat(T),ticks:ra(Y,!0)}))}),He(P,"renderPolarGrid",function(S){var C=S.props,T=C.radialLines,q=C.polarAngles,H=C.polarRadius,F=P.state,L=F.radiusAxisMap,Y=F.angleAxisMap,G=La(L),te=La(Y),U=te.cx,Q=te.cy,Z=te.innerRadius,B=te.outerRadius;return D.cloneElement(S,{polarAngles:Array.isArray(q)?q:ra(te,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(H)?H:ra(G,!0).map(function($){return $.coordinate}),cx:U,cy:Q,innerRadius:Z,outerRadius:B,key:S.key||"polar-grid",radialLines:T})}),He(P,"renderLegend",function(){var S=P.state.formattedGraphicalItems,C=P.props,T=C.children,q=C.width,H=C.height,F=P.props.margin||{},L=q-(F.left||0)-(F.right||0),Y=IE({children:T,formattedGraphicalItems:S,legendWidth:L,legendContent:p});if(!Y)return null;var G=Y.item,te=rA(Y,SV);return D.cloneElement(G,de(de({},te),{},{chartWidth:q,chartHeight:H,margin:F,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),He(P,"renderTooltip",function(){var S,C=P.props,T=C.children,q=C.accessibilityLayer,H=Br(T,fr);if(!H)return null;var F=P.state,L=F.isTooltipActive,Y=F.activeCoordinate,G=F.activePayload,te=F.activeLabel,U=F.offset,Q=(S=H.props.active)!==null&&S!==void 0?S:L;return D.cloneElement(H,{viewBox:de(de({},U),{},{x:U.left,y:U.top}),active:Q,label:te,payload:Q?G:[],coordinate:Y,accessibilityLayer:q})}),He(P,"renderBrush",function(S){var C=P.props,T=C.margin,q=C.data,H=P.state,F=H.offset,L=H.dataStartIndex,Y=H.dataEndIndex,G=H.updateId;return D.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Cu(P.handleBrushChange,S.props.onChange),data:q,x:Ne(S.props.x)?S.props.x:F.left,y:Ne(S.props.y)?S.props.y:F.top+F.height+F.brushBottom-(T.bottom||0),width:Ne(S.props.width)?S.props.width:F.width,startIndex:L,endIndex:Y,updateId:"brush-".concat(G)})}),He(P,"renderReferenceElement",function(S,C,T){if(!S)return null;var q=P,H=q.clipPathId,F=P.state,L=F.xAxisMap,Y=F.yAxisMap,G=F.offset,te=S.type.defaultProps||{},U=S.props,Q=U.xAxisId,Z=Q===void 0?te.xAxisId:Q,B=U.yAxisId,$=B===void 0?te.yAxisId:B;return D.cloneElement(S,{key:S.key||"".concat(C,"-").concat(T),xAxis:L[Z],yAxis:Y[$],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:H})}),He(P,"renderActivePoints",function(S){var C=S.item,T=S.activePoint,q=S.basePoint,H=S.childIndex,F=S.isRange,L=[],Y=C.props.key,G=C.item.type.defaultProps!==void 0?de(de({},C.item.type.defaultProps),C.item.props):C.item.props,te=G.activeDot,U=G.dataKey,Q=de(de({index:H,dataKey:U,cx:T.x,cy:T.y,r:4,fill:Gb(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},De(te,!1)),Uu(te));return L.push(O.renderActiveDot(te,Q,"".concat(Y,"-activePoint-").concat(H))),q?L.push(O.renderActiveDot(te,de(de({},Q),{},{cx:q.x,cy:q.y}),"".concat(Y,"-basePoint-").concat(H))):F&&L.push(null),L}),He(P,"renderGraphicChild",function(S,C,T){var q=P.filterFormatItem(S,C,T);if(!q)return null;var H=P.getTooltipEventType(),F=P.state,L=F.isTooltipActive,Y=F.tooltipAxis,G=F.activeTooltipIndex,te=F.activeLabel,U=P.props.children,Q=Br(U,fr),Z=q.props,B=Z.points,$=Z.isRange,E=Z.baseLine,R=q.item.type.defaultProps!==void 0?de(de({},q.item.type.defaultProps),q.item.props):q.item.props,X=R.activeDot,re=R.hide,le=R.activeBar,K=R.activeShape,he=!!(!re&&L&&Q&&(X||le||K)),Pe={};H!=="axis"&&Q&&Q.props.trigger==="click"?Pe={onClick:Cu(P.handleItemMouseEnter,S.props.onClick)}:H!=="axis"&&(Pe={onMouseLeave:Cu(P.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Cu(P.handleItemMouseEnter,S.props.onMouseEnter)});var V=D.cloneElement(S,de(de({},q.props),Pe));function oe(je){return typeof Y.dataKey=="function"?Y.dataKey(je.payload):null}if(he)if(G>=0){var me,ce;if(Y.dataKey&&!Y.allowDuplicatedCategory){var _e=typeof Y.dataKey=="function"?oe:"payload.".concat(Y.dataKey.toString());me=zu(B,_e,te),ce=$&&E&&zu(E,_e,te)}else me=B==null?void 0:B[G],ce=$&&E&&E[G];if(K||le){var Ie=S.props.activeIndex!==void 0?S.props.activeIndex:G;return[D.cloneElement(S,de(de(de({},q.props),Pe),{},{activeIndex:Ie})),null,null]}if(!Ue(me))return[V].concat(as(P.renderActivePoints({item:q,activePoint:me,basePoint:ce,childIndex:G,isRange:$})))}else{var Je,tt=(Je=P.getItemByXY(P.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:V},ae=tt.graphicalItem,we=ae.item,z=we===void 0?S:we,fe=ae.childIndex,ve=de(de(de({},q.props),Pe),{},{activeIndex:fe});return[D.cloneElement(z,ve),null,null]}return $?[V,null,null]:[V,null]}),He(P,"renderCustomized",function(S,C,T){return D.cloneElement(S,de(de({key:"recharts-customized-".concat(T)},P.props),P.state))}),He(P,"renderMap",{CartesianGrid:{handler:$u,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:$u},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:$u},YAxis:{handler:$u},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((A=_.id)!==null&&A!==void 0?A:Xa("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=Ik(P.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),P.state={},P}return $V(O,v),TV(O,[{key:"componentDidMount",value:function(){var A,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,k=A.children,P=A.data,S=A.height,C=A.layout,T=Br(k,fr);if(T){var q=T.props.defaultIndex;if(!(typeof q!="number"||q<0||q>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[q]&&this.state.tooltipTicks[q].value,F=Zx(this.state,P,q,H),L=this.state.tooltipTicks[q].coordinate,Y=(this.state.offset.top+S)/2,G=C==="horizontal",te=G?{x:L,y:Y}:{y:L,x:Y},U=this.state.formattedGraphicalItems.find(function(Z){var B=Z.item;return B.type.name==="Scatter"});U&&(te=de(de({},te),U.props.points[q].tooltipPosition),F=U.props.points[q].tooltipPayload);var Q={activeTooltipIndex:q,isTooltipActive:!0,activeLabel:H,activePayload:F,activeCoordinate:te};this.setState(Q),this.renderCursor(T),this.accessibilityManager.setIndex(q)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var P,S;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(A){Tv([Br(A.children,fr)],[Br(this.props.children,fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Br(this.props.children,fr);if(A&&typeof A.props.shared=="boolean"){var k=A.props.shared?"axis":"item";return u.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var k=this.container,P=k.getBoundingClientRect(),S=k6(P),C={chartX:Math.round(A.pageX-S.left),chartY:Math.round(A.pageY-S.top)},T=P.width/k.offsetWidth||1,q=this.inRange(C.chartX,C.chartY,T);if(!q)return null;var H=this.state,F=H.xAxisMap,L=H.yAxisMap,Y=this.getTooltipEventType(),G=aA(this.state,this.props.data,this.props.layout,q);if(Y!=="axis"&&F&&L){var te=La(F).scale,U=La(L).scale,Q=te&&te.invert?te.invert(C.chartX):null,Z=U&&U.invert?U.invert(C.chartY):null;return de(de({},C),{},{xValue:Q,yValue:Z},G)}return G?de(de({},C),G):null}},{key:"inRange",value:function(A,k){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=A/P,T=k/P;if(S==="horizontal"||S==="vertical"){var q=this.state.offset,H=C>=q.left&&C<=q.left+q.width&&T>=q.top&&T<=q.top+q.height;return H?{x:C,y:T}:null}var F=this.state,L=F.angleAxisMap,Y=F.radiusAxisMap;if(L&&Y){var G=La(L);return iO({x:C,y:T},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,k=this.getTooltipEventType(),P=Br(A,fr),S={};P&&k==="axis"&&(P.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Uu(this.props,this.handleOuterEvent);return de(de({},C),S)}},{key:"addListener",value:function(){xv.on(bv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xv.removeListener(bv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,k,P){for(var S=this.state.formattedGraphicalItems,C=0,T=S.length;C<T;C++){var q=S[C];if(q.item===A||q.props.key===A.key||k===na(q.item.type)&&P===q.childIndex)return q}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,k=this.state.offset,P=k.left,S=k.top,C=k.height,T=k.width;return M.createElement("defs",null,M.createElement("clipPath",{id:A},M.createElement("rect",{x:P,y:S,height:C,width:T})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(k,P){var S=tA(P,2),C=S[0],T=S[1];return de(de({},k),{},He({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(k,P){var S=tA(P,2),C=S[0],T=S[1];return de(de({},k),{},He({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(A){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(A){var k=this.state,P=k.formattedGraphicalItems,S=k.activeItem;if(P&&P.length)for(var C=0,T=P.length;C<T;C++){var q=P[C],H=q.props,F=q.item,L=F.type.defaultProps!==void 0?de(de({},F.type.defaultProps),F.props):F.props,Y=na(F.type);if(Y==="Bar"){var G=(H.data||[]).find(function(Z){return Yz(A,Z)});if(G)return{graphicalItem:q,payload:G}}else if(Y==="RadialBar"){var te=(H.data||[]).find(function(Z){return iO(A,Z)});if(te)return{graphicalItem:q,payload:te}}else if(bf(q,S)||wf(q,S)||Ql(q,S)){var U=xU({graphicalItem:q,activeTooltipItem:S,itemData:L.data}),Q=L.activeIndex===void 0?U:L.activeIndex;return{graphicalItem:de(de({},q),{},{childIndex:Q}),payload:Ql(q,S)?L.data[U]:q.props.data[U]}}}return null}},{key:"render",value:function(){var A=this;if(!yN(this))return null;var k=this.props,P=k.children,S=k.className,C=k.width,T=k.height,q=k.style,H=k.compact,F=k.title,L=k.desc,Y=rA(k,PV),G=De(Y,!1);if(H)return M.createElement(T_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Mv,wo({},G,{width:C,height:T,title:F,desc:L}),this.renderClipPath(),xN(P,this.renderMap)));if(this.props.accessibilityLayer){var te,U;G.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,G.role=(U=this.props.role)!==null&&U!==void 0?U:"application",G.onKeyDown=function(Z){A.accessibilityManager.keyboardEvent(Z)},G.onFocus=function(){A.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return M.createElement(T_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",wo({className:Xe("recharts-wrapper",S),style:de({position:"relative",cursor:"default",width:C,height:T},q)},Q,{ref:function(B){A.container=B}}),M.createElement(Mv,wo({},G,{width:C,height:T,title:F,desc:L,style:zV}),this.renderClipPath(),xN(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(D.Component);He(j,"displayName",r),He(j,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),He(j,"getDerivedStateFromProps",function(v,O){var _=v.dataKey,A=v.data,k=v.children,P=v.width,S=v.height,C=v.layout,T=v.stackOffset,q=v.margin,H=O.dataStartIndex,F=O.dataEndIndex;if(O.updateId===void 0){var L=iA(v);return de(de(de({},L),{},{updateId:0},b(de(de({props:v},L),{},{updateId:0}),O)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:S,prevLayout:C,prevStackOffset:T,prevMargin:q,prevChildren:k})}if(_!==O.prevDataKey||A!==O.prevData||P!==O.prevWidth||S!==O.prevHeight||C!==O.prevLayout||T!==O.prevStackOffset||!Oo(q,O.prevMargin)){var Y=iA(v),G={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},te=de(de({},aA(O,A,C)),{},{updateId:O.updateId+1}),U=de(de(de({},Y),G),te);return de(de(de({},U),b(de({props:v},U),O)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:S,prevLayout:C,prevStackOffset:T,prevMargin:q,prevChildren:k})}if(!Tv(k,O.prevChildren)){var Q,Z,B,$,E=Br(k,Ho),R=E&&(Q=(Z=E.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&Q!==void 0?Q:H,X=E&&(B=($=E.props)===null||$===void 0?void 0:$.endIndex)!==null&&B!==void 0?B:F,re=R!==H||X!==F,le=!Ue(A),K=le&&!re?O.updateId:O.updateId+1;return de(de({updateId:K},b(de(de({props:v},O),{},{updateId:K,dataStartIndex:R,dataEndIndex:X}),O)),{},{prevChildren:k,dataStartIndex:R,dataEndIndex:X})}return null}),He(j,"renderActiveDot",function(v,O,_){var A;return D.isValidElement(v)?A=D.cloneElement(v,O):ze(v)?A=v(O):A=M.createElement(pc,O),M.createElement(Ye,{className:"recharts-active-dot",key:_},A)});var w=D.forwardRef(function(O,_){return M.createElement(j,wo({},O,{ref:_}))});return w.displayName=j.displayName,w},o0=Ef({chartName:"BarChart",GraphicalChild:on,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rn},{axisType:"yAxis",AxisComp:bn}],formatAxisMap:Yb}),oT=Ef({chartName:"PieChart",GraphicalChild:Bn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xf},{axisType:"radiusAxis",AxisComp:yf}],formatAxisMap:sB,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),JV=Ef({chartName:"AreaChart",GraphicalChild:pa,axisComponents:[{axisType:"xAxis",AxisComp:Rn},{axisType:"yAxis",AxisComp:bn}],formatAxisMap:Yb}),ZV=Ef({chartName:"ComposedChart",GraphicalChild:[mc,pa,on,Af],axisComponents:[{axisType:"xAxis",AxisComp:Rn},{axisType:"yAxis",AxisComp:bn},{axisType:"zAxis",AxisComp:_f}],formatAxisMap:Yb});const s0=D.createContext(void 0);function sA({children:e}){const[t,r]=D.useState([]);D.useEffect(()=>{(async()=>{try{const f=(await Bu()).map(p=>({id:p.id,name:p.name,code:p.code,category:p.categoryName||p.category||"Uncategorized",stock:p.stock,minStockLevel:p.minStockLevel,reorderPoint:p.reorderPoint,unit:p.unit,costPerUnit:p.costPerUnit,supplier:p.supplier,supplierId:p.supplierId,lastUpdated:p.lastUpdated,expiryDate:p.expiryDate}));r(f)}catch(u){console.error("Error fetching ingredients:",u),ne.error("Failed to fetch ingredients")}})()},[]);const n=async(c,u)=>{const f=t.find(p=>p.code===c);return f?f.stock<u?(console.warn(`Insufficient stock for ${f.name}. Available: ${f.stock} ${f.unit}, Required: ${u} ${f.unit}`),!1):(r(p=>p.map(h=>h.code===c?{...h,stock:Math.max(0,h.stock-u),lastUpdated:new Date().toLocaleString()}:h)),!0):(console.error(`Ingredient ${c} not found`),!1)},a=async(c,u,f,p)=>{r(h=>h.map(m=>{if(m.id===c){const y=f==="add"?u:-u,b=typeof m.stock=="string"?parseFloat(m.stock):m.stock;return{...m,stock:Math.max(0,b+y),lastUpdated:new Date().toLocaleString()}}return m}))},s=async()=>{try{const u=(await Bu()).map(f=>({id:f.id,name:f.name,code:f.code,category:f.categoryName||f.category||"Uncategorized",stock:f.stock,minStockLevel:f.minStockLevel,reorderPoint:f.reorderPoint,unit:f.unit,costPerUnit:f.costPerUnit,supplier:f.supplier,supplierId:f.supplierId,lastUpdated:f.lastUpdated,expiryDate:f.expiryDate}));r(u)}catch(c){console.error("Error refreshing ingredients:",c),ne.error("Failed to refresh ingredients")}};return o.jsx(s0.Provider,{value:{ingredients:t,setIngredients:r,deductIngredient:n,adjustStock:a,refreshIngredients:s},children:e})}const lA=["#dc2626","#ef4444","#f87171","#fca5a5","#fb923c","#fbbf24","#a3e635","#4ade80"];function eG({productId:e}){const[t,r]=D.useState(""),[n,a]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const c=await rb(e);if(c&&c.length>0){const u=c.map(f=>f.ingredientName).join(", ");r(u)}else r("Not set")}catch{r("Not set")}finally{a(!1)}})()},[e]),n?o.jsx("span",{children:"Loading..."}):o.jsx("span",{className:"text-xs text-muted-foreground",children:t})}function tG(){const e=D.useContext(s0);if(!e)return o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("p",{children:"Loading ingredients..."})});const{ingredients:t,deductIngredient:r,refreshIngredients:n}=e,[a,s]=D.useState([]),[c,u]=D.useState(!1),[f,p]=D.useState(null),[h,m]=D.useState({productName:"",productId:"",weightKg:"",batchNumber:"",employeeName:""}),[y,b]=D.useState([]),[j,w]=D.useState([]),[v,O]=D.useState([]),[_,A]=D.useState([]),[k,P]=D.useState(!0),[S,C]=D.useState([]),[T,q]=D.useState({show:!1}),[H,F]=D.useState({show:!1}),[L,Y]=D.useState("All");D.useEffect(()=>{G(),U(),Q(),te()},[]),D.useEffect(()=>{if(c&&a.length>0){const ae=a.map(ve=>{const je=ve.batchNumber.match(/^B(\d+)$/);return je?parseInt(je[1],10):0}).filter(ve=>!isNaN(ve)),z=(ae.length>0?Math.max(...ae):0)+1,fe=`B${String(z).padStart(3,"0")}`;m(ve=>({...ve,batchNumber:fe}))}else c&&a.length===0&&m(ae=>({...ae,batchNumber:"B001"}))},[c,a]);const G=async()=>{try{P(!0);const ae=await Ii();O(ae)}catch(ae){console.error("Error loading products:",ae),ne.error("Failed to load products from inventory")}finally{P(!1)}},te=async()=>{try{const ae=await ic();A(ae)}catch(ae){console.error("Error loading inventory:",ae)}},U=async()=>{try{const we=(await OA()).map(z=>{const fe=new Date(z.timestamp);return{id:z.id,productName:z.productName,weightKg:z.quantity,date:fe.toISOString().split("T")[0],time:fe.toTimeString().split(" ")[0].substring(0,5),batchNumber:z.batchNumber,status:z.status||"completed",ingredientsUsed:z.initialIngredients&&Array.isArray(z.initialIngredients)?z.initialIngredients.map(ve=>({code:ve.ingredientId||ve.code||"",name:ve.ingredientName||ve.name||"",quantity:ve.quantity||0,unit:ve.unit||"kg"})):[]}});s(we)}catch(ae){console.error("Error loading production records:",ae),ne.error("Failed to load production history")}},Q=async()=>{try{const ae=await nD();C(ae)}catch(ae){console.error("Error loading employees:",ae),ne.error("Failed to load employees")}},Z=new Date().toISOString().split("T")[0],B=a.filter(ae=>ae.date===Z).reduce((ae,we)=>ae+(Number(we.weightKg)||0),0)||0,$=a.filter(ae=>ae.status==="in-progress").length,E=a.filter(ae=>ae.status==="completed").length,R=()=>{const ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],we=new Date,z=[];for(let fe=6;fe>=0;fe--){const ve=new Date(we);ve.setDate(ve.getDate()-fe);const je=ve.toISOString().split("T")[0],Fe=ae[ve.getDay()],Ve=a.filter(pt=>pt.date===je).reduce((pt,Jt)=>pt+Jt.weightKg,0);z.push({day:Fe,weight:Math.round(Ve*10)/10})}return z},X=()=>{const ae=new Date;let we=0;for(let ve=0;ve<7;ve++){const je=new Date(ae);je.setDate(je.getDate()-ve);const Fe=je.toISOString().split("T")[0];we+=a.filter(Ve=>Ve.date===Fe).reduce((Ve,pt)=>Ve+pt.weightKg,0)}let z=0;for(let ve=7;ve<14;ve++){const je=new Date(ae);je.setDate(je.getDate()-ve);const Fe=je.toISOString().split("T")[0];z+=a.filter(Ve=>Ve.date===Fe).reduce((Ve,pt)=>Ve+pt.weightKg,0)}if(z===0)return we>0?{value:100,isPositive:!0}:{value:0,isPositive:!0};const fe=(we-z)/z*100;return{value:Math.round(fe*10)/10,isPositive:fe>=0}},re=()=>{const ae={};a.forEach(z=>{ae[z.productName]?ae[z.productName]+=z.weightKg:ae[z.productName]=z.weightKg});const we=Object.values(ae).reduce((z,fe)=>z+fe,0);return we===0?[{name:"No Production Data",value:100}]:Object.entries(ae).map(([z,fe])=>({name:z,value:Math.round(fe/we*100*10)/10})).sort((z,fe)=>fe.value-z.value).slice(0,8)},le=async ae=>{p(ae),m({...h,productId:String(ae.id),productName:ae.name});try{const we=await rb(String(ae.id));if(we&&we.length>0){const z=we.map(fe=>{const ve=t.find(je=>String(je.id)===String(fe.ingredientId));return{code:(ve==null?void 0:ve.code)||fe.ingredientCode||"",quantity:String(fe.quantity)}});w(z),b(z),ne.info(`Loaded ${we.length} default ingredient(s) for ${ae.name}`)}else b([]),w([])}catch(we){console.error("Error loading default ingredients:",we),b([]),w([])}u(!0)},K=R(),he=re(),Pe=X(),V=()=>{b([...y,{code:"",quantity:""}])},oe=ae=>{b(y.filter((we,z)=>z!==ae))},me=(ae,we,z)=>{const fe=[...y];fe[ae]={...fe[ae],[we]:z},b(fe)},ce=async()=>{if(!h.productName||h.productName.trim()===""){ne.error("Please select a product name");return}if(!h.weightKg||parseFloat(h.weightKg)<=0){ne.error("Please enter a valid weight (KG)");return}if(!h.batchNumber||h.batchNumber.trim()===""){ne.error("Please ensure batch number is generated");return}if(!h.productId){ne.error("Please select a product from inventory");return}if(!h.employeeName||h.employeeName.trim()===""){ne.error("Please select an employee");return}const ae=y.filter(z=>z.code&&z.quantity);if(ae.length===0){ne.error("Please add at least one ingredient");return}const we=[];for(const z of ae){const fe=t.find(je=>je.code===z.code);if(!fe){ne.error(`Ingredient ${z.code} not found`);return}const ve=parseFloat(z.quantity);if(isNaN(ve)||ve<=0){ne.error(`Invalid quantity for ${fe.name}`);return}if(fe.stock<ve){ne.error(`Insufficient stock for ${fe.name}. Available: ${fe.stock} ${fe.unit}`);return}we.push({ingredientId:fe.id,ingredientName:fe.name,quantity:ve})}try{const z=parseFloat(h.weightKg),fe={productId:h.productId,productName:h.productName,quantity:z,batchNumber:h.batchNumber,operator:"Current User",initialIngredients:we};console.log("Creating production with payload:",fe);const ve=await QM(fe);for(const je of ae)if(t.find(Ve=>Ve.code===je.code)){const Ve=parseFloat(je.quantity);await r(je.code,Ve)}await U(),await n(),m({productName:"",productId:"",weightKg:"",batchNumber:"",employeeName:""}),b([]),w([]),u(!1),ne.success(`Production added! ${z} kg of ${h.productName} added to Production Facility inventory.`)}catch(z){console.error("Error adding production:",z),ne.error("Failed to add production to database")}},_e=async(ae,we)=>{if(we==="completed"){const z=a.find(fe=>fe.id===ae);z&&F({show:!0,production:z,actualWeight:z.weightKg,additionalIngredients:[]});return}try{console.log("Updating status:",{id:ae,status:we});const z=await ij(ae,we);console.log("Update result:",z),s(a.map(fe=>fe.id===ae?{...fe,status:we}:fe)),ne.success("Production status updated")}catch(z){console.error("Error updating production status:",z),ne.error("Failed to update status")}},Ie=async()=>{const{production:ae,actualWeight:we,additionalIngredients:z}=H;if(ae)try{const fe=await ij(ae.id,"completed",{actualWeight:we?parseFloat(we):ae.weightKg,additionalIngredients:z||[]});console.log("Update result:",fe),s(a.map(Fe=>Fe.id===ae.id?{...Fe,status:"completed",weightKg:we||Fe.weightKg}:Fe));const ve=fe.productName||ae.productName,je=we||ae.weightKg;ne.success(`Production completed! ${je} KG ${ve} added to Production Facility inventory.`),await n(),F({show:!1})}catch(fe){console.error("Error completing production:",fe),ne.error("Failed to complete production")}},Je=async ae=>{q({show:!0,productionId:ae})},tt=async()=>{const ae=T.productionId;if(ae){console.log("Frontend: Attempting to delete production with ID:",ae,"Type:",typeof ae);try{await JM(ae),s(a.filter(we=>we.id!==ae)),await n(),ne.success("Production record deleted")}catch(we){console.error("Error deleting production record:",we),ne.error("Failed to delete record")}finally{q({show:!1})}}};return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(Cr,{className:"w-6 h-6 text-primary"})})}),o.jsxs("p",{className:"text-3xl text-primary mb-1",children:[(B||0).toFixed(1)," KG"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Produced Today"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(fl,{className:"w-6 h-6 text-primary"})})}),o.jsx("p",{className:"text-3xl text-primary mb-1",children:$}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(Cn,{className:"w-6 h-6 text-primary"})})}),o.jsx("p",{className:"text-3xl text-primary mb-1",children:E}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Batches"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(Mn,{className:"w-6 h-6 text-primary"})})}),o.jsxs("p",{className:"text-3xl text-primary mb-1",children:[Pe.isPositive?"+":"",Pe.value,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"vs Last Week"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("h3",{className:"mb-4",children:"Weekly Production (KG)"}),o.jsx(bi,{width:"100%",height:250,children:o.jsxs(o0,{data:K,children:[o.jsx(ko,{strokeDasharray:"3 3"}),o.jsx(Rn,{dataKey:"day"}),o.jsx(bn,{}),o.jsx(fr,{}),o.jsx(on,{dataKey:"weight",fill:"#dc2626"})]})})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("h3",{className:"mb-4",children:"Product Distribution (%)"}),o.jsx(bi,{width:"100%",height:250,children:o.jsxs(oT,{children:[o.jsx(Bn,{data:he,cx:"50%",cy:"50%",labelLine:!1,label:({name:ae,value:we})=>`${ae}: ${we}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:he.map((ae,we)=>o.jsx(us,{fill:lA[we%lA.length]},`cell-${we}`))}),o.jsx(fr,{})]})})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center gap-3",children:[o.jsx(Cn,{className:"w-6 h-6 text-primary"}),o.jsx("h2",{children:"Select Product for Production"})]}),o.jsx("div",{className:"p-6 border-b border-border",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>Y("All"),className:`px-4 py-2 rounded-lg transition-all ${L==="All"?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:"All"}),Array.from(new Set(v.map(ae=>ae.category))).filter(Boolean).sort().map(ae=>o.jsx("button",{onClick:()=>Y(ae),className:`px-4 py-2 rounded-lg transition-all ${L===ae?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"}`,children:ae},ae))]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:v.filter(ae=>L==="All"||ae.category===L).map(ae=>{const we=_.find(fe=>String(fe.product_id)===String(ae.id)&&fe.location==="Production Facility"),z=(we==null?void 0:we.quantity)||0;return o.jsx("div",{onClick:()=>le(ae),className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary transition-all cursor-pointer group",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"flex justify-between items-start mb-2",children:o.jsx("h3",{className:"font-medium text-sm flex-1",children:ae.name})}),o.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded w-fit mb-3",children:ae.category}),o.jsxs("div",{className:"text-xs text-muted-foreground mb-3 flex-1",children:[o.jsx("p",{className:"font-medium mb-1",children:"Default Ingredients:"}),o.jsx(eG,{productId:String(ae.id)})]}),o.jsx("div",{className:"mt-auto flex justify-between items-end",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-xl text-primary",children:[z," ",ae.unit]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Stock"})]})})]})},ae.id)})})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border",children:[o.jsx("th",{className:"text-left py-3 px-4",children:"Batch #"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Product Name"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Weight (KG)"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Ingredients"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Time"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),o.jsx("tbody",{children:a.map(ae=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4",children:ae.batchNumber}),o.jsx("td",{className:"py-3 px-4",children:ae.productName}),o.jsxs("td",{className:"py-3 px-4 text-primary",children:[(Number(ae.weightKg)||0).toFixed(1)," KG"]}),o.jsx("td",{className:"py-3 px-4",children:ae.ingredientsUsed.length>0?o.jsx("div",{className:"text-xs",children:ae.ingredientsUsed.map((we,z)=>o.jsxs("div",{className:"text-muted-foreground",children:[we.name,": ",we.quantity," ",we.unit]},z))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"No ingredients recorded"})}),o.jsx("td",{className:"py-3 px-4",children:ae.date}),o.jsx("td",{className:"py-3 px-4",children:ae.time}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${ae.status==="completed"?"bg-green-100 text-green-700":ae.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:ae.status==="in-progress"?"In Progress":ae.status==="completed"?"Completed":"Quality Check"})}),o.jsxs("td",{className:"py-3 px-4",children:[o.jsxs("select",{value:ae.status,onChange:we=>_e(ae.id,we.target.value),className:"px-2 py-1 bg-background border border-border rounded text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"quality-check",children:"Quality Check"}),o.jsx("option",{value:"completed",children:"Completed"})]}),o.jsx("button",{onClick:()=>Je(ae.id),className:"ml-2 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200",children:o.jsx($t,{className:"w-4 h-4"})})]})]},ae.id))})]})})})]})]}),T.show&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx(ir,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold",children:"Delete Production Record"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone"})]})]}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-sm text-red-800",children:"Are you sure you want to delete this production record? All associated data will be permanently removed."})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>q({show:!1}),className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors font-medium",children:"Cancel"}),o.jsxs("button",{onClick:tt,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[o.jsx($t,{className:"w-4 h-4"}),"Delete"]})]})]})}),H.show&&H.production&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full p-6 border border-border my-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Confirm Production Completion"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),o.jsx("p",{className:"font-semibold",children:H.production.productName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Batch #"}),o.jsx("p",{className:"font-semibold",children:H.production.batchNumber})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-semibold",children:H.production.date})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),o.jsx("p",{className:"font-semibold",children:H.production.time})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Initial Ingredients Used"}),o.jsx("div",{className:"space-y-2 p-3 bg-muted/20 rounded-lg",children:H.production.ingredientsUsed&&H.production.ingredientsUsed.length>0?H.production.ingredientsUsed.map((ae,we)=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:ae.name||ae.code}),o.jsxs("span",{className:"font-medium",children:[ae.quantity," ",ae.unit||"unit"]})]},we)):o.jsx("p",{className:"text-sm text-muted-foreground",children:"No initial ingredients recorded"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Actual Weight Produced (KG) *"}),o.jsx("input",{type:"number",step:"0.1",value:H.actualWeight||"",onChange:ae=>F({...H,actualWeight:ae.target.value}),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter actual weight produced"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Planned: ",H.production.weightKg," KG"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold",children:"Additional Ingredients Used"}),o.jsxs("button",{onClick:()=>{const ae=[...H.additionalIngredients||[],{code:"",quantity:""}];F({...H,additionalIngredients:ae})},className:"text-sm bg-primary text-primary-foreground px-3 py-1 rounded hover:bg-primary/90 transition-colors flex items-center gap-1",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add Ingredient"]})]}),o.jsx("div",{className:"space-y-3",children:H.additionalIngredients&&H.additionalIngredients.length>0?H.additionalIngredients.map((ae,we)=>{const z=t.find(fe=>fe.id.toString()===ae.code);return o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsxs("select",{value:ae.code,onChange:fe=>{const ve=[...H.additionalIngredients||[]];ve[we].code=fe.target.value,F({...H,additionalIngredients:ve})},className:"flex-1 px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[o.jsx("option",{value:"",children:"Select ingredient"}),t.map(fe=>o.jsxs("option",{value:fe.id.toString(),children:[fe.name," (Stock: ",fe.stock," ",fe.unit,")"]},fe.id))]}),o.jsx("input",{type:"number",step:"0.1",placeholder:"Qty",value:ae.quantity,onChange:fe=>{const ve=[...H.additionalIngredients||[]];ve[we].quantity=fe.target.value,F({...H,additionalIngredients:ve})},className:"w-24 px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"}),z&&o.jsxs("div",{className:"text-xs text-muted-foreground whitespace-nowrap py-2",children:["Available: ",z.stock," ",z.unit]}),o.jsx("button",{onClick:()=>{var ve;const fe=((ve=H.additionalIngredients)==null?void 0:ve.filter((je,Fe)=>Fe!==we))||[];F({...H,additionalIngredients:fe})},className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:o.jsx($t,{className:"w-4 h-4"})})]},we)}):o.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/20 rounded",children:'No additional ingredients. Click "Add Ingredient" to add wrapper, oil, or other ingredients used.'})})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-border",children:[o.jsx("button",{onClick:()=>F({show:!1}),className:"flex-1 px-4 py-2 bg-muted text-foreground rounded-lg hover:bg-muted/80 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{onClick:Ie,disabled:!H.actualWeight,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm & Complete"})]})]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-3xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cn,{className:"w-6 h-6 text-primary"}),o.jsxs("h2",{className:"text-xl font-bold",children:["Encode Production - ",f==null?void 0:f.name]})]}),o.jsx("button",{onClick:()=>{u(!1),p(null),m({productName:"",productId:"",weightKg:"",batchNumber:"",employeeName:""}),b([]),w([])},className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Weight (KG) *"}),o.jsx("input",{type:"number",step:"0.1",value:h.weightKg,onChange:ae=>{const we=ae.target.value;if(m({...h,weightKg:we}),j.length>0){const z=parseFloat(we)||0,fe=j.map(ve=>({...ve,quantity:String(parseFloat(ve.quantity)*z)}));b(fe)}},placeholder:"0.0",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Employee Name *"}),o.jsxs("select",{value:h.employeeName,onChange:ae=>m({...h,employeeName:ae.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"Select Employee"}),S.map(ae=>o.jsx("option",{value:ae.fullName,children:ae.fullName},ae.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Batch Number (Auto-generated)"}),o.jsx("input",{type:"text",value:h.batchNumber,className:"w-full px-3 py-2 bg-muted border border-border rounded-lg",readOnly:!0})]}),o.jsxs("div",{className:"bg-secondary/50 rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ol,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-sm font-medium",children:"Ingredients Used"})]}),o.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-1 text-sm bg-primary text-primary-foreground px-3 py-1.5 rounded hover:bg-primary/90",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add Ingredient"]})]}),y.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Click "Add Ingredient" to add ingredients for this production'}):o.jsx("div",{className:"space-y-2",children:y.map((ae,we)=>o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:ae.code,onChange:z=>me(we,"code",z.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[o.jsx("option",{value:"",children:"Select Ingredient"}),t.map(z=>o.jsxs("option",{value:z.code,children:[z.name," (",z.unit,") - Stock:"," ",z.stock]},z.code))]})}),o.jsx("div",{className:"w-32",children:o.jsx("input",{type:"number",step:"0.1",value:ae.quantity,onChange:z=>me(we,"quantity",z.target.value),placeholder:"Qty",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})}),o.jsx("button",{type:"button",onClick:()=>oe(we),className:"p-2 hover:bg-red-100 text-red-600 rounded",title:"Remove",children:o.jsx($t,{className:"w-4 h-4"})})]},we))})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{u(!1),p(null),m({productName:"",productId:"",weightKg:"",batchNumber:"",employeeName:""}),b([]),w([])},className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsxs("button",{type:"button",onClick:ce,className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(Va,{className:"w-4 h-4"}),"Save Production"]})]})]})]})})]})}function rG({currentUser:e}){const[t,r]=D.useState([]),[n,a]=D.useState([]),[s,c]=D.useState(""),[u,f]=D.useState("All"),[p,h]=D.useState(!1),[m,y]=D.useState(!1),[b,j]=D.useState(null),[w,v]=D.useState(!1),[O,_]=D.useState(!0),[A,k]=D.useState(!1),[P,S]=D.useState(!1),[C,T]=D.useState([]),[q,H]=D.useState([]),[F,L]=D.useState(!1),[Y,G]=D.useState(""),[te,U]=D.useState(!1),[Q,Z]=D.useState(""),[B,$]=D.useState(!1),[E,R]=D.useState(null),[X,re]=D.useState("");D.useEffect(()=>{le(),oe(),me();const z=setInterval(()=>{le()},1e3);return()=>clearInterval(z)},[]);const le=async()=>{try{_(!0),console.log("Loading inventory data...");const[z,fe,ve]=await Promise.all([Ii(),ic(),Nn()]);console.log("Inventory data received:",fe);const je=z.map(Fe=>{let Ve=fe.find(er=>er.productId===Fe.id&&(er.location==="Production Facility"||er.location==="Production"));const pt={};let Jt=0;ve.forEach(er=>{if(er.name==="Production Facility"||er.name==="Production")return;const Lt=fe.find(hr=>hr.productId===Fe.id&&hr.location===er.name),or=(Lt==null?void 0:Lt.quantity)||0;pt[er.name]=or,Jt+=or});const Zt=(Ve==null?void 0:Ve.quantity)||0,Ir=Zt+Jt;return{id:Fe.id,name:Fe.name,sku:Fe.sku||`SKU-${Fe.id}`,category:Fe.category,stockProduction:Zt,storeStocks:pt,totalStock:Ir,minStockLevel:50,reorderPoint:100,reorderQuantity:200,unit:Fe.unit||"kg",lastUpdated:(Ve==null?void 0:Ve.lastUpdated)||new Date().toISOString(),price:Fe.price}});console.log("Processed inventory items:",je),r(je)}catch(z){console.error("Error loading inventory:",z),ne.error("Failed to load inventory data")}finally{_(!1)}},K=async()=>{L(!0)},he=async()=>{Z(""),U(!0);try{if(!(await fetch(`${Av}/verify-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e==null?void 0:e.id,password:Y})})).ok){Z("Invalid password. Please try again."),U(!1);return}await RM(),ne.success("All products deleted successfully"),L(!1),G(""),await le()}catch(z){console.error("Error deleting all products:",z),Z("Failed to delete products. Please try again.")}finally{U(!1)}},Pe=async(z,fe)=>{R(z),re(fe),$(!0)},V=async()=>{if(E)try{_(!0),await $M(E),ne.success("Product deleted successfully"),$(!1),R(null),re(""),await le()}catch(z){console.error("Error deleting product:",z),ne.error("Failed to delete product")}finally{_(!1)}},oe=async()=>{try{const z=await is();T(z)}catch(z){console.error("Error loading categories:",z),ne.error("Failed to load categories")}},me=async()=>{try{const fe=(await Nn()).filter(ve=>ve.name!=="Production Facility"&&ve.name!=="Production");H(fe)}catch(z){console.error("Error loading store locations:",z),ne.error("Failed to load store locations")}},ce=t.filter(z=>{const fe=z.name.toLowerCase().includes(s.toLowerCase())||z.sku.toLowerCase().includes(s.toLowerCase()),ve=u==="All"||z.category===u,je=!w||z.totalStock<z.minStockLevel;return fe&&ve&&je}),_e=t.filter(z=>z.totalStock<z.minStockLevel),Ie=t.filter(z=>Object.values(z.storeStocks).some(fe=>fe<=z.reorderPoint)),Je=t.reduce((z,fe)=>z+fe.totalStock,0),tt=t.map(z=>{const fe={name:z.name.length>15?z.name.substring(0,15)+"...":z.name,Production:z.stockProduction};return q.forEach(ve=>{fe[ve.name]=z.storeStocks[ve.name]||0}),fe}),ae=async z=>{if(!b)return;const fe=z.fromLocation==="Production"?b.stockProduction:b.storeStocks[z.fromLocation]||0;if(fe<z.quantity){ne.error(`Not enough stock in ${z.fromLocation}! Available: ${fe} ${b.unit}`);return}try{console.log("Starting transfer:",{sourceStock:fe,adjustment:z}),console.log(`Deducting ${z.quantity} from ${z.fromLocation} (current: ${fe})`);const ve=await nj(b.id,z.fromLocation,fe-z.quantity);console.log("Deduct result:",ve);const je=z.toLocation==="Production"?b.stockProduction:b.storeStocks[z.toLocation]||0;console.log(`Adding ${z.quantity} to ${z.toLocation} (current: ${je})`);const Fe=await nj(b.id,z.toLocation,je+z.quantity);console.log("Add result:",Fe);try{await AA({productId:b.id,from:z.fromLocation,to:z.toLocation,quantity:z.quantity,transferredBy:(user==null?void 0:user.username)||"System"}),console.log("Transfer record created")}catch(Ve){console.error("Warning: Transfer record creation failed:",Ve)}ne.success(`Transferred ${z.quantity} ${b.unit} from ${z.fromLocation} to ${z.toLocation}`),await new Promise(Ve=>setTimeout(Ve,500)),console.log("Reloading inventory data..."),await le(),h(!1),j(null)}catch(ve){console.error("Error adjusting stock:",ve),ne.error("Failed to adjust stock")}},we=async z=>{try{await DM(z.id,{name:z.name,sku:z.sku,minStockLevel:z.minStockLevel,reorderPoint:z.reorderPoint,reorderQuantity:z.reorderQuantity});let fe=0;Object.values(z.storeStocks).forEach(ve=>{fe+=ve}),r(t.map(ve=>ve.id===z.id?{...z,totalStock:z.stockProduction+fe,lastUpdated:new Date().toLocaleString()}:ve)),ne.success("Inventory item updated successfully"),y(!1),j(null)}catch(fe){console.error("Error updating inventory item:",fe),ne.error("Failed to update inventory item")}};return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-2 lg:p-3 rounded-lg",children:o.jsx(Cr,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-primary mb-1",children:t.length}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Total Products"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-green-100 p-2 lg:p-3 rounded-lg",children:o.jsx(Mn,{className:"w-5 h-5 lg:w-6 lg:h-6 text-green-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-green-600 mb-1",children:Je.toLocaleString()}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Total Stock Units"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-red-100 p-2 lg:p-3 rounded-lg",children:o.jsx(ir,{className:"w-5 h-5 lg:w-6 lg:h-6 text-red-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-red-600 mb-1",children:_e.length}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Low Stock Alerts"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-orange-100 p-2 lg:p-3 rounded-lg",children:o.jsx(Gt,{className:"w-5 h-5 lg:w-6 lg:h-6 text-orange-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-orange-600 mb-1",children:Ie.length}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Need Reorder"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[o.jsx(kt,{className:"w-4 h-4"}),"Encode Product"]}),o.jsxs("button",{onClick:()=>k(!A),className:"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[o.jsx(Gt,{className:"w-4 h-4"}),A?"Hide":"Show"," Reorder List"]}),o.jsxs("button",{onClick:le,className:"hidden flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-accent transition-colors text-sm",disabled:O,children:[o.jsx(Gt,{className:`w-4 h-4 ${O?"animate-spin":""}`}),"Refresh"]}),o.jsxs("button",{onClick:K,className:"hidden flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm",disabled:O||(e==null?void 0:e.role)!=="ADMIN",title:(e==null?void 0:e.role)!=="ADMIN"?"Only admins can delete all products":"",children:[o.jsx($t,{className:`w-4 h-4 ${O?"animate-spin":""}`}),"Delete All Products"]})]}),A&&Ie.length>0&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 lg:p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Gt,{className:"w-6 h-6 text-orange-600"}),o.jsx("h3",{className:"text-orange-900",children:"Items Requiring Reorder"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ie.map(z=>o.jsxs("div",{className:"bg-background rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:z.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",z.sku]})]}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${z.totalStock<z.minStockLevel?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:z.totalStock<z.minStockLevel?"CRITICAL":"LOW"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Current:"}),o.jsxs("p",{className:"text-orange-600 font-medium",children:[z.totalStock," ",z.unit]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Reorder:"}),o.jsxs("p",{className:"text-green-600 font-medium",children:[z.reorderQuantity," ",z.unit]})]})]})]},z.id))})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("h2",{className:"mb-4",children:"Stock Distribution by Location"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx(bi,{width:"100%",height:300,minWidth:300,children:o.jsxs(o0,{data:tt,margin:{top:20,right:30,left:0,bottom:80},children:[o.jsx(ko,{strokeDasharray:"3 3"}),o.jsx(Rn,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),o.jsx(bn,{}),o.jsx(fr,{}),o.jsx(on,{dataKey:"Production",fill:"#3b82f6"}),q.map((z,fe)=>o.jsx(on,{dataKey:z.name,fill:["#10b981","#f59e0b","#8b5cf6","#ec4899"][fe%4]},z.id))]})})}),o.jsxs("div",{className:"flex justify-center gap-6 mt-4 pt-4 border-t border-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),o.jsx("span",{className:"text-sm",children:"Production"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),o.jsx("span",{className:"text-sm",children:"Main Store"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-amber-500 rounded"}),o.jsx("span",{className:"text-sm",children:"Branch Store"})]})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsx("div",{className:"p-4 lg:p-6 border-b border-border",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:s,onChange:z=>c(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ac,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("select",{value:u,onChange:z=>f(z.target.value),className:"px-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"All",children:"All Categories"}),C.map(z=>o.jsx("option",{value:z.name,children:z.name},z.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ir,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("label",{className:"text-sm text-muted-foreground",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:z=>v(z.target.checked)}),"Show Low Stock Only"]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"SKU"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Product"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Category"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm",children:"Production"}),q.map(z=>o.jsx("th",{className:"text-right py-3 px-4 text-sm",children:z.name},z.id)),o.jsx("th",{className:"text-right py-3 px-4 text-sm",children:"Total"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Actions"})]})}),o.jsx("tbody",{children:ce.map(z=>{const fe=z.totalStock<z.minStockLevel,ve=z.totalStock<=z.reorderPoint;return o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4 text-sm",children:z.sku}),o.jsx("td",{className:"py-3 px-4 text-sm",children:z.name}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"px-2 py-1 bg-secondary text-secondary-foreground rounded text-xs",children:z.category})}),o.jsx("td",{className:"py-3 px-4 text-right text-sm",children:z.stockProduction}),q.map(je=>o.jsx("td",{className:"py-3 px-4 text-right text-sm",children:z.storeStocks[je.name]||0},je.id)),o.jsxs("td",{className:"py-3 px-4 text-right text-primary font-medium text-sm",children:[z.totalStock," ",z.unit]}),o.jsx("td",{className:"py-3 px-4",children:fe?o.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs",children:[o.jsx(ir,{className:"w-4 h-4"}),"Critical"]}):ve?o.jsx("span",{className:"text-orange-600 text-xs",children:"Reorder"}):o.jsx("span",{className:"text-green-600 text-xs",children:"Normal"})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>{j(z),h(!0)},className:"p-1.5 hover:bg-accent rounded",title:"Adjust Stock",children:o.jsx(Gt,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{j(z),y(!0)},className:"p-1.5 hover:bg-accent rounded",title:"Edit Item",children:o.jsx(bA,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Pe(z.id,z.name),className:"p-1.5 hover:bg-red-600 rounded",title:"Delete Product",children:o.jsx($t,{className:"w-4 h-4"})})]})})]},z.id)})})]})})]}),_e.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 lg:p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(ir,{className:"w-6 h-6 text-red-600"}),o.jsx("h3",{className:"text-red-900",children:"Critical Low Stock Alerts"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:_e.map(z=>o.jsxs("div",{className:"flex items-center justify-between bg-background rounded p-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:z.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",z.sku]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-red-600 font-medium",children:[z.totalStock," ",z.unit]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Min: ",z.minStockLevel]})]})]},z.id))})]})]}),p&&b&&o.jsx(nG,{item:b,onAdjust:ae,onClose:()=>{h(!1),j(null)}}),m&&b&&o.jsx(aG,{item:b,onSave:we,onClose:()=>{y(!1),j(null)}}),P&&o.jsx(iG,{onClose:()=>S(!1),onAddProduct:le}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx(ir,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Delete All Products"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone"})]})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-red-800 font-medium mb-2",children:" Warning"}),o.jsx("p",{className:"text-red-700 text-sm",children:"You are about to permanently delete ALL products from the database. This includes all product data, inventory records, and related information."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yA,{className:"w-4 h-4 text-primary"}),"Admin Password"]})}),o.jsx("input",{type:"password",value:Y,onChange:z=>{G(z.target.value),Z("")},onKeyPress:z=>{z.key==="Enter"&&Y&&!te&&he()},placeholder:"Enter your admin password",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-foreground placeholder-muted-foreground",disabled:te,autoFocus:!0}),Q&&o.jsxs("p",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[o.jsx(ir,{className:"w-4 h-4"}),Q]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{L(!1),G(""),Z("")},disabled:te,className:"flex-1 px-4 py-2 rounded-lg bg-muted text-foreground hover:bg-muted/80 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:he,disabled:te||!Y,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:te?o.jsxs(o.Fragment,{children:[o.jsx(Gt,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):o.jsxs(o.Fragment,{children:[o.jsx($t,{className:"w-4 h-4"}),"Delete All Products"]})})]})]})}),B&&E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx(ir,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Delete Product"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone"})]})]}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-red-800 font-medium mb-2",children:" Warning"}),o.jsxs("p",{className:"text-red-700 text-sm",children:["You are about to permanently delete"," ",o.jsxs("span",{className:"font-semibold",children:['"',X,'"']})," ","from the database. This includes all related inventory records."]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{$(!1),R(null),re("")},disabled:O,className:"flex-1 px-4 py-2 rounded-lg bg-muted text-foreground hover:bg-muted/80 transition-colors disabled:opacity-50",children:"Cancel"}),o.jsx("button",{onClick:V,disabled:O,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:O?o.jsxs(o.Fragment,{children:[o.jsx(Gt,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):o.jsxs(o.Fragment,{children:[o.jsx($t,{className:"w-4 h-4"}),"Delete Product"]})})]})]})}),A&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full p-6 max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gt,{className:"w-6 h-6 text-primary"}),o.jsx("h2",{className:"text-xl font-bold",children:"Reorder Report"})]}),o.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Generated"}),o.jsx("p",{className:"font-semibold",children:new Date().toLocaleString()}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Items requiring reorder:"," ",o.jsx("span",{className:"font-bold text-primary",children:Ie.length})]})]}),Ie.length>0?o.jsx("div",{className:"space-y-3",children:Ie.map(z=>{const fe=q.filter(ve=>(z.storeStocks[ve.name]||0)<=z.reorderPoint);return o.jsxs("div",{className:`p-4 border rounded-lg ${z.totalStock<z.minStockLevel?"bg-red-50 border-red-300":"bg-orange-50 border-orange-300"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-base",children:z.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",z.sku]})]}),o.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${z.totalStock<z.minStockLevel?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:z.totalStock<z.minStockLevel?"CRITICAL":"LOW"})]}),o.jsxs("div",{className:"mb-3 p-2 bg-white/50 rounded border border-current/20",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Low Stock Store:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:fe.map(ve=>o.jsxs("span",{className:"inline-block bg-orange-200 text-orange-900 text-xs px-2 py-1 rounded font-medium",children:[ve.name,": ",z.storeStocks[ve.name]||0," ",z.unit]},ve.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Reorder Point"}),o.jsxs("p",{className:"font-semibold",children:[z.reorderPoint," ",z.unit]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Min Level"}),o.jsxs("p",{className:"font-semibold",children:[z.minStockLevel," ",z.unit]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-muted-foreground",children:"Recommended Order"}),o.jsxs("p",{className:"font-semibold",children:[z.reorderQuantity," ",z.unit]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("button",{onClick:()=>{j(z),h(!0)},className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[o.jsx(Gt,{className:"w-4 h-4"}),"Transfer Stock"]})})]},z.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Mn,{className:"w-12 h-12 text-green-600 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-muted-foreground",children:"No items require reordering"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All stock levels are healthy"})]}),o.jsx("div",{className:"mt-6 flex justify-end",children:o.jsx("button",{onClick:()=>k(!1),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Close"})})]})})]})}function nG({item:e,onAdjust:t,onClose:r}){const[n,a]=D.useState("Production"),[s,c]=D.useState(""),[u,f]=D.useState(0),[p,h]=D.useState(""),[m,y]=D.useState([]);D.useEffect(()=>{b()},[]);const b=async()=>{try{const v=await Nn();y(v),v.length>0&&!s&&c(v[0].name)}catch(v){console.error("Error loading stores:",v),ne.error("Failed to load stores")}},j=v=>{if(v.preventDefault(),u<=0||!p||!s||!n){ne.error("Please enter quantity, from/to location, and reason");return}t({fromLocation:n,toLocation:s,quantity:u,reason:p})},w=()=>n==="Production"?e.stockProduction:e.storeStocks[n]||0;return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{children:["Transfer Stock - ",e.name]}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available in ",n]}),o.jsxs("p",{className:"text-xl font-bold text-primary",children:[w()," ",e.unit]})]}),o.jsx(Cr,{className:"w-8 h-8 text-orange-600"})]}),w()===0&&o.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[" No stock available in ",n,"!"]})]}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Transfer From *"}),o.jsxs("select",{value:n,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"Production",children:"Production"}),m.map(v=>o.jsx("option",{value:v.name,children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Transfer to *"}),m.length>0?o.jsxs("select",{value:s,onChange:v=>c(v.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"",children:"Select Destination"}),o.jsx("option",{value:"Production",children:"Production"}),m.map(v=>o.jsxs("option",{value:v.name,children:[v.name," (Current: ",e.storeStocks[v.name]||0," ",e.unit,")"]},v.id))]}):o.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:"No stores available. Please create stores first."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm mb-2",children:["Quantity to Transfer (",e.unit,") *"]}),o.jsx("input",{type:"number",min:"0",step:"0.1",max:w(),value:u,onChange:v=>f(parseFloat(v.target.value)||0),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:`Max: ${w()}`,required:!0}),u>w()&&o.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" Quantity exceeds available ",n," stock!"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reason for Transfer *"}),o.jsx("textarea",{value:p,onChange:v=>h(v.target.value),placeholder:"e.g., Store restock, Customer demand, etc.",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary min-h-[80px]",required:!0})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",disabled:u>w()||w()===0,children:[o.jsx(Gt,{className:"w-4 h-4"}),"Transfer Stock"]})]})]})]})})}function aG({item:e,onSave:t,onClose:r}){const[n,a]=D.useState(e),[s,c]=D.useState([]),[u,f]=D.useState([]),[p,h]=D.useState([]),[m,y]=D.useState(!0),[b,j]=D.useState(!1);D.useEffect(()=>{w(),v(),O()},[]);const w=async()=>{try{const S=await Nn();c(S)}catch(S){console.error("Error loading store locations:",S)}},v=async()=>{try{const S=await Bu();f(S)}catch(S){console.error("Error loading ingredients:",S)}},O=async()=>{try{y(!0);const S=await rb(e.id);S&&S.length>0&&h(S.map(C=>({ingredientId:C.ingredientId,quantity:String(C.quantity)})))}catch(S){console.error("Error loading default ingredients:",S)}finally{y(!1)}},_=()=>{h([...p,{ingredientId:"",quantity:""}])},A=S=>{h(p.filter((C,T)=>T!==S))},k=(S,C,T)=>{const q=[...p];q[S]={...q[S],[C]:T},h(q)},P=async S=>{S.preventDefault();const C=p.filter(T=>T.ingredientId&&T.quantity&&parseFloat(T.quantity)>0);try{j(!0),await NA(e.id,C.map(T=>({ingredientId:T.ingredientId,quantity:parseFloat(T.quantity)})))}catch(T){console.error("Error saving default ingredients:",T),ne.error("Failed to save default ingredients")}finally{j(!1)}t(n)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{children:"Edit Inventory Item"}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Product Name"}),o.jsx("input",{type:"text",value:n.name,onChange:S=>a({...n,name:S.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"SKU"}),o.jsx("input",{type:"text",value:n.sku,className:"w-full px-3 py-2 bg-muted border border-border rounded-lg cursor-not-allowed opacity-70",disabled:!0,readOnly:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Min Stock Level"}),o.jsx("input",{type:"number",value:n.minStockLevel,onChange:S=>a({...n,minStockLevel:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reorder Point"}),o.jsx("input",{type:"number",value:n.reorderPoint,onChange:S=>a({...n,reorderPoint:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reorder Quantity"}),o.jsx("input",{type:"number",value:n.reorderQuantity,onChange:S=>a({...n,reorderQuantity:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium",children:"Default Ingredients for Production"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Auto-loaded when this product is selected for production"})]}),o.jsxs("button",{type:"button",onClick:_,className:"flex items-center gap-1 text-sm bg-primary text-primary-foreground px-3 py-1.5 rounded hover:bg-primary/90",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add"]})]}),m?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-3",children:"Loading ingredients..."}):p.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-3",children:'No default ingredients set. Click "Add" to define ingredients.'}):o.jsx("div",{className:"space-y-2",children:p.map((S,C)=>o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:S.ingredientId,onChange:T=>k(C,"ingredientId",T.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[o.jsx("option",{value:"",children:"Select Ingredient"}),u.map(T=>o.jsxs("option",{value:T.id,children:[T.name," (",T.unit,")"]},T.id))]})}),o.jsx("div",{className:"w-28",children:o.jsx("input",{type:"number",step:"0.1",min:"0",value:S.quantity,onChange:T=>k(C,"quantity",T.target.value),placeholder:"Qty",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})}),o.jsx("button",{type:"button",onClick:()=>A(C),className:"p-2 hover:bg-red-100 text-red-600 rounded",title:"Remove",children:o.jsx($t,{className:"w-4 h-4"})})]},C))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors",disabled:b,children:[o.jsx(Va,{className:"w-4 h-4"}),b?"Saving...":"Save Changes"]})]})]})]})})}function iG({onClose:e,onAddProduct:t}){const[r,n]=D.useState({name:"",category:"",unit:"kg",price:0}),[a,s]=D.useState(!1),[c,u]=D.useState([]),[f,p]=D.useState([]),[h,m]=D.useState([]);D.useEffect(()=>{y(),b()},[]);const y=async()=>{try{const _=await is();u(_),_.length>0&&!r.category&&n(A=>({...A,category:_[0].name}))}catch(_){console.error("Error loading categories:",_),ne.error("Failed to load categories")}},b=async()=>{try{const _=await Bu();p(_)}catch(_){console.error("Error loading ingredients:",_)}},j=()=>{m([...h,{ingredientId:"",quantity:""}])},w=_=>{m(h.filter((A,k)=>k!==_))},v=(_,A,k)=>{const P=[...h];P[_]={...P[_],[A]:k},m(P)},O=async _=>{if(_.preventDefault(),!a)try{if(s(!0),(await Ii()).find(C=>C.name.toLowerCase()===r.name.toLowerCase())){ne.error(`Product "${r.name}" already exists in the database!`),s(!1);return}const P=await jA({name:r.name,category:r.category,unit:r.unit,price:r.price,image:null}),S=h.filter(C=>C.ingredientId&&C.quantity&&parseFloat(C.quantity)>0);if(S.length>0&&P.id)try{await NA(String(P.id),S.map(C=>({ingredientId:C.ingredientId,quantity:parseFloat(C.quantity)})))}catch(C){console.error("Error saving default ingredients:",C),ne.error("Product created but failed to save default ingredients")}ne.success(`Product "${r.name}" has been created${S.length>0?" with default ingredients":""}. Add stock via Production or transfer from other locations.`),t(),e()}catch(A){console.error("Error encoding product:",A),ne.error("Failed to encode product")}finally{s(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{children:"Encode New Product"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Product Name"}),o.jsx("input",{type:"text",value:r.name,onChange:_=>n({...r,name:_.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"SKU will be automatically generated based on category"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Category"}),c.length>0?o.jsxs("select",{value:r.category,onChange:_=>n({...r,category:_.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[o.jsx("option",{value:"",children:"Select Category"}),c.map(_=>o.jsx("option",{value:_.name,children:_.name},_.id))]}):o.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:"No categories available. Please create categories first."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Unit"}),o.jsxs("select",{value:r.unit,onChange:_=>n({...r,unit:_.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"g",children:"g"}),o.jsx("option",{value:"lb",children:"lb"}),o.jsx("option",{value:"oz",children:"oz"}),o.jsx("option",{value:"unit",children:"unit"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Price ()"}),o.jsx("input",{type:"number",step:"0.01",value:r.price,onChange:_=>n({...r,price:parseFloat(_.target.value)||0}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium",children:"Default Ingredients for Production"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"These ingredients will be auto-loaded when this product is selected for production"})]}),o.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-1 text-sm bg-primary text-primary-foreground px-3 py-1.5 rounded hover:bg-primary/90",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add"]})]}),h.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-3",children:'No default ingredients set. Click "Add" to define ingredients for this product.'}):o.jsx("div",{className:"space-y-2",children:h.map((_,A)=>o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:_.ingredientId,onChange:k=>v(A,"ingredientId",k.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[o.jsx("option",{value:"",children:"Select Ingredient"}),f.map(k=>o.jsxs("option",{value:k.id,children:[k.name," (",k.unit,")"]},k.id))]})}),o.jsx("div",{className:"w-28",children:o.jsx("input",{type:"number",step:"0.1",min:"0",value:_.quantity,onChange:k=>v(A,"quantity",k.target.value),placeholder:"Qty",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})}),o.jsx("button",{type:"button",onClick:()=>w(A),className:"p-2 hover:bg-red-100 text-red-600 rounded",title:"Remove",children:o.jsx($t,{className:"w-4 h-4"})})]},A))})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",disabled:a,children:"Cancel"}),o.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",disabled:a,children:[o.jsx(Va,{className:"w-4 h-4"}),a?"Encoding...":"Encode Product"]})]})]})]})})}function oG({currentUser:e}){const t=D.useContext(s0);if(!t)return o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("p",{children:"Loading ingredients inventory..."})});const{ingredients:r,adjustStock:n,setIngredients:a}=t,[s,c]=D.useState(""),[u,f]=D.useState("All"),[p,h]=D.useState(!1),[m,y]=D.useState(!1),[b,j]=D.useState(!1),[w,v]=D.useState(!1),[O,_]=D.useState(!1),[A,k]=D.useState(null),[P,S]=D.useState(!1),[C,T]=D.useState(!1),[q,H]=D.useState(!1),[F,L]=D.useState(!1),[Y,G]=D.useState([]);D.useEffect(()=>{te()},[]);const te=async()=>{try{const K=await EA();G(K)}catch(K){console.error("Error loading suppliers:",K),ne.error("Failed to load suppliers")}},U=["All",...Array.from(new Set(r.filter(K=>K.category).map(K=>K.category)))],Q=r.filter(K=>{const he=K.name&&K.name.toLowerCase().includes(s.toLowerCase())||K.code&&K.code.toLowerCase().includes(s.toLowerCase())||K.supplier&&K.supplier.toLowerCase().includes(s.toLowerCase()),Pe=u==="All"||K.category===u;return he&&Pe}),Z=r.filter(K=>K.stock<K.minStockLevel),B=r.filter(K=>K.stock<=K.reorderPoint),$=r.length,E=r.reduce((K,he)=>K+(Number(he.stock)||0)*(Number(he.costPerUnit)||0),0),R=async K=>{if(A)try{const he=r.find(me=>me.id===A.id);if(!he){ne.error("Ingredient not found");return}await HM({ingredient_id:Number(A.id),type:K.type,quantity:K.quantity,reason:K.reason||"Stock adjustment",user_id:e!=null&&e.id?Number(e.id):void 0,user_name:(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"Unknown User"}),await n(A.id,K.quantity,K.type,K.reason);const Pe=K.type==="add"?K.quantity:-K.quantity,V=typeof he.stock=="string"?parseFloat(he.stock):he.stock,oe=Math.max(0,V+Pe);await aj(A.id,{stock:oe,lastUpdated:new Date().toISOString()}),ne.success("Stock adjusted and recorded successfully"),h(!1),k(null)}catch(he){console.error("Error adjusting stock:",he),ne.error("Failed to adjust stock")}finally{H(!1)}},X=async()=>{if(A){T(!0);try{console.log("=== FRONTEND DELETE ==="),console.log(`Attempting to delete ingredient ID: "${A.id}" (type: ${typeof A.id})`),console.log(`Ingredient name: ${A.name}`),await VM(A.id),a(r.filter(K=>K.id!==A.id)),ne.success(`Ingredient "${A.name}" deleted successfully`),v(!1),k(null)}catch(K){console.error("Error deleting ingredient:",K),ne.error("Failed to delete ingredient")}finally{T(!1)}}},re=async()=>{S(!0);try{const K=await GM();a(K),ne.success("Ingredients reset successfully")}catch(K){console.error("Error resetting ingredients:",K),ne.error("Failed to reset ingredients")}finally{S(!1),_(!1)}},le=()=>{const K=["Code","Ingredient Name","Category","Stock","Unit","Cost/Unit","Total Value","Supplier","Expiry Date"],he=r.map(ce=>[ce.code,ce.name,ce.category,ce.stock,ce.unit,Number(ce.costPerUnit||0).toFixed(2),(Number(ce.stock||0)*Number(ce.costPerUnit||0)).toFixed(2),ce.supplier,ce.expiryDate||"N/A"]),Pe=[K,...he].map(ce=>ce.join(",")).join(`
`),V=new Blob([Pe],{type:"text/csv"}),oe=window.URL.createObjectURL(V),me=document.createElement("a");me.href=oe,me.download=`ingredients-inventory-${new Date().toISOString().split("T")[0]}.csv`,me.click()};return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-2 lg:p-3 rounded-lg",children:o.jsx(Cr,{className:"w-5 h-5 lg:w-6 lg:h-6 text-primary"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-primary mb-1",children:$}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Total Ingredients"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-green-100 p-2 lg:p-3 rounded-lg",children:o.jsx(Mn,{className:"w-5 h-5 lg:w-6 lg:h-6 text-green-600"})})}),o.jsxs("p",{className:"text-2xl lg:text-3xl text-green-600 mb-1",children:["",Number(E||0).toFixed(2)]}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Inventory Value"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-red-100 p-2 lg:p-3 rounded-lg",children:o.jsx(ir,{className:"w-5 h-5 lg:w-6 lg:h-6 text-red-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-red-600 mb-1",children:Z.length}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Low Stock Alerts"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-orange-100 p-2 lg:p-3 rounded-lg",children:o.jsx(ir,{className:"w-5 h-5 lg:w-6 lg:h-6 text-orange-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-orange-600 mb-1",children:B.length}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Need Reorder"})]})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search ingredients by name, code, or supplier...",value:s,onChange:K=>c(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>y(!0),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:"Add"})]}),o.jsxs("button",{onClick:le,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(pl,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),o.jsxs("button",{onClick:()=>_(!0),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[o.jsx(ej,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ac,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by:"})]}),o.jsx("select",{value:u,onChange:K=>f(K.target.value),className:"px-3 py-1.5 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:U.map(K=>o.jsx("option",{value:K,children:K},K))})]})]}),Z.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 lg:p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(ir,{className:"w-6 h-6 text-red-600"}),o.jsx("h3",{className:"text-red-900 font-medium",children:"Critical Low Stock Alerts"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Z.map(K=>o.jsxs("div",{className:"bg-background rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:K.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:K.code})]}),o.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded text-xs",children:"CRITICAL"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Current:"}),o.jsxs("p",{className:"text-red-600 font-medium",children:[K.stock," ",K.unit]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Min Level:"}),o.jsxs("p",{className:"font-medium",children:[K.minStockLevel," ",K.unit]})]})]})]},K.id))})]}),o.jsxs("div",{className:"hidden lg:block bg-card rounded-lg border border-border",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Code"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Ingredient Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Category"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:"Stock"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium",children:"Value"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:Q.map(K=>{const he=K.stock<K.minStockLevel,Pe=K.stock<=K.reorderPoint,V=(Number(K.stock)||0)*(Number(K.costPerUnit)||0);return o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4 text-sm font-mono",children:K.code}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:K.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:K.supplier})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"px-2 py-1 bg-secondary text-secondary-foreground rounded text-xs",children:K.category})}),o.jsxs("td",{className:"py-3 px-4 text-right text-primary font-medium text-sm",children:[K.stock," ",K.unit]}),o.jsxs("td",{className:"py-3 px-4 text-right text-sm",children:["",Number(V||0).toFixed(2)]}),o.jsx("td",{className:"py-3 px-4",children:he?o.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-xs",children:[o.jsx(ir,{className:"w-4 h-4"}),"Critical"]}):Pe?o.jsx("span",{className:"text-orange-600 text-xs",children:"Reorder"}):o.jsx("span",{className:"text-green-600 text-xs",children:"Normal"})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>{k(K),j(!0)},className:"p-1.5 hover:bg-blue-100 rounded text-blue-600",title:"Edit Ingredient",children:o.jsx(ia,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{k(K),h(!0)},className:"p-1.5 hover:bg-accent rounded",title:"Adjust Stock",children:o.jsx(kt,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{k(K),v(!0)},className:"p-1.5 hover:bg-red-100 rounded text-red-600",title:"Delete Ingredient",children:o.jsx($t,{className:"w-4 h-4"})})]})})]},K.id)})})]})}),Q.length===0&&o.jsx("div",{className:"py-12 text-center text-muted-foreground",children:o.jsx("p",{children:"No ingredients found"})})]}),o.jsxs("div",{className:"lg:hidden space-y-3",children:[Q.map(K=>{const he=K.stock<K.minStockLevel,Pe=K.stock<=K.reorderPoint,V=(Number(K.stock)||0)*(Number(K.costPerUnit)||0);return o.jsxs("div",{className:"bg-card rounded-lg border border-border p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-medium",children:K.name}),he?o.jsxs("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs flex items-center gap-1",children:[o.jsx(ir,{className:"w-3 h-3"}),"Critical"]}):Pe?o.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded text-xs",children:"Reorder"}):o.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs",children:"Normal"})]}),o.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:K.code}),o.jsx("p",{className:"text-xs text-muted-foreground",children:K.supplier})]}),o.jsx("span",{className:"px-2 py-1 bg-secondary text-secondary-foreground rounded text-xs",children:K.category})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stock"}),o.jsxs("p",{className:"text-lg font-bold text-primary",children:[K.stock," ",K.unit]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"}),o.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",Number(V||0).toFixed(2)]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{k(K),j(!0)},className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:o.jsx(ia,{className:"w-4 h-4"})}),o.jsxs("button",{onClick:()=>{k(K),h(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground px-3 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm",children:[o.jsx(kt,{className:"w-4 h-4"}),"Adjust Stock"]}),o.jsx("button",{onClick:()=>{k(K),v(!0)},className:"flex items-center justify-center gap-2 bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition-colors",children:o.jsx($t,{className:"w-4 h-4"})})]})]},K.id)}),Q.length===0&&o.jsx("div",{className:"bg-card rounded-lg border border-border p-12 text-center text-muted-foreground",children:o.jsx("p",{children:"No ingredients found"})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:U.filter(K=>K!=="All").map(K=>{const he=r.filter(oe=>oe.category===K),Pe=he.reduce((oe,me)=>oe+(Number(me.stock)||0)*(Number(me.costPerUnit)||0),0),V=he.reduce((oe,me)=>oe+(Number(me.stock)||0),0);return o.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:K}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Items:"}),o.jsx("span",{className:"font-medium",children:he.length})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Stock:"}),o.jsx("span",{className:"font-medium",children:Number(V||0).toFixed(0)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Value:"}),o.jsxs("span",{className:"text-primary font-medium",children:["",Number(Pe||0).toFixed(2)]})]})]})]},K)})})]}),p&&A&&o.jsx(sG,{ingredient:A,onAdjust:R,onClose:()=>{h(!1),k(null)},isAdjusting:q,setIsAdjusting:H}),m&&o.jsx(cA,{onAdd:async K=>{L(!0);try{const he=await KM(K);a([...r,he]),ne.success(`Ingredient "${he.name}" added successfully`),y(!1)}catch(he){console.error("Error adding ingredient:",he),ne.error("Failed to add ingredient")}finally{L(!1)}},onClose:()=>y(!1),isAdding:F,suppliers:Y,ingredients:r}),b&&A&&o.jsx(cA,{ingredient:A,onAdd:async K=>{L(!0);try{const he=await aj(A.id,K);a(r.map(Pe=>Pe.id===A.id?he:Pe)),ne.success(`Ingredient "${he.name}" updated successfully`),j(!1),k(null)}catch(he){console.error("Error updating ingredient:",he),ne.error("Failed to update ingredient")}finally{L(!1)}},onClose:()=>{j(!1),k(null)},isAdding:F,suppliers:Y,ingredients:r}),w&&A&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 text-red-600",children:[o.jsx(ir,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-semibold",children:"Delete Ingredient"})]}),o.jsxs("p",{className:"text-sm mb-6",children:["Are you sure you want to delete"," ",o.jsx("strong",{children:A.name})," (",A.code,")? This action cannot be undone."]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{v(!1),k(null)},disabled:C,className:"flex-1 px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{onClick:X,disabled:C,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[o.jsx($t,{className:"w-4 h-4"}),C?"Deleting...":"Delete"]})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 text-blue-600",children:[o.jsx(ir,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-lg font-semibold",children:"Refresh Ingredients"})]}),o.jsx("p",{className:"text-sm mb-6",children:"This will reload all ingredients from the database to get the latest updates."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:re,disabled:P,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[o.jsx(ej,{className:"w-4 h-4"}),P?"Refreshing...":"Refresh"]})]})]})})]})}function sG({ingredient:e,onAdjust:t,onClose:r,isAdjusting:n,setIsAdjusting:a}){const[s,c]=D.useState(""),[u,f]=D.useState("add"),[p,h]=D.useState(""),m=y=>{y.preventDefault();const b=parseFloat(s);if(!s||b<=0||!p){ne.error("Please enter quantity and reason");return}a(!0),t({quantity:b,type:u,reason:p})};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"font-semibold",children:["Adjust Stock - ",e.name]}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded p-3",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Stock"}),o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[e.stock," ",e.unit]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Type"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f("add"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg border transition-colors ${u==="add"?"bg-green-600 text-white border-green-600":"border-border hover:bg-accent"}`,children:[o.jsx(kt,{className:"w-4 h-4"}),"Add Stock"]}),o.jsxs("button",{type:"button",onClick:()=>f("remove"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg border transition-colors ${u==="remove"?"bg-red-600 text-white border-red-600":"border-border hover:bg-accent"}`,children:[o.jsx(xA,{className:"w-4 h-4"}),"Remove Stock"]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm mb-2",children:["Quantity (",e.unit,")"]}),o.jsx("input",{type:"number",min:"0",step:"0.1",value:s,onChange:y=>c(y.target.value),onFocus:y=>y.target.select(),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reason"}),o.jsx("textarea",{value:p,onChange:y=>h(y.target.value),placeholder:"e.g., Production usage, Spoilage, Restock, etc.",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary min-h-[80px]",required:!0})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:r,disabled:n,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Va,{className:"w-4 h-4"}),n?"Adjusting...":"Apply Adjustment"]})]})]})]})})}function cA({onAdd:e,onClose:t,isAdding:r,suppliers:n,ingredients:a,ingredient:s}){const c=()=>{if(a.length===0)return"ING-001";const G=a.map(Q=>{const Z=Q.code.match(/ING-(\d+)/);return Z?parseInt(Z[1],10):0}).filter(Q=>Q>0),U=(G.length>0?Math.max(...G):0)+1;return`ING-${String(U).padStart(3,"0")}`},u=!!s,[f,p]=D.useState((s==null?void 0:s.name)||""),[h]=D.useState((s==null?void 0:s.code)||c()),[m,y]=D.useState((s==null?void 0:s.category)||""),[b,j]=D.useState((s==null?void 0:s.unit)||""),[w,v]=D.useState(s!=null&&s.costPerUnit?String(s.costPerUnit):""),[O,_]=D.useState(s!=null&&s.minStockLevel?String(s.minStockLevel):""),[A,k]=D.useState(s!=null&&s.reorderPoint?String(s.reorderPoint):""),[P,S]=D.useState((s==null?void 0:s.supplierId)||""),[C,T]=D.useState((s==null?void 0:s.expiryDate)||""),[q,H]=D.useState([]),[F,L]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const te=await SA();H(te)}catch(te){console.error("Error loading ingredient categories:",te),ne.error("Failed to load ingredient categories")}finally{L(!1)}})()},[]);const Y=G=>{G.preventDefault();const te=parseFloat(w),U=parseFloat(O),Q=parseFloat(A);if(!f||!m||!b||!w||te<=0||!O||U<=0||!A||Q<=0||!P){ne.error("Please fill in all required fields");return}const Z={name:f,code:h,category:m,unit:b,costPerUnit:te,minStockLevel:U,reorderPoint:Q,supplierId:P,expiryDate:C||null,stock:0,lastUpdated:new Date().toISOString()};e(Z)};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"font-semibold",children:u?"Edit Ingredient":"Add New Ingredient"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-accent rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Name *"}),o.jsx("input",{type:"text",value:f,onChange:G=>p(G.target.value),placeholder:"Enter ingredient name",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Code (Auto-generated)"}),o.jsx("input",{type:"text",value:h,readOnly:!0,className:"w-full px-3 py-2 bg-muted border border-border rounded-lg text-muted-foreground cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Category *"}),o.jsxs("select",{value:m,onChange:G=>y(G.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,disabled:F,children:[!m&&o.jsx("option",{value:"",children:F?"Loading categories...":"Select Category"}),q.map(G=>o.jsx("option",{value:G.name,children:G.name},G.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Unit *"}),o.jsx("input",{type:"text",value:b,onChange:G=>j(G.target.value),placeholder:"kg, L, pcs",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Cost per Unit () *"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:w,onChange:G=>v(G.target.value),onFocus:G=>G.target.select(),placeholder:"0.00",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Min Stock Level *"}),o.jsx("input",{type:"number",min:"0",step:"0.1",value:O,onChange:G=>_(G.target.value),onFocus:G=>G.target.select(),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reorder Point *"}),o.jsx("input",{type:"number",min:"0",step:"0.1",value:A,onChange:G=>k(G.target.value),onFocus:G=>G.target.select(),placeholder:"0",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Supplier *"}),o.jsxs("select",{value:P?String(P):"",onChange:G=>S(G.target.value?Number(G.target.value):""),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[!P&&o.jsx("option",{value:"",children:"Select Supplier"}),n.map(G=>o.jsx("option",{value:String(G.id),children:G.name},G.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Expiry Date (Optional)"}),o.jsx("input",{type:"date",value:C,onChange:G=>T(G.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:t,disabled:r,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors disabled:opacity-50",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:r,className:"flex-1 flex items-center justify-center gap-2 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:[o.jsx(Va,{className:"w-4 h-4"}),r?u?"Updating...":"Adding...":u?"Update Ingredient":"Add Ingredient"]})]})]})]})})}function lG(){const[e,t]=D.useState([]),[r,n]=D.useState([]),[a,s]=D.useState([]),[c,u]=D.useState([]),[f,p]=D.useState([]),[h,m]=D.useState(!0),[y,b]=D.useState(!1),[j,w]=D.useState(!1),[v,O]=D.useState(null),[_,A]=D.useState(1),[k,P]=D.useState({quantityReceived:"",discrepancyReason:"",receivedBy:""}),[S,C]=D.useState({productId:"",quantity:"",from:"",to:"",requestedBy:""});D.useEffect(()=>{T()},[]);const T=async()=>{try{m(!0);const[E,R,X,re,le]=await Promise.all([_A(),Nn(),Ii(),kA(),ic()]),K=E.sort((oe,me)=>new Date(me.createdAt).getTime()-new Date(oe.createdAt).getTime());n(R.filter(oe=>oe.status==="active"));const he=K.map(oe=>{const me=X.find(ce=>String(ce.id)===String(oe.productId));return{...oe,productName:oe.productName||(me==null?void 0:me.name)||"",sku:oe.sku||(me==null?void 0:me.sku)||"",unit:oe.unit||(me==null?void 0:me.unit)||"kg",quantity:oe.quantity||0,quantityReceived:oe.quantityReceived!==void 0?oe.quantityReceived:null,discrepancy:oe.discrepancy!==void 0?oe.discrepancy:null,transferredBy:oe.transferredBy||"-",receivedBy:oe.receivedBy||null,status:oe.status||"in-transit",date:oe.date||"",time:oe.time||""}});t(he);const Pe=X.map(oe=>{const ce=le.filter(_e=>String(_e.productId)===String(oe.id)).reduce((_e,Ie)=>_e+(Number(Ie.quantity)||0),0);return{...oe,stock:ce}}),V=oe=>X.map(me=>{const ce=le.find(_e=>String(_e.productId)===String(me.id)&&_e.location===oe);return{...me,stock:ce&&Number(ce.quantity)||0}});if(s(Pe),u(le),p(re),console.log("Enriched transfers:",he),console.log("Products with stock loaded:",Pe),console.log("Inventory data:",le),R.length>0){const oe=R.find(ce=>ce.name==="Main Store"),me=R.find(ce=>ce.name!=="Main Store");C(ce=>{var _e;return{...ce,from:(oe==null?void 0:oe.name)||R[0].name,to:(me==null?void 0:me.name)||((_e=R[1])==null?void 0:_e.name)||""}})}}catch(E){console.error("Error loading data:",E),ne.error("Failed to load data")}finally{m(!1)}},q=async()=>{if(!S.productId||!S.quantity||!S.requestedBy){ne.error("Please fill in all fields");return}if(S.from===S.to){ne.error("Source and destination must be different");return}const E=a.find(X=>String(X.id)===String(S.productId));if(!E){ne.error("Product not found");return}const R={productId:Number(S.productId),quantity:parseFloat(S.quantity),from:S.from,to:S.to,transferredBy:S.requestedBy};try{const X=await AA(R);console.log("Created transfer response:",X);const re={...X,quantity:X.quantity||parseFloat(S.quantity),from:X.from||S.from,to:X.to||S.to,productName:X.productName||E.name,sku:X.sku||E.sku||"",unit:X.unit||E.unit||"kg",quantityReceived:X.quantityReceived||null,discrepancy:X.discrepancy||null,transferredBy:X.transferredBy||S.requestedBy||"-",receivedBy:X.receivedBy||null,status:X.status||"in-transit",date:X.date||new Date().toISOString().split("T")[0],time:X.time||new Date().toLocaleTimeString("en-US",{hour12:!1})};t([re,...e]),A(1),C({productId:"",quantity:"",from:"",to:"",requestedBy:""}),b(!1),ne.success("Transfer created successfully")}catch(X){console.error("Transfer error:",X),ne.error("Failed to create transfer")}},H=async()=>{if(v){if(!k.quantityReceived||!k.receivedBy){ne.error("Please fill in all required fields");return}try{const E=await ZM(v.id,parseFloat(k.quantityReceived),k.discrepancyReason||void 0,k.receivedBy),R=a.find(K=>String(K.id)===String(v.productId)),X={...E,productName:E.productName||(R==null?void 0:R.name)||"",sku:E.sku||(R==null?void 0:R.sku)||"",unit:E.unit||(R==null?void 0:R.unit)||"kg"};t(e.map(K=>K.id===v.id?X:K));const re=E.discrepancy,le=X.unit||"kg";re&&re>0?ne.warning(`Transfer received with ${re} ${le} discrepancy (${k.discrepancyReason||"not specified"})`):ne.success("Transfer received successfully"),w(!1),O(null),P({quantityReceived:"",discrepancyReason:"",receivedBy:""})}catch(E){console.error("Receive error:",E),ne.error("Failed to receive transfer")}}},F=E=>{switch((E==null?void 0:E.toLowerCase())||""){case"completed":return o.jsx(No,{className:"w-5 h-5 text-green-600"});case"in-transit":return o.jsx(fl,{className:"w-5 h-5 text-blue-600"});case"cancelled":return o.jsx(Fu,{className:"w-5 h-5 text-red-600"});case"rejected":return o.jsx(Fu,{className:"w-5 h-5 text-orange-600"});default:return o.jsx(fl,{className:"w-5 h-5 text-blue-600"})}},L=E=>{switch((E==null?void 0:E.toLowerCase())||""){case"completed":return"bg-green-100 text-green-700";case"in-transit":return"bg-blue-100 text-blue-700";case"cancelled":return"bg-red-100 text-red-700";case"rejected":return"bg-orange-100 text-orange-700";default:return"bg-blue-100 text-blue-700"}},Y=e.filter(E=>E.status==="in-transit").length,G=new Date().toISOString().split("T")[0],te=e.filter(E=>E.status==="completed"&&E.date===G).length,U=5,Q=Math.ceil(e.length/U),Z=(_-1)*U,B=Z+U,$=e.slice(Z,B);return o.jsx("div",{className:"h-full overflow-auto bg-muted/30",children:o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(dl,{className:"w-6 h-6 text-primary"})})}),o.jsx("p",{className:"text-3xl text-primary mb-1",children:e.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transfers"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:o.jsx(Cr,{className:"w-6 h-6 text-blue-600"})})}),o.jsx("p",{className:"text-3xl text-blue-600 mb-1",children:Y}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:o.jsx(No,{className:"w-6 h-6 text-green-600"})})}),o.jsx("p",{className:"text-3xl text-green-600 mb-1",children:te}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Today"})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(dl,{className:"w-6 h-6 text-primary"}),o.jsx("h2",{children:"Transfer Management"})]}),o.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-5 h-5"}),"New Transfer"]})]}),y&&o.jsxs("div",{className:"p-6 bg-secondary/50 border-b border-border",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Product"}),o.jsxs("select",{value:S.productId,onChange:E=>C({...S,productId:E.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"Select Product"}),a&&a.length>0?a.map(E=>{let R=E.stock||0;if(S.from){const re=c.find(le=>String(le.productId)===String(E.id)&&le.location===S.from);R=re&&Number(re.quantity)||0}const X=E.unit||"units";return o.jsxs("option",{value:E.id,children:[E.name," - Stock: ",R," ",X]},E.id)}):o.jsx("option",{disabled:!0,children:"No products available"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Quantity"}),o.jsx("input",{type:"number",step:"0.1",value:S.quantity,onChange:E=>C({...S,quantity:E.target.value}),placeholder:"0.0",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"From"}),o.jsxs("select",{value:S.from,onChange:E=>C({...S,from:E.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"Production Facility",children:"Production Facility"}),r.map(E=>o.jsx("option",{value:E.name,children:E.name},E.name))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"To"}),o.jsxs("select",{value:S.to,onChange:E=>C({...S,to:E.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"Production Facility",children:"Production Facility"}),r.map(E=>o.jsx("option",{value:E.name,children:E.name},E.name))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Transferred By"}),o.jsxs("select",{value:S.requestedBy,onChange:E=>C({...S,requestedBy:E.target.value}),className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"Select a user"}),f.map(E=>o.jsx("option",{value:E.fullName||E.username,children:E.fullName||E.username},E.id))]})]})]}),o.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:q,className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-4 h-4"}),"Create Transfer"]})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border",children:[o.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),o.jsx("th",{className:"text-left py-3 px-4",children:"SKU"}),o.jsx("th",{className:"text-right py-3 px-4",children:"Qty Sent"}),o.jsx("th",{className:"text-right py-3 px-4",children:"Qty Received"}),o.jsx("th",{className:"text-right py-3 px-4",children:"Discrepancy"}),o.jsx("th",{className:"text-left py-3 px-4",children:"From"}),o.jsx("th",{className:"text-center py-3 px-4"}),o.jsx("th",{className:"text-left py-3 px-4",children:"To"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Date & Time"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Transferred By"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Received By"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),o.jsx("tbody",{children:$.map(E=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4",children:E.productName}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:E.sku}),o.jsxs("td",{className:"py-3 px-4 text-right text-primary",children:[E.quantity," ",E.unit]}),o.jsx("td",{className:"py-3 px-4 text-right",children:E.quantityReceived!==void 0&&E.quantityReceived!==null?o.jsxs("span",{className:"text-green-600 font-medium",children:[E.quantityReceived," ",E.unit]}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),o.jsx("td",{className:"py-3 px-4 text-right",children:E.discrepancy!==void 0&&E.discrepancy!==null&&E.discrepancy!==0?o.jsxs("span",{className:"text-orange-600 font-medium",children:[E.discrepancy>0?"-":"+",Math.abs(E.discrepancy)," ",E.unit]}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:E.from})}),o.jsx("td",{className:"py-3 px-4 text-center",children:o.jsx(dl,{className:"w-4 h-4 text-muted-foreground mx-auto"})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm",children:E.to})}),o.jsxs("td",{className:"py-3 px-4 text-sm",children:[E.date," ",E.time]}),o.jsx("td",{className:"py-3 px-4",children:E.transferredBy}),o.jsx("td",{className:"py-3 px-4",children:E.receivedBy||"-"}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[E.status&&F(E.status),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${E.status?L(E.status):"bg-gray-100 text-gray-700"}`,children:E.status?E.status.charAt(0).toUpperCase()+E.status.slice(1):"Unknown"})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("div",{className:"flex items-center gap-2",children:E.status==="in-transit"?o.jsx("button",{onClick:()=>{O(E),P({quantityReceived:String(E.quantity||0),discrepancyReason:"",receivedBy:""}),w(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Receive"}):null})})]},E.id))})]})}),Q>1&&o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",_," of ",Q,"  Showing"," ",$.length," of ",e.length," transfers"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>A(Math.max(1,_-1)),disabled:_===1,className:"px-3 py-2 border border-border rounded text-sm hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("div",{className:"flex gap-1",children:Array.from({length:Q}).map((E,R)=>o.jsx("button",{onClick:()=>A(R+1),className:`px-3 py-2 rounded text-sm ${_===R+1?"bg-primary text-primary-foreground":"border border-border hover:bg-muted"}`,children:R+1},R+1))}),o.jsx("button",{onClick:()=>A(Math.min(Q,_+1)),disabled:_===Q,className:"px-3 py-2 border border-border rounded text-sm hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("h3",{className:"mb-4",children:"Recent Transfers to Stores"}),o.jsx("div",{className:"space-y-3",children:e.filter(E=>E.to!=="Production Facility").slice(0,3).map(E=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:E.productName}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.from,"  ",E.to]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-primary",children:[E.quantity," ",E.unit]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:E.time})]})]},E.id))})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("h3",{className:"mb-4",children:"Transfer Summary"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(No,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{children:"Completed"})]}),o.jsx("span",{className:"text-xl text-green-600",children:e.filter(E=>E.status==="completed").length})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fl,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{children:"In Transit"})]}),o.jsx("span",{className:"text-xl text-blue-600",children:Y})]})]})]})]}),j&&v&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-4 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Receive Transfer - ",v.productName]}),o.jsx("button",{onClick:()=>{w(!1),P({quantityReceived:String(v.quantity||0),discrepancyReason:"",receivedBy:""})},className:"text-gray-400 hover:text-gray-600",children:""})]}),o.jsxs("form",{onSubmit:E=>{E.preventDefault(),H()},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Quantity Sent"}),o.jsx("input",{type:"text",value:`${v.quantity||0} ${v.unit||"kg"}`,disabled:!0,className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-600"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Quantity sent from ",v.from]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity Received *"}),o.jsx("input",{type:"number",step:"0.01",value:k.quantityReceived,onChange:E=>P({...k,quantityReceived:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),parseFloat(k.quantityReceived)!==v.quantity&&o.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Discrepancy:"," ",(v.quantity-parseFloat(k.quantityReceived)).toFixed(2)," ","unit(s)"]})]}),k.quantityReceived<v.quantity&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Discrepancy"}),o.jsxs("select",{value:k.discrepancyReason,onChange:E=>P({...k,discrepancyReason:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a reason"}),o.jsx("option",{value:"damaged",children:"Damaged"}),o.jsx("option",{value:"evaporation",children:"Evaporation/Weight Loss"}),o.jsx("option",{value:"measurement-error",children:"Measurement Error"}),o.jsx("option",{value:"theft",children:"Missing/Stolen"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By (Name) *"}),o.jsxs("select",{value:k.receivedBy,onChange:E=>P({...k,receivedBy:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Select a user"}),f.map(E=>o.jsx("option",{value:E.fullName||E.username,children:E.fullName||E.username},E.id))]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{w(!1),P({quantityReceived:v.quantity,discrepancyReason:"",receivedBy:""})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition",children:"Confirm Receipt"})]})]})]})})]})})}const cG=[{username:"admin",password:"admin123",role:"ADMIN"},{username:"mark_sioson",password:"123456",role:"POS"}];function uG({onLogin:e}){const[t,r]=D.useState(""),[n,a]=D.useState(""),[s,c]=D.useState(""),[u,f]=D.useState(!1),[p,h]=D.useState(!1),y=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),b=async w=>{w.preventDefault(),c(""),f(!0);try{const v=await rj(t,n);e({id:v.id,username:v.username,role:v.role,fullName:v.fullName,employeeRole:v.employeeRole,permissions:v.permissions,storeId:v.storeId,storeName:v.storeName})}catch(v){console.error("Login error:",v),c(v.message||"Login failed. Please check your credentials.")}finally{f(!1)}},j=async w=>{const v=cG.find(O=>O.role===w);if(v){f(!0),c("");try{const O=await rj(v.username,v.password);e({id:O.id,username:O.username,role:O.role,fullName:O.fullName,employeeRole:O.employeeRole,permissions:O.permissions,storeId:O.storeId,storeName:O.storeName})}catch(O){console.error("Quick login error:",O),c(O.message||"Quick login failed"),f(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-primary/5 p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl mb-4",children:o.jsx(jo,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("h1",{className:"text-3xl md:text-4xl mb-2",children:"LZT Meat Products"}),o.jsx("p",{className:"text-muted-foreground",children:"Sign in to access your dashboard"})]}),o.jsxs("div",{className:"bg-card rounded-2xl border border-border p-6 md:p-8 shadow-lg",children:[o.jsx("h2",{className:"text-xl mb-6",children:"Sign In"}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(Pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",value:t,onChange:w=>r(w.target.value),placeholder:"Enter username",className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(yA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"password",value:n,onChange:w=>a(w.target.value),placeholder:"Enter password",className:"w-full pl-10 pr-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]})]}),s&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:s}),o.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Signing in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(tM,{className:"w-5 h-5"}),"Sign In"]})})]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>h(!p),className:"w-full mt-4 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[p?"Hide":"Show"," demo credentials"]}),p&&o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Demo Credentials:"}),o.jsx("div",{className:"p-4 bg-muted/50 rounded-lg text-xs space-y-2",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{children:["Admin:"," ",o.jsx("code",{className:"bg-background px-2 py-1 rounded",children:"admin / admin123"})]}),o.jsxs("p",{children:["Store:"," ",o.jsx("code",{className:"bg-background px-2 py-1 rounded",children:"store_manager / store123"})]}),o.jsxs("p",{children:["Production:"," ",o.jsx("code",{className:"bg-background px-2 py-1 rounded",children:"production / prod123"})]}),o.jsxs("p",{children:["POS:"," ",o.jsx("code",{className:"bg-background px-2 py-1 rounded",children:"mark_sioson / 123456"})]})]})}),o.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2 pt-2",children:"Quick Login:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>j("ADMIN"),disabled:u,className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Login as Admin"}),o.jsx("button",{type:"button",onClick:()=>j("POS"),disabled:u,className:"px-3 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg text-xs font-medium transition-colors disabled:opacity-50",children:"Login as POS"})]})]})]})]})]})})}const uA=["#ef4444","#f87171","#fca5a5","#fb923c","#fbbf24","#a3e635"];function dG({userRole:e,userName:t,onNavigate:r}){const[n,a]=D.useState("today"),[s,c]=D.useState(!0),[u,f]=D.useState({totalRevenue:0,totalOrders:0,totalProduction:0,lowStockCount:0,totalInventoryValue:0,avgOrderValue:0,pendingTransfers:0,completedTransfersToday:0,categoriesCount:0,productsCount:0,totalInventoryKG:0,revenueGrowth:12.5,ordersGrowth:8.2,productionGrowth:5.7}),[p,h]=D.useState({salesByDay:[],productionByDay:[],categoryDistribution:[],topProducts:[],inventoryByLocation:[],revenueVsProduction:[]}),[m,y]=D.useState([]),[b,j]=D.useState([]),[w,v]=D.useState([]),[O,_]=D.useState([]),[A,k]=D.useState([]);D.useEffect(()=>{C()},[n]);const P=()=>{const B=new Date;let $=new Date;return n==="today"?$.setHours(0,0,0,0):n==="week"?$.setDate(B.getDate()-7):n==="month"&&$.setDate(B.getDate()-30),$},S=(B,$="timestamp")=>{const E=P();return B.filter(R=>new Date(R[$]||R.date||R.createdAt)>=E)},C=async()=>{try{c(!0);const[B,$,E,R,X,re]=await Promise.all([Ii(),ic(),PA(),OA(),_A(),is()]),le=S(E,"timestamp"),K=S(R,"timestamp"),he=S(X,"createdAt"),Pe=le.reduce((je,Fe)=>je+(Number(Fe.total)||0),0),V=le.length,oe=K.reduce((je,Fe)=>je+Fe.quantity,0),me=V>0?Pe/V:0,ce=$.reduce((je,Fe)=>je+Fe.quantity,0),_e=$.reduce((je,Fe)=>{const Ve=B.find(pt=>pt.id===Fe.productId);return je+(Ve?Fe.quantity*Ve.price:0)},0),Ie=100,Je=new Map;$.forEach(je=>{Je.has(je.productId)||Je.set(je.productId,{}),Je.get(je.productId)[je.location]=je.quantity});let tt=0;Je.forEach(je=>{Object.entries(je).some(([Ve,pt])=>Ve==="Production"||Ve==="Production Facility"?!1:pt<=Ie)&&tt++});const ae=new Map;$.forEach(je=>{const Fe=ae.get(je.productId)||0;ae.set(je.productId,Fe+je.quantity)});const we=he.filter(je=>je.status==="in-transit").length,z=new Date().toISOString().split("T")[0],fe=he.filter(je=>je.status==="completed"&&new Date(je.updatedAt||je.createdAt).toISOString().split("T")[0]===z).length;f({totalRevenue:Pe,totalOrders:V,totalProduction:oe,lowStockCount:tt,totalInventoryValue:_e,avgOrderValue:me,pendingTransfers:we,completedTransfersToday:fe,categoriesCount:re.length,productsCount:B.length,totalInventoryKG:ce,revenueGrowth:12.5,ordersGrowth:8.2,productionGrowth:5.7}),h({salesByDay:T(le,n),productionByDay:q(K,n),categoryDistribution:H(B,le),topProducts:F(B,le),inventoryByLocation:L($),revenueVsProduction:Y(le,K)}),y(G($,he,B,ae)),j(te(le,K,he,$)),v(Z(B,ae)),_(he.slice(-5).reverse());const ve=[...le].sort((je,Fe)=>{const Ve=new Date(je.timestamp||je.date).getTime();return new Date(Fe.timestamp||Fe.date).getTime()-Ve});k(ve.slice(0,10))}catch(B){console.error("Error loading dashboard data:",B),ne.error("Failed to load dashboard data")}finally{c(!1)}},T=(B,$)=>{const E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let R=7;$==="today"?R=1:$==="week"?R=7:$==="month"&&(R=30);const X=Array.from({length:R},(re,le)=>{const K=new Date;return K.setDate(K.getDate()-(R-1-le)),{name:R===1?"Today":R===7?E[K.getDay()]:K.toLocaleDateString("en-US",{month:"short",day:"numeric"}),date:K.toISOString().split("T")[0],sales:0,orders:0,revenue:0}});return B.forEach(re=>{const le=new Date(re.timestamp||re.date).toISOString().split("T")[0],K=X.find(he=>he.date===le);K&&(K.revenue+=re.total,K.orders+=1)}),X.map(({name:re,revenue:le,orders:K})=>({name:re,revenue:le,orders:K}))},q=(B,$)=>{const E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let R=7;$==="today"?R=1:$==="week"?R=7:$==="month"&&(R=30);const X=Array.from({length:R},(re,le)=>{const K=new Date;return K.setDate(K.getDate()-(R-1-le)),{name:R===1?"Today":R===7?E[K.getDay()]:K.toLocaleDateString("en-US",{month:"short",day:"numeric"}),date:K.toISOString().split("T")[0],produced:0}});return B.forEach(re=>{const le=new Date(re.timestamp).toISOString().split("T")[0],K=X.find(he=>he.date===le);K&&(K.produced+=re.quantity)}),X},H=(B,$)=>{const E=new Map;return $.forEach(R=>{R.items&&Array.isArray(R.items)&&R.items.forEach(X=>{const re=B.find(le=>le.id===X.productId);if(re){const le=E.get(re.category)||0;E.set(re.category,le+X.quantity*X.price)}})}),Array.from(E.entries()).map(([R,X],re)=>({name:R,value:Math.round(X),color:uA[re%uA.length]}))},F=(B,$)=>{const E=new Map;return $.forEach(X=>{X.items&&Array.isArray(X.items)&&X.items.forEach(re=>{const le=E.get(re.productId)||{sold:0,revenue:0};E.set(re.productId,{sold:le.sold+re.quantity,revenue:le.revenue+re.quantity*re.price})})}),Array.from(E.entries()).map(([X,re])=>{const le=B.find(K=>K.id===X);return le?{name:le.name,sold:re.sold,revenue:re.revenue}:null}).filter(Boolean).sort((X,re)=>((re==null?void 0:re.revenue)||0)-((X==null?void 0:X.revenue)||0)).slice(0,5)},L=B=>{const $=new Map;return B.forEach(E=>{const R=$.get(E.location)||0;$.set(E.location,R+E.quantity)}),Array.from($.entries()).map(([E,R])=>({name:E,stock:R}))},Y=(B,$)=>{const E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R=Array.from({length:7},(X,re)=>{const le=new Date;return le.setDate(le.getDate()-(6-re)),{name:E[le.getDay()],date:le.toISOString().split("T")[0],revenue:0,production:0}});return B.forEach(X=>{const re=new Date(X.timestamp||X.date).toISOString().split("T")[0],le=R.find(K=>K.date===re);le&&(le.revenue+=X.total)}),$.forEach(X=>{const re=new Date(X.timestamp).toISOString().split("T")[0],le=R.find(K=>K.date===re);le&&(le.production+=X.quantity*10)}),R},G=(B,$,E,R)=>{const X=[];R.forEach((le,K)=>{if(le<20){const he=E.find(Pe=>Pe.id===K);he&&X.push({id:`critical-${K}`,type:"critical",title:"Critical Stock Level",message:`${he.name} has only ${le} KG remaining`,time:"Now",action:"Reorder Now"})}else if(le<50){const he=E.find(Pe=>Pe.id===K);he&&X.push({id:`warning-${K}`,type:"warning",title:"Low Stock Warning",message:`${he.name} stock is running low (${le} KG)`,time:"5 min ago"})}});const re=$.filter(le=>le.status==="in-transit");return re.length>0&&X.push({id:"pending-transfers",type:"info",title:"In Transit Transfers",message:`${re.length} transfer(s) awaiting receipt`,time:"10 min ago",action:"Review"}),X.slice(0,5)},te=(B,$,E,R)=>{const X=[];return B.slice(-3).reverse().forEach(re=>{X.push({type:"sale",message:`New sale: ${re.total.toLocaleString()}`,detail:`${re.items.length} items sold`,time:U(new Date(re.timestamp||re.date)),icon:xn,color:"text-green-600",bgColor:"bg-green-50",timestamp:new Date(re.timestamp||re.date).getTime()})}),$.slice(-2).reverse().forEach(re=>{X.push({type:"production",message:"Production completed",detail:`${re.quantity} KG ${re.productName}`,time:U(new Date(re.timestamp)),icon:Cn,color:"text-blue-600",bgColor:"bg-blue-50",timestamp:new Date(re.timestamp).getTime()})}),E.filter(re=>re.status==="completed").slice(-2).reverse().forEach(re=>{X.push({type:"transfer",message:"Transfer completed",detail:`${re.quantity} KG ${re.productName} to ${re.to}`,time:U(new Date(re.updatedAt||re.createdAt)),icon:ho,color:"text-purple-600",bgColor:"bg-purple-50",timestamp:new Date(re.updatedAt||re.createdAt).getTime()})}),X.sort((re,le)=>le.timestamp-re.timestamp).slice(0,8)},U=B=>{const $=Math.floor((new Date().getTime()-B.getTime())/1e3);return $<60?"Just now":$<3600?`${Math.floor($/60)}m ago`:$<86400?`${Math.floor($/3600)}h ago`:`${Math.floor($/86400)}d ago`},Q=()=>{const B=new Date().getHours();return B<12?"Good Morning":B<18?"Good Afternoon":"Good Evening"},Z=(B,$)=>{const E=[];return $.forEach((R,X)=>{const re=B.find(le=>le.id===X);re&&(R<20?E.push({name:re.name,quantity:R,status:"critical"}):R<50&&E.push({name:re.name,quantity:R,status:"warning"}))}),E};return s?o.jsx("div",{className:"h-full flex items-center justify-center bg-muted/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gt,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading dashboard..."})]})}):o.jsx("div",{className:"h-full overflow-auto bg-muted/30",children:o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl lg:text-3xl mb-1",children:[Q(),", ",t,"! "]}),o.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Here's what's happening with your inventory system today"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-card border border-border text-foreground px-4 py-2 rounded-lg hover:bg-muted transition-colors text-sm",children:[o.jsx(Gt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),o.jsx("div",{className:"flex items-center gap-2 bg-card border border-border rounded-lg overflow-hidden",children:["today","week","month"].map(B=>o.jsx("button",{onClick:()=>a(B),className:`px-3 py-2 text-sm transition-colors ${n===B?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:B.charAt(0).toUpperCase()+B.slice(1)},B))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Ru,{title:"Total Revenue",value:`${(Math.round((Number(u.totalRevenue)||0)*100)/100).toFixed(2)}`,change:`+${u.revenueGrowth}%`,trend:"up",icon:So,bgColor:"bg-green-50",iconColor:"text-green-600"}),o.jsx(Ru,{title:"Total Orders",value:u.totalOrders.toString(),change:`+${u.ordersGrowth}%`,trend:"up",icon:xn,bgColor:"bg-blue-50",iconColor:"text-blue-600"}),o.jsx(Ru,{title:"Production Output",value:`${u.totalProduction} KG`,change:`+${u.productionGrowth}%`,trend:"up",icon:Cn,bgColor:"bg-purple-50",iconColor:"text-purple-600"}),o.jsx(Ru,{title:"Low Stock Items",value:u.lowStockCount.toString(),change:u.lowStockCount>5?"High":"Normal",trend:u.lowStockCount>5?"up":"down",icon:ir,bgColor:"bg-orange-50",iconColor:"text-orange-600"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Inventory Value"}),o.jsx(Cr,{className:"w-4 h-4 text-primary"})]}),o.jsxs("p",{className:"text-2xl font-semibold",children:["",u.totalInventoryValue.toLocaleString()]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u.totalInventoryKG," KG total"]})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Order Value"}),o.jsx(Mn,{className:"w-4 h-4 text-primary"})]}),o.jsxs("p",{className:"text-2xl font-semibold",children:["",u.avgOrderValue.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per transaction"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"In Transit Transfers"}),o.jsx(ho,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-2xl font-semibold",children:u.pendingTransfers}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u.completedTransfersToday," completed today"]})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Product Catalog"}),o.jsx(vi,{className:"w-4 h-4 text-primary"})]}),o.jsx("p",{className:"text-2xl font-semibold",children:u.productsCount}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u.categoriesCount," categories"]})]})]}),m.length>0&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(S4,{className:"w-5 h-5 text-primary"}),"Active Alerts"]}),o.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:[m.filter(B=>B.type==="critical").length," Critical"]})]}),o.jsx("div",{className:"space-y-3",children:m.map(B=>o.jsx("div",{className:`p-4 rounded-lg border-l-4 ${B.type==="critical"?"bg-red-50 border-red-500":B.type==="warning"?"bg-orange-50 border-orange-500":"bg-blue-50 border-blue-500"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[B.type==="critical"?o.jsx(Fu,{className:"w-4 h-4 text-red-600"}):B.type==="warning"?o.jsx(_v,{className:"w-4 h-4 text-orange-600"}):o.jsx(ir,{className:"w-4 h-4 text-blue-600"}),o.jsx("h4",{className:"text-sm font-semibold",children:B.title})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:B.message})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:B.time}),B.action&&o.jsx("button",{className:"text-xs bg-primary text-primary-foreground px-3 py-1 rounded hover:bg-primary/90",children:B.action})]})]})},B.id))})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Mn,{className:"w-5 h-5 text-primary"}),"Sales & Orders Trend"]}),o.jsx(bi,{width:"100%",height:300,children:o.jsxs(ZV,{data:p.salesByDay,children:[o.jsx(ko,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Rn,{dataKey:"name",stroke:"#6b7280"}),o.jsx(bn,{yAxisId:"left",stroke:"#6b7280"}),o.jsx(bn,{yAxisId:"right",orientation:"right",stroke:"#6b7280"}),o.jsx(fr,{}),o.jsx(Oi,{}),o.jsx(on,{yAxisId:"left",dataKey:"orders",fill:"#3b82f6",name:"Orders"}),o.jsx(mc,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#ef4444",strokeWidth:2,name:"Revenue ()"})]})})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(k4,{className:"w-5 h-5 text-primary"}),"Sales by Category"]}),o.jsx(bi,{width:"100%",height:300,children:o.jsxs(oT,{children:[o.jsx(Bn,{data:p.categoryDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:$})=>`${B}: ${$.toLocaleString()}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:p.categoryDistribution.map((B,$)=>o.jsx(us,{fill:B.color},`cell-${$}`))}),o.jsx(fr,{})]})})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Cn,{className:"w-5 h-5 text-primary"}),"Production Output"]}),o.jsx(bi,{width:"100%",height:300,children:o.jsxs(JV,{data:p.productionByDay,children:[o.jsx(ko,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Rn,{dataKey:"name",stroke:"#6b7280"}),o.jsx(bn,{stroke:"#6b7280"}),o.jsx(fr,{}),o.jsx(pa,{type:"monotone",dataKey:"produced",stroke:"#8b5cf6",fill:"#c4b5fd",name:"Produced (KG)"})]})})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(go,{className:"w-5 h-5 text-primary"}),"Inventory by Location"]}),o.jsx(bi,{width:"100%",height:300,children:o.jsxs(o0,{data:p.inventoryByLocation,layout:"vertical",children:[o.jsx(ko,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(Rn,{type:"number",stroke:"#6b7280"}),o.jsx(bn,{dataKey:"name",type:"category",stroke:"#6b7280"}),o.jsx(fr,{}),o.jsx(on,{dataKey:"stock",fill:"#10b981",name:"Stock (KG)"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(Jn,{className:"w-5 h-5 text-primary"}),"Top Performing Products"]}),o.jsx("div",{className:"space-y-3",children:p.topProducts.map((B,$)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center font-semibold text-sm",children:$+1}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:B==null?void 0:B.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[B==null?void 0:B.sold," KG sold"]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"font-semibold text-sm text-green-600",children:["",B==null?void 0:B.revenue.toLocaleString()]})})]},$))})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(p4,{className:"w-5 h-5 text-primary"}),"Recent Activity"]}),o.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:b.map((B,$)=>{const E=B.icon;return o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:`p-2 rounded-lg ${B.bgColor}`,children:o.jsx(E,{className:`w-4 h-4 ${B.color}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium",children:B.message}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:B.detail})]}),o.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:B.time})]},$)})})]})]}),e==="ADMIN"&&o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("button",{onClick:()=>r==null?void 0:r("pos"),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-border hover:bg-primary hover:text-primary-foreground transition-colors group",children:[o.jsx(kt,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm font-medium",children:"New Sale"})]}),o.jsxs("button",{onClick:()=>r==null?void 0:r("production"),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-border hover:bg-primary hover:text-primary-foreground transition-colors group",children:[o.jsx(Cn,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm font-medium",children:"Record Production"})]}),o.jsxs("button",{onClick:()=>r==null?void 0:r("transfer"),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-border hover:bg-primary hover:text-primary-foreground transition-colors group",children:[o.jsx(ho,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm font-medium",children:"Create Transfer"})]}),o.jsxs("button",{onClick:()=>r==null?void 0:r("inventory"),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-border hover:bg-primary hover:text-primary-foreground transition-colors group",children:[o.jsx(gA,{className:"w-6 h-6"}),o.jsx("span",{className:"text-sm font-medium",children:"View Inventory"})]})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(ho,{className:"w-5 h-5 text-primary"}),"Recent Transfer History"]}),o.jsxs("button",{onClick:()=>r==null?void 0:r("transfer"),className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View All",o.jsx(Ov,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50 border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Transfer ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Product"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"From"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"To"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Quantity"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Date"})]})}),o.jsx("tbody",{children:O.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"py-12 text-center text-muted-foreground",children:[o.jsx(ho,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No transfer records found"})]})}):O.map(B=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsxs("td",{className:"py-3 px-4 text-sm font-mono text-muted-foreground",children:["#",String(B.id).padStart(4,"0")]}),o.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:B.productName}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(go,{className:"w-4 h-4 text-muted-foreground"}),B.from]})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(go,{className:"w-4 h-4 text-muted-foreground"}),B.to]})}),o.jsxs("td",{className:"py-3 px-4 text-sm font-medium",children:[B.quantity," KG"]}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.status==="completed"?"bg-green-100 text-green-700":B.status==="pending"?"bg-yellow-100 text-yellow-700":B.status==="in-transit"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1).replace("-"," ")})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:new Date(B.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]},B.id))})]})})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(xn,{className:"w-5 h-5 text-primary"}),"Recent Sales"]}),o.jsxs("button",{onClick:()=>r==null?void 0:r("sales"),className:"text-sm text-primary hover:underline flex items-center gap-1",children:["View All",o.jsx(Ov,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50 border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Transaction ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Date & Time"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Store Location"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Items"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Payment Method"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium",children:"Total Amount"})]})}),o.jsx("tbody",{children:A.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:[o.jsx(xn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No sales records found"})]})}):A.map(B=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4 text-sm font-mono text-muted-foreground",children:B.transactionId}),o.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(B.timestamp||B.date).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(go,{className:"w-4 h-4 text-muted-foreground"}),B.location||"Main Store"]})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"font-medium",children:[B.items&&Array.isArray(B.items)?B.items.length:0," ","items"]}),o.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:B.items&&Array.isArray(B.items)?B.items.map($=>$.name).join(", "):"N/A"})]})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${B.paymentMethod==="Cash"?"bg-green-100 text-green-700":B.paymentMethod==="Card"?"bg-blue-100 text-blue-700":B.paymentMethod==="GCash"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:B.paymentMethod})}),o.jsxs("td",{className:"py-3 px-4 text-sm font-semibold text-green-600",children:["",B.total.toLocaleString()]})]},B.id||B.transactionId))})]})})]})]})})}function Ru({title:e,value:t,change:r,trend:n,icon:a,bgColor:s,iconColor:c}){return o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:e}),o.jsx("div",{className:`p-3 rounded-lg ${s}`,children:o.jsx(a,{className:`w-5 h-5 ${c}`})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-2xl lg:text-3xl font-semibold",children:t}),o.jsxs("div",{className:"flex items-center gap-1",children:[n==="up"?o.jsx(x4,{className:"w-4 h-4 text-green-600"}):o.jsx(g4,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-sm text-green-600 font-medium",children:r}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"from last period"})]})]})]})}function fG({userRole:e,currentUser:t}){const[r,n]=D.useState([]),[a,s]=D.useState(!0),[c,u]=D.useState(["All Stores"]),[f,p]=D.useState(""),[h,m]=D.useState("All Stores"),[y,b]=D.useState("All Methods"),[j,w]=D.useState("All Status"),[v,O]=D.useState(""),[_,A]=D.useState(""),[k,P]=D.useState("date"),[S,C]=D.useState("desc"),[T,q]=D.useState(null),[H,F]=D.useState(null),[L,Y]=D.useState("0"),G=["All Methods","Cash","Card","GCash","Mobile Payment"],te=["All Status","Completed","Refunded","Pending"];D.useEffect(()=>{U()},[]);const U=async()=>{try{s(!0);const[V,oe]=await Promise.all([PA(),Nn()]);console.log("Raw salesData from API:",V),console.log("Number of sales:",V.length),V.length>0&&console.log("First sale:",V[0]);const me=V.map(_e=>{var Ie;try{const Je=_e.timestamp||_e.date||new Date().toISOString(),tt=new Date(Je),ae=Array.isArray(_e.items)?_e.items:[],we=parseFloat(String(_e.total))||0,z=parseFloat(String(_e.subtotal))||0;let fe=parseFloat(String(_e.globalDiscount||_e.discount))||0;fe===0&&z>we&&(fe=z-we);const ve=parseFloat(String(_e.tax))||0,je={id:_e.id||_e.transactionId,transactionId:_e.transactionId||"Unknown",date:tt.toISOString().split("T")[0],time:tt.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),store:_e.location||"Unknown Store",customer:((Ie=_e.customer)==null?void 0:Ie.name)||"Walk-in Customer",items:ae.length,subtotal:z,discount:fe,tax:ve,total:we,paymentMethod:_e.paymentMethod||"Cash",cashier:String(_e.cashier||_e.username||"Unknown"),status:"Completed"};return console.log("Transformed single sale:",je),je}catch(Je){throw console.error("Error transforming sale:",_e,Je),Je}});console.log("Final transformed sales:",me),console.log("Final total:",me.reduce((_e,Ie)=>_e+Ie.total,0)),n(me);const ce=oe.map(_e=>_e.name);u(["All Stores",...ce])}catch(V){console.error("Error loading sales data:",V),ne.error("Failed to load sales data")}finally{s(!1)}},Q=r.filter(V=>{try{const oe=f.toLowerCase(),me=String(V.transactionId||"").toLowerCase().includes(oe)||String(V.customer||"").toLowerCase().includes(oe)||String(V.cashier||"").toLowerCase().includes(oe),ce=h==="All Stores"||V.store===h,_e=y==="All Methods"||V.paymentMethod===y,Ie=j==="All Status"||V.status===j;return me&&ce&&_e&&Ie}catch(oe){return console.error("Filter error for sale:",V,oe),!1}});console.log("Current sales count:",r.length),console.log("Filtered sales count:",Q.length),console.log("Filtered sales:",Q);const Z=[...Q].sort((V,oe)=>{let me=V[k],ce=oe[k];return k==="date"&&(me=new Date(V.date+" "+V.time).getTime(),ce=new Date(oe.date+" "+oe.time).getTime()),me<ce?S==="asc"?-1:1:me>ce?S==="asc"?1:-1:0}),B=V=>{k===V?C(S==="asc"?"desc":"asc"):(P(V),C("asc"))},$=Q.reduce((V,oe)=>{const me=Number(oe.total)||0;return V+me},0),E=Q.length,R=E>0?$/E:0,X=Q.reduce((V,oe)=>{const me=Number(oe.discount)||0;return V+me},0);console.log("Total sales calculated:",$),console.log("Total transactions:",E),console.log("Average transaction value:",R);const re=({field:V})=>k!==V?null:S==="asc"?o.jsx(sl,{className:"w-4 h-4"}):o.jsx(mo,{className:"w-4 h-4"}),le=V=>{var oe;F(V),Y(((oe=V.reseco)==null?void 0:oe.toString())||"0")},K=()=>{if(!H)return;const V=parseFloat(L)||0,oe=H.originalTotal||H.total,me=Math.max(0,oe-V);n(r.map(ce=>ce.id===H.id?{...ce,reseco:V,originalTotal:oe,total:me}:ce)),YM(H.id,{reseco:V,total:me}).then(()=>ne.success("Reseco updated successfully")).catch(ce=>{console.error("Error updating reseco:",ce),ne.error("Failed to update reseco")}),F(null),Y("0")},he=()=>{F(null),Y("0")},Pe=V=>{`${V.date}${V.time}`;let oe=`========================================
`;oe+=`       LZT MEAT PRODUCTS
`,oe+=`========================================
`,oe+=`Date: ${new Date(V.date).toLocaleDateString()}
`,oe+=`Time: ${V.time}
`,oe+=`Transaction #: ${V.transactionId}
`,oe+=`Store: ${V.store}
`,oe+=`Cashier: ${V.cashier}
`,V.customer&&V.customer!=="Walk-in Customer"&&(oe+=`Customer: ${V.customer}
`),oe+=`========================================

`,oe+=`Items Purchased: ${V.items}
`,oe+=`(See transaction details for item breakdown)

`,oe+=`----------------------------------------
`,oe+=`Subtotal: ${(Number(V.subtotal)||0).toFixed(2)}
`,Number(V.discount||0)>0&&(oe+=`Discount: -${(Number(V.discount)||0).toFixed(2)}
`),V.reseco&&Number(V.reseco)>0&&(oe+=`Reseco: -${(Number(V.reseco)||0).toFixed(2)}
`),oe+=`Tax (8%): ${(Number(V.tax)||0).toFixed(2)}
`,oe+=`----------------------------------------
`,oe+=`TOTAL: ${(Number(V.total)||0).toFixed(2)}
`,oe+=`========================================
`,oe+=`Payment Method: ${V.paymentMethod}
`,oe+=`========================================

`,oe+=`     Thank you for your business!
`,oe+=`       Please come again!
`,oe+=`========================================
`;const me=window.open("","_blank");me?(me.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Receipt - ${V.transactionId}</title>
          <style>
            @media print {
              body {
                margin: 0;
                padding: 20px;
              }
              @page {
                margin: 0;
              }
            }
            body {
              font-family: 'Courier New', monospace;
              font-size: 12px;
              line-height: 1.4;
              max-width: 300px;
              margin: 0 auto;
              padding: 20px;
            }
            pre {
              margin: 0;
              white-space: pre-wrap;
              word-wrap: break-word;
            }
            .print-button {
              display: block;
              margin: 20px auto;
              padding: 10px 20px;
              background: #dc2626;
              color: white;
              border: none;
              border-radius: 5px;
              cursor: pointer;
              font-size: 14px;
            }
            .print-button:hover {
              background: #b91c1c;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <pre>${oe}</pre>
          <button class="print-button" onclick="window.print()"> Print Receipt</button>
        </body>
        </html>
      `),me.document.close(),me.focus()):(alert(oe),ne.error("Pop-up blocked. Please allow pop-ups to print receipts.")),ne.success("Receipt opened in new window")};return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[a?o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gt,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading sales data..."})]})}):o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold mb-1",children:"Sales History"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View all sales transactions from every store"})]}),o.jsxs("button",{onClick:U,className:"flex items-center gap-2 bg-card border border-border px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[o.jsx(Gt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-green-100 p-2 lg:p-3 rounded-lg",children:o.jsx(So,{className:"w-5 h-5 lg:w-6 lg:h-6 text-green-600"})})}),o.jsxs("p",{className:"text-2xl lg:text-3xl text-green-600 mb-1",children:["",(Number($)||0).toFixed(2)]}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Total Sales"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-blue-100 p-2 lg:p-3 rounded-lg",children:o.jsx(Mn,{className:"w-5 h-5 lg:w-6 lg:h-6 text-blue-600"})})}),o.jsx("p",{className:"text-2xl lg:text-3xl text-blue-600 mb-1",children:E}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Transactions"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-purple-100 p-2 lg:p-3 rounded-lg",children:o.jsx(So,{className:"w-5 h-5 lg:w-6 lg:h-6 text-purple-600"})})}),o.jsxs("p",{className:"text-2xl lg:text-3xl text-purple-600 mb-1",children:["",(Number(R)||0).toFixed(2)]}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Avg Transaction"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("div",{className:"bg-orange-100 p-2 lg:p-3 rounded-lg",children:o.jsx(So,{className:"w-5 h-5 lg:w-6 lg:h-6 text-orange-600"})})}),o.jsxs("p",{className:"text-2xl lg:text-3xl text-orange-600 mb-1",children:["",(Number(X)||0).toFixed(2)]}),o.jsx("p",{className:"text-xs lg:text-sm text-muted-foreground",children:"Total Discount"})]})]}),o.jsxs("div",{className:"bg-card rounded-lg p-4 lg:p-6 border border-border space-y-4",children:[o.jsx("div",{className:"flex flex-col md:flex-row gap-3",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search by transaction ID, customer, or cashier...",value:f,onChange:V=>p(V.target.value),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ac,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Filter by:"})]}),o.jsx("select",{value:h,onChange:V=>m(V.target.value),className:"px-3 py-1.5 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:c.map(V=>o.jsx("option",{value:V,children:V},V))}),o.jsx("select",{value:y,onChange:V=>b(V.target.value),className:"px-3 py-1.5 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:G.map(V=>o.jsx("option",{value:V,children:V},V))}),o.jsx("select",{value:j,onChange:V=>w(V.target.value),className:"px-3 py-1.5 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:te.map(V=>o.jsx("option",{value:V,children:V},V))})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50",children:o.jsxs("tr",{children:[o.jsx("th",{onClick:()=>B("transactionId"),className:"text-left py-3 px-4 text-sm cursor-pointer hover:bg-muted/70",children:o.jsxs("div",{className:"flex items-center gap-1",children:["Transaction ID",o.jsx(re,{field:"transactionId"})]})}),o.jsx("th",{onClick:()=>B("date"),className:"text-left py-3 px-4 text-sm cursor-pointer hover:bg-muted/70",children:o.jsxs("div",{className:"flex items-center gap-1",children:["Date & Time",o.jsx(re,{field:"date"})]})}),o.jsx("th",{onClick:()=>B("store"),className:"text-left py-3 px-4 text-sm cursor-pointer hover:bg-muted/70",children:o.jsxs("div",{className:"flex items-center gap-1",children:["Store Name",o.jsx(re,{field:"store"})]})}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Customer"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Cashier"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm",children:"Items"}),o.jsx("th",{onClick:()=>B("total"),className:"text-right py-3 px-4 text-sm cursor-pointer hover:bg-muted/70",children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Total",o.jsx(re,{field:"total"})]})}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Payment"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm",children:"Actions"})]})}),o.jsx("tbody",{children:Z.map(V=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[o.jsx("td",{className:"py-3 px-4 text-sm font-mono",children:V.transactionId}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsxs("div",{children:[o.jsx("p",{children:new Date(V.date).toLocaleDateString()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:V.time})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs",children:V.store})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:V.customer}),o.jsx("td",{className:"py-3 px-4 text-left text-sm",children:V.cashier}),o.jsx("td",{className:"py-3 px-4 text-right text-sm",children:V.items}),o.jsx("td",{className:"py-3 px-4 text-right text-sm",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-primary font-medium",children:["",(Number(V.total)||0).toFixed(2)]}),Number(V.discount||0)>0&&o.jsxs("p",{className:"text-xs text-green-600",children:["Disc: -",(Number(V.discount)||0).toFixed(2)]}),V.reseco&&Number(V.reseco)>0&&o.jsxs("p",{className:"text-xs text-orange-600",children:["Reseco: -",(Number(V.reseco)||0).toFixed(2)]})]})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:V.paymentMethod}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${V.status==="Completed"?"bg-green-100 text-green-700":V.status==="Refunded"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:V.status})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>q(V),className:"p-1.5 hover:bg-accent rounded",title:"View Details",children:o.jsx(K4,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>le(V),className:"p-1.5 hover:bg-accent rounded",title:"Edit Reseco",children:o.jsx(ia,{className:"w-4 h-4"})})]})})]},V.id))})]})}),Z.length===0&&o.jsx("div",{className:"py-12 text-center text-muted-foreground",children:o.jsx("p",{children:"No sales records found"})})]})]}),T&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{children:"Transaction Details"}),o.jsx("button",{onClick:()=>q(null),className:"p-2 hover:bg-accent rounded",children:""})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Transaction ID"}),o.jsx("p",{className:"font-mono",children:T.transactionId})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${T.status==="Completed"?"bg-green-100 text-green-700":T.status==="Refunded"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:T.status})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Date & Time"}),o.jsxs("p",{children:[new Date(T.date).toLocaleDateString()," ",T.time]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Store"}),o.jsx("p",{children:T.store})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Customer"}),o.jsx("p",{children:T.customer})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Cashier"}),o.jsx("p",{children:T.cashier})]})]}),o.jsxs("div",{className:"border-t border-border pt-4",children:[o.jsx("h3",{className:"mb-3",children:"Payment Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Items (",T.items,")"]}),o.jsxs("span",{children:["",(Number(T.subtotal)||0).toFixed(2)]})]}),Number(T.discount||0)>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:"Discount"}),o.jsxs("span",{children:["-",(Number(T.discount)||0).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Tax (8%)"}),o.jsxs("span",{children:["",(Number(T.tax)||0).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[o.jsx("span",{className:"font-medium",children:"Total"}),o.jsxs("span",{className:"text-xl text-primary font-medium",children:["",(Number(T.total)||0).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between pt-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Payment Method"}),o.jsx("span",{children:T.paymentMethod})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{onClick:()=>q(null),className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Close"}),o.jsx("button",{onClick:()=>Pe(T),className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Print Receipt"})]})]})]})}),H&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{children:"Edit Reseco Deduction"}),o.jsx("button",{onClick:he,className:"p-2 hover:bg-accent rounded",children:""})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Transaction ID"}),o.jsx("p",{className:"font-mono",children:H.transactionId})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Customer"}),o.jsx("p",{children:H.customer})]}),o.jsxs("div",{className:"border-t border-border pt-4",children:[o.jsx("h3",{className:"mb-3",children:"Amount Calculation"}),o.jsx("div",{className:"space-y-2 text-sm",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Original Total"}),o.jsxs("span",{children:["",(Number(H.originalTotal||H.total)||0).toFixed(2)]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-2",children:"Reseco Amount ($)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:L,onChange:V=>Y(V.target.value),className:"w-full px-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter reseco amount"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This amount will be deducted from the sale total"})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"New Total"}),o.jsxs("span",{className:"text-2xl text-primary font-medium",children:["",Math.max(0,(Number(H.originalTotal||H.total)||0)-parseFloat(L||"0")).toFixed(2)]})]}),parseFloat(L||"0")>0&&o.jsxs("p",{className:"text-xs text-orange-600 mt-2",children:["Reseco deduction: -",parseFloat(L||"0").toFixed(2)]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx("button",{onClick:he,className:"flex-1 border border-border py-2 rounded-lg hover:bg-accent transition-colors",children:"Cancel"}),o.jsx("button",{onClick:K,className:"flex-1 bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/90 transition-colors",children:"Save Reseco"})]})]})]})})]})}var pG=(e,t,r,n,a,s,c,u)=>{let f=document.documentElement,p=["light","dark"];function h(b){(Array.isArray(e)?e:[e]).forEach(j=>{let w=j==="class",v=w&&s?a.map(O=>s[O]||O):a;w?(f.classList.remove(...v),f.classList.add(s&&s[b]?s[b]:b)):f.setAttribute(j,b)}),m(b)}function m(b){u&&p.includes(b)&&(f.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)h(n);else try{let b=localStorage.getItem(t)||r,j=c&&b==="system"?y():b;h(j)}catch{}},mG=D.createContext(void 0),hG={setTheme:e=>{},themes:[]},gG=()=>{var e;return(e=D.useContext(mG))!=null?e:hG};D.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:c,themes:u,nonce:f,scriptProps:p})=>{let h=JSON.stringify([r,t,s,e,u,c,n,a]).slice(1,-1);return D.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${pG.toString()})(${h})`}})});const dA=({...e})=>{const{theme:t="system"}=gG();return o.jsx(zD,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function yG(){const[e,t]=D.useState([]),[r,n]=D.useState([]),[a,s]=D.useState(!0),[c,u]=D.useState(!0),[f,p]=D.useState(""),[h,m]=D.useState(""),[y,b]=D.useState(!1),[j,w]=D.useState(!1),[v,O]=D.useState(null),[_,A]=D.useState(null);D.useEffect(()=>{k(),P()},[]);const k=async()=>{try{s(!0);const L=await is();t(L)}catch(L){console.error("Error loading product categories:",L),ne.error("Failed to load product categories")}finally{s(!1)}},P=async()=>{try{u(!0);const L=await SA();n(L)}catch(L){console.error("Error loading ingredient categories:",L),ne.error("Failed to load ingredient categories")}finally{u(!1)}},S=async(L,Y)=>{if(confirm(`Are you sure you want to delete the product category "${Y}"?`))try{await qM(L),ne.success("Product category deleted successfully"),k()}catch(G){console.error("Error deleting category:",G),ne.error(G.message||"Failed to delete category")}},C=async(L,Y)=>{if(confirm(`Are you sure you want to delete the ingredient category "${Y}"?`))try{await UM(L),ne.success("Ingredient category deleted successfully"),P()}catch(G){console.error("Error deleting category:",G),ne.error(G.message||"Failed to delete category")}},T=L=>{O(L)},q=L=>{A(L)},H=e.filter(L=>{var Y;return L.name.toLowerCase().includes(f.toLowerCase())||((Y=L.description)==null?void 0:Y.toLowerCase().includes(f.toLowerCase()))}),F=r.filter(L=>{var Y;return L.name.toLowerCase().includes(h.toLowerCase())||((Y=L.description)==null?void 0:Y.toLowerCase().includes(h.toLowerCase()))});return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-4 lg:space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl mb-1",children:"Categories"}),o.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Manage categories for ingredients and products"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:()=>{P(),k()},className:"flex items-center gap-2 bg-card border border-border text-foreground px-4 py-2 rounded-lg hover:bg-muted transition-colors text-sm",children:[o.jsx(Gt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Refresh All"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-4 lg:p-6 border-b border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold",children:[o.jsx(Pv,{className:"w-5 h-5 text-orange-600"}),"Ingredient Categories (",r.length,")"]}),o.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 bg-orange-600 text-white px-3 py-1.5 rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search ingredient categories...",value:h,onChange:L=>m(L.target.value),className:"w-full pl-9 pr-4 py-2 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm"})]})]}),c?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Gt,{className:"w-6 h-6 text-orange-600 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]}):F.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Pv,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:h?"No matching categories":"No ingredient categories yet"}),!h&&o.jsx("button",{onClick:()=>w(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors text-sm",children:"Add First Category"})]}):o.jsx("div",{className:"divide-y divide-border max-h-96 overflow-y-auto",children:F.map(L=>o.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(vi,{className:"w-4 h-4 text-orange-600 flex-shrink-0"}),o.jsx("h3",{className:"font-medium truncate",children:L.name})]}),L.description&&o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:L.description})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>q(L),className:"flex items-center gap-1 bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 transition-colors text-xs",children:o.jsx(ia,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>C(L.id,L.name),className:"flex items-center gap-1 bg-red-50 text-red-600 px-2 py-1 rounded hover:bg-red-100 transition-colors text-xs",children:o.jsx($t,{className:"w-3 h-3"})})]})]})},L.id))})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsxs("div",{className:"p-4 lg:p-6 border-b border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold",children:[o.jsx(Cr,{className:"w-5 h-5 text-blue-600"}),"Product Categories (",e.length,")"]}),o.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search product categories...",value:f,onChange:L=>p(L.target.value),className:"w-full pl-9 pr-4 py-2 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),a?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Gt,{className:"w-6 h-6 text-blue-600 animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]}):H.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Cr,{className:"w-10 h-10 text-muted-foreground mx-auto mb-3"}),o.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:f?"No matching categories":"No product categories yet"}),!f&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Add First Category"})]}):o.jsx("div",{className:"divide-y divide-border max-h-96 overflow-y-auto",children:H.map(L=>o.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(vi,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),o.jsx("h3",{className:"font-medium truncate",children:L.name})]}),L.description&&o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:L.description})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>T(L),className:"flex items-center gap-1 bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 transition-colors text-xs",children:o.jsx(ia,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>S(L.id,L.name),className:"flex items-center gap-1 bg-red-50 text-red-600 px-2 py-1 rounded hover:bg-red-100 transition-colors text-xs",children:o.jsx($t,{className:"w-3 h-3"})})]})]})},L.id))})]})]})]}),(j||_)&&o.jsx(fA,{type:"ingredient",category:_,onClose:()=>{w(!1),A(null)},onSuccess:()=>{w(!1),A(null),P()}}),(y||v)&&o.jsx(fA,{type:"product",category:v,onClose:()=>{b(!1),O(null)},onSuccess:()=>{b(!1),O(null),k()}})]})}function fA({type:e,category:t,onClose:r,onSuccess:n}){const[a,s]=D.useState({name:(t==null?void 0:t.name)??"",description:(t==null?void 0:t.description)??""}),[c,u]=D.useState(!1),f=e==="ingredient",p=!!t,h=async m=>{if(m.preventDefault(),!a.name.trim()){ne.error("Category name is required");return}if(!c)try{u(!0),p?(f?await zM(t.id,{name:a.name.trim(),description:a.description.trim()}):await FM(t.id,{name:a.name.trim(),description:a.description.trim()}),ne.success(`${f?"Ingredient":"Product"} category updated successfully`)):(f?await BM({name:a.name.trim(),description:a.description.trim()}):await LM({name:a.name.trim(),description:a.description.trim()}),ne.success(`${f?"Ingredient":"Product"} category created successfully`)),n()}catch(y){console.error(p?"Error updating category:":"Error creating category:",y),ne.error(y.message||"Failed to save category")}finally{u(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg w-full max-w-md border border-border",children:[o.jsx("div",{className:`p-6 border-b border-border ${f?"bg-orange-50":"bg-blue-50"}`,children:o.jsxs("h2",{className:`text-xl font-semibold flex items-center gap-2 ${f?"text-orange-700":"text-blue-700"}`,children:[f?o.jsx(Pv,{className:"w-5 h-5"}):o.jsx(Cr,{className:"w-5 h-5"}),p?"Edit":"Add"," ",f?"Ingredient":"Product"," Category"]})}),o.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Category Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a.name,onChange:m=>s({...a,name:m.target.value}),placeholder:f?"e.g., Beef, Pork, Seasonings":"e.g., Fresh Sausages, Smoked Meats",className:`w-full px-3 py-2 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 ${f?"focus:ring-orange-500":"focus:ring-blue-500"}`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description (Optional)"}),o.jsx("textarea",{value:a.description,onChange:m=>s({...a,description:m.target.value}),placeholder:"Brief description of this category",rows:3,className:`w-full px-3 py-2 bg-muted border border-border rounded-lg focus:outline-none focus:ring-2 resize-none ${f?"focus:ring-orange-500":"focus:ring-blue-500"}`})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 bg-muted border border-border rounded-lg hover:bg-muted/80 transition-colors",disabled:c,children:"Cancel"}),o.jsx("button",{type:"submit",className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 ${f?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700"}`,disabled:c,children:c?p?"Updating...":"Creating...":p?"Update Category":"Create Category"})]})]})]})})}function vG(){const[e,t]=D.useState([]),[r,n]=D.useState(!0),[a,s]=D.useState(!1),[c,u]=D.useState(null),[f,p]=D.useState(""),[h,m]=D.useState("all"),[y,b]=D.useState({name:"",address:"",contactPerson:"",phone:"",email:"",status:"active"});D.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0);const T=await Nn();t(T)}catch(T){console.error("Error loading stores:",T),ne.error("Failed to load stores")}finally{n(!1)}},w=async()=>{if(!y.name.trim()){ne.error("Store name is required");return}if(!y.address.trim()){ne.error("Store address is required");return}try{await eD(y),ne.success("Store added successfully"),s(!1),A(),j()}catch(T){console.error("Error adding store:",T),ne.error("Failed to add store")}},v=async()=>{if(c){if(!y.name.trim()){ne.error("Store name is required");return}if(!y.address.trim()){ne.error("Store address is required");return}try{await tD(c.id,y),ne.success("Store updated successfully"),u(null),A(),j()}catch(T){console.error("Error updating store:",T),ne.error("Failed to update store")}}},O=async(T,q)=>{if(q==="Main Store"){ne.error("Cannot delete Main Store");return}if(confirm(`Are you sure you want to delete "${q}"?`))try{await rD(T),ne.success("Store deleted successfully"),j()}catch(H){console.error("Error deleting store:",H),ne.error("Failed to delete store")}},_=T=>{u(T),b({name:T.name,address:T.address,contactPerson:T.contactPerson||"",phone:T.phone||"",email:T.email||"",status:T.status})},A=()=>{b({name:"",address:"",contactPerson:"",phone:"",email:"",status:"active"})},k=()=>{s(!1),u(null),A()},P=e.filter(T=>{const q=T.name.toLowerCase().includes(f.toLowerCase())||T.address.toLowerCase().includes(f.toLowerCase()),H=h==="all"||T.status===h;return q&&H}),S=e.filter(T=>T.status==="active").length,C=e.filter(T=>T.status==="inactive").length;return o.jsxs("div",{className:"h-full overflow-auto bg-muted/30",children:[o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl lg:text-3xl font-semibold mb-1 flex items-center gap-2",children:[o.jsx(jo,{className:"w-8 h-8 text-primary"}),"Stores Management"]}),o.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Manage store locations for inventory transfers"})]}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-5 h-5"}),"Add New Store"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Stores"}),o.jsx(Po,{className:"w-5 h-5 text-primary"})]}),o.jsx("p",{className:"text-3xl font-semibold",children:e.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Including Main Store"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Stores"}),o.jsx(No,{className:"w-5 h-5 text-green-600"})]}),o.jsx("p",{className:"text-3xl font-semibold text-green-600",children:S}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently operational"})]}),o.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Inactive Stores"}),o.jsx(mr,{className:"w-5 h-5 text-orange-600"})]}),o.jsx("p",{className:"text-3xl font-semibold text-orange-600",children:C}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Temporarily closed"})]})]}),o.jsx("div",{className:"bg-card rounded-lg p-4 border border-border",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search stores by name or address...",value:f,onChange:T=>p(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ac,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active Only"}),o.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})]})}),o.jsx("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:r?o.jsx("div",{className:"p-12 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Loading stores..."})}):P.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Po,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:f||h!=="all"?"No stores match your filters":"No stores added yet"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50 border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 font-semibold",children:"Store Name"}),o.jsx("th",{className:"text-left p-4 font-semibold",children:"Address"}),o.jsx("th",{className:"text-left p-4 font-semibold",children:"Contact Person"}),o.jsx("th",{className:"text-left p-4 font-semibold",children:"Phone"}),o.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),o.jsx("th",{className:"text-center p-4 font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:P.map(T=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/30 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-2 rounded-lg ${T.name==="Main Store"?"bg-red-100":"bg-blue-100"}`,children:T.name==="Main Store"?o.jsx(jo,{className:"w-5 h-5 text-red-600"}):o.jsx(Po,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:T.name}),T.name==="Main Store"&&o.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Primary Location"})]})]})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(go,{className:"w-4 h-4 text-muted-foreground"}),T.address]})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"text-sm",children:T.contactPerson||"-"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"text-sm",children:T.phone||"-"})}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${T.status==="active"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:[T.status==="active"?o.jsx(No,{className:"w-3 h-3"}):o.jsx(mr,{className:"w-3 h-3"}),T.status.charAt(0).toUpperCase()+T.status.slice(1)]})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>_(T),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors group",title:"Edit Store",children:o.jsx(ia,{className:"w-4 h-4 text-blue-600"})}),T.name!=="Main Store"&&o.jsx("button",{onClick:()=>O(T.id,T.name),className:"p-2 hover:bg-red-50 rounded-lg transition-colors group",title:"Delete Store",children:o.jsx($t,{className:"w-4 h-4 text-red-600"})})]})})]},T.id))})]})})})]}),(a||c)&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-card rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-6 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold flex items-center gap-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(ia,{className:"w-5 h-5 text-primary"}),"Edit Store"]}):o.jsxs(o.Fragment,{children:[o.jsx(kt,{className:"w-5 h-5 text-primary"}),"Add New Store"]})}),o.jsx("button",{onClick:k,className:"p-2 hover:bg-muted rounded-lg",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Store Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:y.name,onChange:T=>b({...y,name:T.target.value}),placeholder:"e.g., Branch 1, Downtown Store",className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:(c==null?void 0:c.name)==="Main Store"}),(c==null?void 0:c.name)==="Main Store"&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Main Store name cannot be changed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:y.address,onChange:T=>b({...y,address:T.target.value}),placeholder:"Enter complete store address",rows:3,className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Person"}),o.jsxs("div",{className:"relative",children:[o.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"text",value:y.contactPerson,onChange:T=>b({...y,contactPerson:T.target.value}),placeholder:"Manager or contact person name",className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(tb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"tel",value:y.phone,onChange:T=>b({...y,phone:T.target.value}),placeholder:"+63 XXX XXX XXXX",className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(vA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx("input",{type:"email",value:y.email,onChange:T=>b({...y,email:T.target.value}),placeholder:"store@example.com",className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),o.jsxs("select",{value:y.status,onChange:T=>b({...y,status:T.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"sticky bottom-0 bg-card border-t border-border p-6 flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:k,className:"px-6 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:c?v:w,className:"flex items-center gap-2 bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(Va,{className:"w-4 h-4"}),c?"Update Store":"Add Store"]})]})]})})]})}const xG=[{id:"dashboard",label:"Dashboard",description:"View dashboard and analytics"},{id:"pos",label:"Point of Sale",description:"Access POS system"},{id:"production",label:"Production",description:"Manage production records"},{id:"inventory",label:"Inventory",description:"View and manage inventory"},{id:"categories",label:"Categories",description:"Manage product categories"},{id:"ingredients",label:"Ingredients",description:"View and manage ingredients"},{id:"transfer",label:"Transfer",description:"Manage inventory transfers"},{id:"sales",label:"Sales",description:"View sales reports"},{id:"reports",label:"Reports",description:"Generate and view reports"},{id:"stores",label:"Stores",description:"Manage store locations"},{id:"employees",label:"Users",description:"Manage users and employees"},{id:"suppliers",label:"Suppliers",description:"Manage suppliers"},{id:"discounts",label:"Discounts",description:"Manage discounts"},{id:"history",label:"History",description:"View history logs"},{id:"transactions",label:"Transactions",description:"View transactions"}];function bG(){const[e,t]=D.useState([]),[r,n]=D.useState(!1),[a,s]=D.useState(null),[c,u]=D.useState(!0),[f,p]=D.useState({name:"",mobile:"",address:"",role:void 0,storeId:"",permissions:[]}),[h,m]=D.useState([]),[y,b]=D.useState(!1),[j,w]=D.useState(null),[v,O]=D.useState({username:"",password:"",confirmPassword:""}),[_,A]=D.useState(!1),[k,P]=D.useState(null),[S,C]=D.useState(null);D.useEffect(()=>{T(),q()},[]);const T=async()=>{try{u(!0);const $=await kA();console.log("=== EMPLOYEES LOADED ==="),console.log("Total users:",$.length);const E=$.find(R=>R.username==="mark_sioson");E&&(console.log(" mark_sioson found in loaded data:"),console.log("  - ID:",E.id),console.log("  - StoreId:",E.storeId),console.log("  - StoreName:",E.storeName),console.log("  - Role:",E.role)),t($)}catch($){console.error("Error loading users:",$),ne.error("Failed to load users")}finally{u(!1)}},q=async()=>{try{const $=await Nn();m($)}catch($){console.error("Error loading stores:",$),ne.error("Failed to load stores")}},H=async $=>{if($.preventDefault(),!f.name.trim()){ne.error("Please enter employee name");return}if(!f.mobile.trim()){ne.error("Please enter mobile number");return}if(!/^(09|\+639)\d{9}$/.test(f.mobile.replace(/\s/g,""))){ne.error("Please enter a valid Philippine mobile number (09XXXXXXXXX)");return}console.log("=== SUBMITTING EMPLOYEE FORM ==="),console.log("FormData being sent:",f),console.log("StoreId:",f.storeId),console.log("StoreId type:",typeof f.storeId);const R={name:f.name,mobile:f.mobile,address:f.address,role:f.role,permissions:f.permissions||[]};f.storeId&&f.storeId.trim()&&(R.storeId=f.storeId),console.log("Clean data being sent:",R),console.log("Is Editing?",!!a),a&&(console.log("Editing Employee ID:",a.id),console.log("Previous StoreId:",a.storeId),console.log("Previous StoreName:",a.storeName));const X=h.find(re=>re.id===R.storeId);console.log("Selected Store Name:",(X==null?void 0:X.name)||"None");try{if(a){console.log(" Calling updateEmployee API...");const re=await xm(a.id,R);console.log(" Update result from server:",re),re&&(console.log("  - StoreId in response:",re.storeId),console.log("  - StoreName in response:",re.storeName)),ne.success("Employee updated successfully"),await T(),G()}else{console.log("Creating new employee with data:",JSON.stringify(R));const re=await aD(R);if(console.log("New employee created:",JSON.stringify(re)),!re){console.error("newEmployee is falsy - API returned no employee data"),ne.error("Employee may have been created but server returned unexpected response. Please refresh."),await T(),G();return}ne.success("Employee added successfully"),re.username&&re.password?(P({username:re.username,password:re.password,name:re.name}),A(!0)):(console.error("Employee created but credentials not returned:",re),ne.warning("Employee created but credentials were not generated. Please set password manually.")),await T(),G()}}catch(re){console.error("Error saving employee:",re),ne.error("Failed to save employee")}},F=$=>{s($),p({name:$.name,mobile:$.mobile,address:$.address,role:$.role,storeId:$.storeId||"",permissions:$.permissions||[]}),n(!0)},L=async $=>{if(confirm("Are you sure you want to delete this user?"))try{console.log("Deleting user with ID:",$),await iD($),ne.success("User deleted successfully"),await T()}catch(E){console.error("Error deleting user:",E),ne.error("Failed to delete user")}},Y=async $=>{try{const E=!$.canLogin;await xm($.id,{canLogin:E}),ne.success(`Login access ${E?"enabled":"disabled"} for ${$.name}`),await T()}catch(E){console.error("Error toggling canLogin:",E),ne.error("Failed to update login permission")}},G=()=>{p({name:"",mobile:"",address:"",role:void 0,storeId:"",permissions:[]}),n(!1),s(null)},te=$=>{w($),O({username:$.name,password:"",confirmPassword:""}),b(!0)},U=()=>{w(null),O({username:"",password:"",confirmPassword:""}),b(!1)},Q=async $=>{if($.preventDefault(),!v.username.trim()){ne.error("Please enter a username");return}if(!v.password.trim()){ne.error("Please enter a password");return}if(v.password!==v.confirmPassword){ne.error("Passwords do not match");return}try{j&&(await xm(j.id,{username:v.username,password:v.password}),ne.success(`Login credentials set successfully! Username: ${v.username}`),await T()),U()}catch(E){console.error("Error updating password:",E),ne.error("Failed to set password")}},Z=$=>{const E=$==="username"?k==null?void 0:k.username:k==null?void 0:k.password;E&&(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(E).then(()=>{C($),ne.success(`Copied ${$} to clipboard`),setTimeout(()=>C(null),2e3)}).catch(()=>{B(E,$)}):B(E,$))},B=($,E)=>{try{const R=document.createElement("textarea");R.value=$,R.style.position="fixed",R.style.left="-9999px",R.style.top="-9999px",document.body.appendChild(R),R.select(),R.setSelectionRange(0,99999);const X=document.execCommand("copy");document.body.removeChild(R),X?(C(E),ne.success(`Copied ${E} to clipboard`),setTimeout(()=>C(null),2e3)):ne.error(`Failed to copy ${E}. Please copy manually.`)}catch(R){console.error("Fallback copy failed:",R),ne.error(`Failed to copy ${E}. Please copy manually.`)}};return o.jsx("div",{className:"h-full overflow-y-auto bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center",children:o.jsx(wA,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),o.jsx("p",{className:"text-gray-600",children:"Manage all users in the system"})]})]}),o.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[o.jsx(kt,{className:"w-5 h-5"}),"Add User"]})]}),r&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a?"Edit Employee":"Add New Employee"}),o.jsx("button",{onClick:G,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(mr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[!a&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," Login credentials will be automatically generated for this employee. You'll see them after creating the account."]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Name *"}),o.jsx("input",{type:"text",value:f.name,onChange:$=>p({...f,name:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter employee name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number *"}),o.jsx("input",{type:"tel",value:f.mobile,onChange:$=>{const E=$.target.value;(/^[\d+\s]*$/.test(E)||E==="")&&p({...f,mobile:E})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter mobile number (09XXXXXXXXX)",maxLength:"13"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 09XXXXXXXXX or +639XXXXXXXXX"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),o.jsx("textarea",{value:f.address,onChange:$=>p({...f,address:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter address",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),o.jsxs("select",{value:f.role,onChange:$=>p({...f,role:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a role"}),o.jsx("option",{value:"Store",children:"Store"}),o.jsx("option",{value:"Production",children:"Production"}),o.jsx("option",{value:"POS",children:"POS"}),o.jsx("option",{value:"Employee",children:"Employee"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store"}),o.jsxs("select",{value:f.storeId,onChange:$=>p({...f,storeId:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a store"}),h.map($=>o.jsx("option",{value:$.id,children:$.name},$.id))]})]}),f.role==="Employee"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),o.jsx("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4 space-y-3",children:xG.map($=>{var E;return o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:((E=f.permissions)==null?void 0:E.includes($.id))||!1,onChange:R=>{const X=R.target.checked?[...f.permissions||[],$.id]:(f.permissions||[]).filter(re=>re!==$.id);p({...f,permissions:X})},className:"mt-0.5 w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.label}),o.jsx("div",{className:"text-xs text-gray-500",children:$.description})]})]},$.id)})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select which features this employee can access"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:a?"Update Employee":"Add Employee"}),o.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Store"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Can Login"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Loading users..."})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No users found. Add your first employee to get started."})}):e.map($=>{var E;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 font-medium",children:$.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:$.name}),$.username&&o.jsxs("div",{className:"text-xs text-gray-500",children:["@",$.username]})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(tb,{className:"w-4 h-4 text-gray-400"}),$.mobile]})}),o.jsx("td",{className:"px-6 py-4",children:$.role?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xM,{className:"w-4 h-4 text-gray-400"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:$.role}),$.role==="Employee"&&$.permissions&&$.permissions.length>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[$.permissions.length," permission",$.permissions.length!==1?"s":""]})]})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"No Role"})}),o.jsx("td",{className:"px-6 py-4",children:$.storeId?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Po,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-700",children:$.storeName||((E=h.find(R=>R.id===$.storeId))==null?void 0:E.name)||"Unknown Store"})]}):o.jsx("span",{className:"text-sm text-gray-400",children:"Not Assigned"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>Y($),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium transition-colors ${$.canLogin!==!1?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:$.canLogin!==!1?"Click to disable login":"Click to enable login",children:$.canLogin!==!1?o.jsxs(o.Fragment,{children:[o.jsx(No,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"Yes"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Fu,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:"No"})]})})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>F($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(ia,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L($.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx($t,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>te($),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Set Password",children:o.jsx(J4,{className:"w-4 h-4"})})]})})]},$.id)})})]})})}),y&&o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 w-96",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Set Password for ",j==null?void 0:j.name]}),o.jsx("button",{onClick:U,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(mr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),o.jsx("input",{type:"text",value:v.username,onChange:$=>O({...v,username:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter username"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This username will be used for login"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),o.jsx("input",{type:"password",value:v.password,onChange:$=>O({...v,password:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),o.jsx("input",{type:"password",value:v.confirmPassword,onChange:$=>O({...v,confirmPassword:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Confirm password"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Set Password"}),o.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"})]})]})]})}),_&&k&&o.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 w-96",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Employee Created Successfully!"}),o.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(mr,{className:"w-5 h-5 text-gray-500"})})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Login credentials have been generated."})," Please save them securely and share with the employee."]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Name"}),o.jsx("input",{type:"text",value:k.name||"N/A",className:"w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:k.username||"Not generated",className:"w-full px-4 py-2 pr-10 bg-gray-50 border border-gray-300 rounded-lg",readOnly:!0}),o.jsx("button",{type:"button",onClick:()=>Z("username"),className:"absolute right-2 top-2 p-2 hover:bg-gray-200 rounded-lg transition-colors",disabled:!k.username,children:S==="username"?o.jsx(Y1,{className:"w-4 h-4 text-green-600"}):o.jsx(Q1,{className:"w-4 h-4 text-gray-500"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:k.password||"Not generated",className:"w-full px-4 py-2 pr-10 bg-gray-50 border border-gray-300 rounded-lg font-mono",readOnly:!0}),o.jsx("button",{type:"button",onClick:()=>Z("password"),className:"absolute right-2 top-2 p-2 hover:bg-gray-200 rounded-lg transition-colors",disabled:!k.password,children:S==="password"?o.jsx(Y1,{className:"w-4 h-4 text-green-600"}):o.jsx(Q1,{className:"w-4 h-4 text-gray-500"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password is only shown once. Make sure to save it!"})]})]}),o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"I've Saved the Credentials"})})]})})]})})}function wG(){const[e,t]=D.useState([]),[r,n]=D.useState(!0),[a,s]=D.useState(!1),[c,u]=D.useState(null),[f,p]=D.useState({name:"",contactPerson:"",phone:"",email:"",address:""});D.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const w=await EA();t(w)}catch(w){console.error("Error loading suppliers:",w),ne.error("Failed to load suppliers")}finally{n(!1)}},m=async w=>{if(w.preventDefault(),!f.name.trim()){ne.error("Supplier name is required");return}try{c?(await sD(c.id,f),ne.success("Supplier updated successfully")):(await oD(f),ne.success("Supplier added successfully")),p({name:"",contactPerson:"",phone:"",email:"",address:""}),s(!1),u(null),h()}catch(v){console.error("Error saving supplier:",v),ne.error("Failed to save supplier")}},y=w=>{u(w),p({name:w.name,contactPerson:w.contactPerson,phone:w.phone,email:w.email,address:w.address}),s(!0)},b=async w=>{if(confirm(`Are you sure you want to delete supplier "${w.name}"?`))try{await lD(w.id),ne.success("Supplier deleted successfully"),h()}catch(v){console.error("Error deleting supplier:",v),ne.error("Failed to delete supplier")}},j=()=>{p({name:"",contactPerson:"",phone:"",email:"",address:""}),s(!1),u(null)};return r?o.jsx("div",{className:"h-full flex items-center justify-center bg-muted/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading suppliers..."})]})}):o.jsx("div",{className:"h-full overflow-auto bg-muted/30",children:o.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:o.jsx(jo,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Supplier Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your ingredient suppliers"})]})]}),o.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-5 h-5"}),"Add Supplier"]})]}),a&&o.jsxs("div",{className:"bg-card rounded-lg border border-border p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:c?"Edit Supplier":"Add New Supplier"}),o.jsx("button",{onClick:j,className:"p-1 hover:bg-muted rounded transition-colors",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Supplier Name *"}),o.jsx("input",{type:"text",value:f.name,onChange:w=>p({...f,name:w.target.value}),placeholder:"Enter supplier name",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Person"}),o.jsx("input",{type:"text",value:f.contactPerson,onChange:w=>p({...f,contactPerson:w.target.value}),placeholder:"Enter contact person name",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:f.phone,onChange:w=>p({...f,phone:w.target.value}),placeholder:"Enter phone number",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:f.email,onChange:w=>p({...f,email:w.target.value}),placeholder:"Enter email address",className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),o.jsx("textarea",{value:f.address,onChange:w=>p({...f,address:w.target.value}),placeholder:"Enter complete address",rows:3,className:"w-full px-3 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:c?"Update Supplier":"Add Supplier"})]})]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border",children:[o.jsx("div",{className:"p-6 border-b border-border",children:o.jsxs("h2",{className:"text-lg font-semibold",children:["All Suppliers (",e.length,")"]})}),e.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(jo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No suppliers found"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add your first supplier to get started"}),o.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(kt,{className:"w-4 h-4"}),"Add First Supplier"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Supplier Name"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Contact Person"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Phone"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Address"}),o.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:e.map(w=>o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jo,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-medium",children:w.name})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[w.contactPerson&&o.jsxs(o.Fragment,{children:[o.jsx(Pi,{className:"w-4 h-4"}),w.contactPerson]}),!w.contactPerson&&o.jsx("span",{className:"text-xs",children:"-"})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[w.phone&&o.jsxs(o.Fragment,{children:[o.jsx(tb,{className:"w-4 h-4"}),w.phone]}),!w.phone&&o.jsx("span",{className:"text-xs",children:"-"})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[w.email&&o.jsxs(o.Fragment,{children:[o.jsx(vA,{className:"w-4 h-4"}),w.email]}),!w.email&&o.jsx("span",{className:"text-xs",children:"-"})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground max-w-xs",children:[w.address&&o.jsxs(o.Fragment,{children:[o.jsx(go,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:w.address})]}),!w.address&&o.jsx("span",{className:"text-xs",children:"-"})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>y(w),className:"p-2 hover:bg-blue-100 text-blue-600 rounded transition-colors",title:"Edit",children:o.jsx(ia,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>b(w),className:"p-2 hover:bg-red-100 text-red-600 rounded transition-colors",title:"Delete",children:o.jsx($t,{className:"w-4 h-4"})})]})})]},w.id))})]})})]})]})})}const jG=[{value:"all",label:"All Actions"},{value:"sale",label:"Sales"},{value:"transfer",label:"Transfers"},{value:"inventory",label:"Inventory"}];function NG(){const[e,t]=D.useState([]),[r,n]=D.useState([]),[a,s]=D.useState(!0),[c,u]=D.useState(""),[f,p]=D.useState("all"),[h,m]=D.useState("timestamp"),[y,b]=D.useState("desc"),[j,w]=D.useState(1),[v]=D.useState(10),[O,_]=D.useState(new Set);D.useEffect(()=>{A()},[]),D.useEffect(()=>{k()},[e,c,f,h,y]);const A=async()=>{try{s(!0);const U=await cD();t(U)}catch(U){console.error("Error loading history data:",U),ne.error("Failed to load system history")}finally{s(!1)}},k=()=>{let U=[...e];c&&(U=U.filter(Q=>Q.action.toLowerCase().includes(c.toLowerCase())||Q.user.toLowerCase().includes(c.toLowerCase())||Q.description.toLowerCase().includes(c.toLowerCase())||JSON.stringify(Q.details).toLowerCase().includes(c.toLowerCase()))),f!=="all"&&(U=U.filter(Q=>Q.action.toLowerCase().includes(f))),U.sort((Q,Z)=>{let B,$;return h==="timestamp"?(B=new Date(Q.timestamp).getTime(),$=new Date(Z.timestamp).getTime()):h==="action"?(B=Q.action.toLowerCase(),$=Z.action.toLowerCase()):h==="user"&&(B=Q.user.toLowerCase(),$=Z.user.toLowerCase()),y==="asc"?B>$?1:-1:B<$?1:-1}),n(U),w(1)},P=U=>{h===U?b(y==="asc"?"desc":"asc"):(m(U),b("desc"))},S=U=>{const Q=new Set(O);Q.has(U)?Q.delete(U):Q.add(U),_(Q)},C=U=>U.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,Q=>Q.toUpperCase()),T=U=>U==null?"-":typeof U=="object"?JSON.stringify(U):String(U),q=async()=>{try{await uD(r),ne.success("History exported to CSV successfully")}catch(U){console.error("Error exporting history:",U),ne.error("Failed to export history")}},H=U=>{const Q=U.toLowerCase();return Q.includes("sale")?xn:Q.includes("production")?Cn:Q.includes("transfer")?ho:Q.includes("inventory")?Cr:X1},F=U=>{const Q=U.toLowerCase();return Q.includes("sale")?"text-green-600 bg-green-50":Q.includes("production")?"text-blue-600 bg-blue-50":Q.includes("transfer")?"text-purple-600 bg-purple-50":Q.includes("inventory")?"text-orange-600 bg-orange-50":"text-gray-600 bg-gray-50"},L=Math.ceil(r.length/v),Y=(j-1)*v,G=Y+v,te=r.slice(Y,G);return a?o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(fl,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading system history..."})]})}):o.jsx("div",{className:"h-full overflow-auto bg-muted/30",children:o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl lg:text-3xl font-bold mb-2",children:"System History"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive log of all system activities and transactions"})]}),o.jsxs("button",{onClick:q,className:"flex items-center gap-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(pl,{className:"w-4 h-4"}),"Export to CSV"]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"text",placeholder:"Search history...",value:c,onChange:U=>u(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("select",{value:f,onChange:U=>p(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary appearance-none cursor-pointer",children:jG.map(U=>o.jsx("option",{value:U.value,children:U.label},U.value))}),o.jsx(mo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]})]}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",Y+1,"-",Math.min(G,r.length)," ","of ",r.length," records"]})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-muted/50 border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4",children:o.jsxs("button",{onClick:()=>P("timestamp"),className:"flex items-center gap-2 hover:text-primary transition-colors",children:[o.jsx(hA,{className:"w-4 h-4"}),"Date & Time",h==="timestamp"&&(y==="asc"?o.jsx(sl,{className:"w-4 h-4"}):o.jsx(mo,{className:"w-4 h-4"}))]})}),o.jsx("th",{className:"text-left py-3 px-4",children:o.jsxs("button",{onClick:()=>P("action"),className:"flex items-center gap-2 hover:text-primary transition-colors",children:["Action",h==="action"&&(y==="asc"?o.jsx(sl,{className:"w-4 h-4"}):o.jsx(mo,{className:"w-4 h-4"}))]})}),o.jsx("th",{className:"text-left py-3 px-4",children:o.jsxs("button",{onClick:()=>P("user"),className:"flex items-center gap-2 hover:text-primary transition-colors",children:[o.jsx(Pi,{className:"w-4 h-4"}),"User",h==="user"&&(y==="asc"?o.jsx(sl,{className:"w-4 h-4"}):o.jsx(mo,{className:"w-4 h-4"}))]})}),o.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Details"})]})}),o.jsx("tbody",{children:te.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"py-12 text-center text-muted-foreground",children:[o.jsx(X1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No history records found"})]})}):te.flatMap(U=>{const Q=H(U.action),Z=O.has(U.id),B=[o.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(U.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm ${F(U.action)}`,children:[o.jsx(Q,{className:"w-4 h-4"}),U.action]})}),o.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:U.user}),o.jsx("td",{className:"py-3 px-4 text-sm",children:U.description}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("button",{onClick:()=>S(U.id),className:"text-primary hover:underline text-sm flex items-center gap-1",children:Z?o.jsxs(o.Fragment,{children:[o.jsx(sl,{className:"w-4 h-4"}),"Hide"]}):o.jsxs(o.Fragment,{children:[o.jsx(mo,{className:"w-4 h-4"}),"View"]})})})]},U.id)];if(Z){const $=U.details?Object.entries(U.details):[];B.push(o.jsx("tr",{className:"bg-muted/30",children:o.jsx("td",{colSpan:5,className:"py-4 px-4",children:o.jsxs("div",{className:"bg-background rounded-lg p-4 border border-border",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Details:"}),$.length===0?o.jsx("p",{className:"text-xs text-muted-foreground",children:"No details available"}):o.jsx("div",{className:"text-xs bg-muted/50 p-3 rounded divide-y divide-border",children:$.map(([E,R])=>o.jsxs("div",{className:"py-2 flex flex-col gap-1 sm:flex-row sm:items-start sm:justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:C(E)}),o.jsx("span",{className:"font-mono break-all sm:text-right",children:T(R)})]},E))})]})})},`${U.id}-details`))}return B})})]})}),L>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",j," of ",L]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>w(Math.max(1,j-1)),disabled:j===1,className:"p-2 rounded-lg border border-border hover:bg-muted transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(M4,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(Math.min(L,j+1)),disabled:j===L,className:"p-2 rounded-lg border border-border hover:bg-muted transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Ov,{className:"w-4 h-4"})})]})]})]})]})})}function SG(){const[e,t]=D.useState({wholesaleMinUnits:5,discountType:"percentage",wholesaleDiscountPercent:1,wholesaleDiscountAmount:0}),[r,n]=D.useState({wholesaleMinUnits:5,discountType:"percentage",wholesaleDiscountPercent:1,wholesaleDiscountAmount:0}),[a,s]=D.useState(!0),[c,u]=D.useState(!1),[f,p]=D.useState(!1);D.useEffect(()=>{h()},[]);const h=async()=>{try{s(!0);const v=await CA();t({wholesaleMinUnits:v.wholesaleMinUnits,discountType:v.discountType,wholesaleDiscountPercent:v.wholesaleDiscountPercent,wholesaleDiscountAmount:v.wholesaleDiscountAmount||0}),n({wholesaleMinUnits:v.wholesaleMinUnits,discountType:v.discountType,wholesaleDiscountPercent:v.wholesaleDiscountPercent,wholesaleDiscountAmount:v.wholesaleDiscountAmount||0})}catch(v){console.error("Error loading discount settings:",v),ne.error("Failed to load discount settings")}finally{s(!1)}},m=(v,O)=>{const _={...e,[v]:O};t(_);const A=_.wholesaleMinUnits!==r.wholesaleMinUnits||_.discountType!==r.discountType||_.wholesaleDiscountPercent!==r.wholesaleDiscountPercent||_.wholesaleDiscountAmount!==r.wholesaleDiscountAmount;p(A)},y=async()=>{if(e.wholesaleMinUnits<1){ne.error("Minimum units must be at least 1");return}if(e.wholesaleMinUnits>1e3){ne.error("Minimum units cannot exceed 1000");return}if(e.discountType==="percentage"){if(e.wholesaleDiscountPercent<0){ne.error("Discount percentage cannot be negative");return}if(e.wholesaleDiscountPercent>100){ne.error("Discount percentage cannot exceed 100%");return}}else if(e.wholesaleDiscountAmount<0){ne.error("Discount amount cannot be negative");return}try{u(!0),await dD({wholesaleMinUnits:e.wholesaleMinUnits,discountType:e.discountType,wholesaleDiscountPercent:e.wholesaleDiscountPercent,wholesaleDiscountAmount:e.wholesaleDiscountAmount}),n(e),p(!1),ne.success("Discount settings updated successfully")}catch(v){console.error("Error updating settings:",v),ne.error("Failed to update discount settings")}finally{u(!1)}},b=()=>{t(r),p(!1)};if(a)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})});const j=1e3,w=e.discountType==="percentage"?e.wholesaleDiscountPercent/100*j:e.wholesaleDiscountAmount;return o.jsxs("div",{className:"p-6 max-w-2xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Discount Settings"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Configure wholesale and retail discount parameters"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex gap-3",children:[o.jsx(_v,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{className:"font-medium",children:"How it works:"}),o.jsx("p",{className:"mt-1",children:"When the total quantity of items in an order reaches the minimum units threshold, the entire order is classified as wholesale and receives the configured discount."})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"minUnits",className:"block text-sm font-medium text-gray-900 mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cr,{className:"w-5 h-5 text-red-600"}),"Minimum Units for Wholesale"]})}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Orders with total items equal to or greater than this will be classified as wholesale"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{id:"minUnits",type:"number",min:"1",max:"1000",step:"1",value:e.wholesaleMinUnits,onChange:v=>m("wholesaleMinUnits",parseInt(v.target.value)||1),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent w-32"}),o.jsx("span",{className:"text-gray-600 font-medium",children:"units"})]}),o.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm text-gray-700",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Current:"})," Orders with"," ",o.jsxs("strong",{children:[e.wholesaleMinUnits," or more units"]})," ","qualify as wholesale"]})})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qu,{className:"w-5 h-5 text-red-600"}),"Discount Type"]})}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"discountType",value:"percentage",checked:e.discountType==="percentage",onChange:()=>m("discountType","percentage"),className:"w-4 h-4 text-red-600 cursor-pointer"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Percentage Discount"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"discountType",value:"fixed_amount",checked:e.discountType==="fixed_amount",onChange:()=>m("discountType","fixed_amount"),className:"w-4 h-4 text-red-600 cursor-pointer"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fixed Amount Discount"})]})]}),e.discountType==="percentage"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"discountPercent",className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Percentage"}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"The percentage of the order total to discount"}),o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("input",{id:"discountPercent",type:"number",min:"0",max:"100",step:"0.01",value:e.wholesaleDiscountPercent,onChange:v=>m("wholesaleDiscountPercent",parseFloat(v.target.value)||0),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent w-32"}),o.jsx("span",{className:"text-gray-600 font-medium",children:"%"})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded text-sm text-gray-700",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Current:"})," ",o.jsxs("strong",{children:[e.wholesaleDiscountPercent,"% discount"]})," ","applied to wholesale orders"]})})]}),e.discountType==="fixed_amount"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"discountAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fixed Discount Amount"}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"The fixed amount (in ) to deduct from the order total"}),o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:""}),o.jsx("input",{id:"discountAmount",type:"number",min:"0",step:"0.01",value:e.wholesaleDiscountAmount,onChange:v=>m("wholesaleDiscountAmount",parseFloat(v.target.value)||0),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent w-32"})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded text-sm text-gray-700",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Current:"})," ",o.jsxs("strong",{children:["",e.wholesaleDiscountAmount.toFixed(2)," discount"]})," ","applied to wholesale orders"]})})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Example Calculation"}),o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 border border-red-200 rounded-lg p-4 space-y-2 text-sm",children:[o.jsx("p",{children:o.jsxs("span",{className:"text-gray-600",children:["Order with 10 items totaling ",j.toLocaleString(),":"]})}),o.jsxs("ul",{className:"space-y-1 ml-4 text-gray-700",children:[o.jsxs("li",{children:[" Qualifies as wholesale:"," ",10>=e.wholesaleMinUnits?"Yes":"No"]}),o.jsxs("li",{children:[" Discount amount: ",w.toFixed(2)]}),o.jsxs("li",{children:[" Final price: ",(j-w).toFixed(2)]})]})]})]})]}),o.jsxs("div",{className:"mt-8 flex gap-3",children:[o.jsxs("button",{onClick:y,disabled:!f||c,className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:[o.jsx(Va,{className:"w-5 h-5"}),c?"Saving...":"Save Changes"]}),o.jsx("button",{onClick:b,disabled:!f,className:"flex items-center gap-2 px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Reset"})]}),f&&o.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex gap-2",children:[o.jsx(_v,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-yellow-800",children:'You have unsaved changes. Click "Save Changes" to apply them.'})]})]}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:o.jsx("p",{children:"These settings affect all wholesale pricing calculations in the Point of Sale system"})})]})}function PG({currentUser:e}){const[t,r]=D.useState(()=>{const b=new Date,j=b.getFullYear(),w=String(b.getMonth()+1).padStart(2,"0"),v=String(b.getDate()).padStart(2,"0");return`${j}-${w}-${v}`}),[n,a]=D.useState(""),[s,c]=D.useState(!1),[u,f]=D.useState(!1),[p,h]=D.useState([]);D.useEffect(()=>{(async()=>{try{const j=await Nn();h(j)}catch(j){console.error("Error loading stores:",j),ne.error("Failed to load stores")}})()},[]);const m=async()=>{try{c(!0),ne.promise(fD(t,n||void 0,(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"Unknown"),{loading:"Generating PDF report...",success:"PDF report downloaded successfully!",error:"Failed to generate PDF report"})}catch(b){console.error("Error exporting PDF:",b),ne.error("Failed to generate PDF report")}finally{c(!1)}},y=async()=>{try{f(!0),ne.promise(pD(t,n||void 0),{loading:"Generating CSV report...",success:"CSV report downloaded successfully!",error:"Failed to generate CSV report"})}catch(b){console.error("Error exporting CSV:",b),ne.error("Failed to generate CSV report")}finally{f(!1)}};return o.jsx("div",{className:"h-full overflow-auto bg-muted/30",children:o.jsxs("div",{className:"container mx-auto p-4 lg:p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold mb-1",children:"Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate and download daily sales reports"})]}),o.jsxs("div",{className:"bg-card rounded-lg border border-border p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Report Date"}),o.jsxs("div",{className:"relative",children:[o.jsx(hA,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{type:"date",value:t,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the date for the report"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Store (Optional)"}),o.jsxs("select",{value:n,onChange:b=>a(b.target.value),className:"w-full px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"All Stores"}),p.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to include all stores"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:m,disabled:s||u,className:"w-full flex items-center justify-center gap-2 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[o.jsx(pl,{className:"w-5 h-5"}),s?"Generating PDF...":"Export as PDF"]}),o.jsxs("button",{onClick:y,disabled:s||u,className:"w-full flex items-center justify-center gap-2 bg-primary text-primary-foreground px-4 py-3 rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[o.jsx(pl,{className:"w-5 h-5"}),u?"Generating CSV...":"Export as CSV"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"bg-card rounded-lg border border-border p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(gA,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-1",children:"PDF Report"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed sales report with inventory movement and transactions in professional PDF format"})]})]})}),o.jsx("div",{className:"bg-card rounded-lg border border-border p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(pl,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-1",children:"CSV Export"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Spreadsheet-compatible data export for detailed analysis and record keeping"})]})]})})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Report Information"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:" PDF reports include inventory status, sales summary, and signature lines"}),o.jsx("li",{children:" CSV exports contain transaction-level detail for further analysis"}),o.jsx("li",{children:" Reports are always generated for the selected date"}),o.jsx("li",{children:" Leave store selection blank to include data from all locations"})]})]})]})})}const OG=({user:e})=>{const[t,r]=D.useState([]),[n,a]=D.useState(!1),[s,c]=D.useState(!0),[u,f]=D.useState("Cash In"),[p,h]=D.useState(""),[m,y]=D.useState(""),[b,j]=D.useState(""),[w,v]=D.useState("");D.useEffect(()=>{O()},[]);const O=async()=>{try{const S=await fetch(`${Av}/transactions`,{headers:{"Content-Type":"application/json"}});if(S.ok){const C=await S.json();r(C.transactions||[])}}catch(S){console.error("Error fetching transactions:",S)}finally{c(!1)}},_=async()=>{if(!p||!m||!b){ne.error("Please fill in all required fields");return}const S=parseFloat(p);if(isNaN(S)||S<=0){ne.error("Please enter a valid amount");return}try{(await fetch(`${Av}/transactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:u,amount:S,description:m,category:b,reference:w||void 0,createdBy:(e==null?void 0:e.fullName)||"Admin"})})).ok?(await O(),a(!1),f("Cash In"),h(""),y(""),j(""),v(""),ne.success("Transaction added successfully")):ne.error("Failed to add transaction")}catch(C){console.error("Error adding transaction:",C),ne.error("Error adding transaction")}},A=t.filter(S=>S.type==="Cash In").reduce((S,C)=>S+C.amount,0),k=t.filter(S=>S.type==="Cash Out").reduce((S,C)=>S+C.amount,0),P=A-k;return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage cash in and cash out transactions"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[o.jsx(kt,{className:"w-5 h-5"}),"Add Transaction"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-green-700 text-sm font-medium",children:"Total Cash In"}),o.jsxs("p",{className:"text-3xl font-bold text-green-900 mt-2",children:["",A.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-full flex items-center justify-center",children:o.jsx(Mn,{className:"w-6 h-6 text-green-700"})})]})}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-red-700 text-sm font-medium",children:"Total Cash Out"}),o.jsxs("p",{className:"text-3xl font-bold text-red-900 mt-2",children:["",k.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-full flex items-center justify-center",children:o.jsx(vm,{className:"w-6 h-6 text-red-700"})})]})}),o.jsx("div",{className:`${P>=0?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"} border rounded-lg p-6`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:`${P>=0?"text-blue-700":"text-orange-700"} text-sm font-medium`,children:"Net Balance"}),o.jsxs("p",{className:`text-3xl font-bold ${P>=0?"text-blue-900":"text-orange-900"} mt-2`,children:["",Math.abs(P).toLocaleString("en-US",{minimumFractionDigits:2})]})]}),o.jsx("div",{className:`w-12 h-12 ${P>=0?"bg-blue-200":"bg-orange-200"} rounded-full flex items-center justify-center`,children:o.jsx(So,{className:`w-6 h-6 ${P>=0?"text-blue-700":"text-orange-700"}`})})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),o.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),o.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Loading transactions..."})}):t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:'No transactions found. Click "Add Transaction" to create one.'})}):t.map(S=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(S.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium ${S.type==="Cash In"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[S.type==="Cash In"?o.jsx(Mn,{className:"w-3 h-3"}):o.jsx(vm,{className:"w-3 h-3"}),S.type]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.category}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:S.description}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.reference||"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:o.jsxs("span",{className:`text-sm font-semibold ${S.type==="Cash In"?"text-green-600":"text-red-600"}`,children:[S.type==="Cash In"?"+":"-","",S.amount.toLocaleString("en-US",{minimumFractionDigits:2})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:S.createdBy})]},S.id))})]})})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",onClick:()=>a(!1),children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Add Transaction"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction Type *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>f("Cash In"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${u==="Cash In"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[o.jsx(Mn,{className:"w-5 h-5"}),"Cash In"]}),o.jsxs("button",{type:"button",onClick:()=>f("Cash Out"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${u==="Cash Out"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[o.jsx(vm,{className:"w-5 h-5"}),"Cash Out"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount () *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:S=>h(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),o.jsxs("select",{value:b,onChange:S=>j(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select a category"}),u==="Cash In"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Sales",children:"Sales"}),o.jsx("option",{value:"Investment",children:"Investment"}),o.jsx("option",{value:"Loan",children:"Loan"}),o.jsx("option",{value:"Refund",children:"Refund"}),o.jsx("option",{value:"Other Income",children:"Other Income"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Supplies",children:"Supplies"}),o.jsx("option",{value:"Utilities",children:"Utilities"}),o.jsx("option",{value:"Salaries",children:"Salaries"}),o.jsx("option",{value:"Rent",children:"Rent"}),o.jsx("option",{value:"Transportation",children:"Transportation"}),o.jsx("option",{value:"Maintenance",children:"Maintenance"}),o.jsx("option",{value:"Other Expenses",children:"Other Expenses"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:m,onChange:S=>y(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:3,placeholder:"Enter transaction description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number (Optional)"}),o.jsx("input",{type:"text",value:w,onChange:S=>v(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., INV-001, Receipt #123"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{a(!1),f("Cash In"),h(""),y(""),j(""),v("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Add Transaction"})]})]})})})]})},jv="lzt_user_session",Nv="lzt_session_expiry",Sv="lzt_current_page",_G=480*60*1e3;function AG(){var k;const[e,t]=D.useState(null),[r,n]=D.useState("dashboard"),[a,s]=D.useState(!1),[c,u]=D.useState(!1),[f,p]=D.useState(0),[h,m]=D.useState(!1);D.useEffect(()=>{(async()=>{try{const S=localStorage.getItem(jv),C=localStorage.getItem(Nv),T=localStorage.getItem(Sv);if(S&&C){const q=parseInt(C,10),H=Date.now();if(H<q){const F=JSON.parse(S);console.log(" Session restored for:",F.username),console.log("  - Store:",F.storeName||"None"),console.log("  - StoreId:",F.storeId||"None"),console.log(" Session expires in:",Math.round((q-H)/1e3/60),"minutes"),t(F),T&&T&&(n(T),console.log(" Restored page:",T))}else console.log(" Session expired, clearing..."),b()}else console.log(" No saved session found")}catch(S){console.error("Error restoring session:",S),b()}finally{u(!0)}})()},[]),D.useEffect(()=>{e&&y(e)},[e]),D.useEffect(()=>{e&&c&&localStorage.setItem(Sv,r)},[r,e,c]);const y=P=>{try{const S=Date.now()+_G;localStorage.setItem(jv,JSON.stringify(P)),localStorage.setItem(Nv,S.toString()),console.log(" Session saved, expires at:",new Date(S).toLocaleString())}catch(S){console.error("Error saving session:",S)}},b=()=>{localStorage.removeItem(jv),localStorage.removeItem(Nv),localStorage.removeItem(Sv),console.log(" Session cleared")},j=P=>{t(P),y(P);let S="dashboard";if(console.log("=== LOGIN: Determining Initial Page ==="),console.log("User:",P.username),console.log("Role:",P.role),console.log("Employee Role:",P.employeeRole),console.log("Assigned Store:",P.storeName),console.log("Store ID:",P.storeId),P.role==="POS")S="pos",console.log(" POS role detected  Redirecting to Point of Sale"),console.log(" User will be locked to store:",P.storeName);else if(P.role==="ADMIN")S="dashboard",console.log(" ADMIN role detected  Redirecting to Dashboard");else if(P.role==="STORE")S="pos",console.log(" STORE role detected  Redirecting to Point of Sale"),console.log(" User will be locked to store:",P.storeName);else if(P.role==="PRODUCTION")S="production",console.log(" PRODUCTION role detected  Redirecting to Production Dashboard");else if(P.employeeRole==="Store")S="pos",console.log(" Store Employee detected  Redirecting to Point of Sale"),console.log(" User will be locked to store:",P.storeName);else if(P.employeeRole==="Production")S="production",console.log(" Production Employee detected  Redirecting to Production Dashboard");else if(P.employeeRole==="Employee"){const C=P.permissions||[];C.includes("pos")?(S="pos",console.log(" Employee with POS permission  Redirecting to Point of Sale"),console.log(" User will be locked to store:",P.storeName)):C.includes("inventory")?(S="inventory",console.log(" Employee with Inventory permission  Redirecting to Inventory")):C.includes("sales")?(S="sales",console.log(" Employee with Sales permission  Redirecting to Sales")):(S="dashboard",console.log(" Employee with no specific permissions  Redirecting to Dashboard"))}console.log("Final Page:",S),console.log("======================================"),n(S)},w=()=>{m(!0)},v=()=>{t(null),n("dashboard"),s(!1),m(!1),b()},O=()=>{if((e==null?void 0:e.employeeRole)==="Employee"){const C=e.permissions||[],T=[{id:"dashboard",icon:Jn,label:"Dashboard",roles:["ADMIN"]}];return[{id:"pos",icon:xn,label:"Point of Sale",permission:"pos"},{id:"inventory",icon:Cr,label:"Inventory",permission:"inventory"},{id:"categories",icon:vi,label:"Categories",permission:"categories"},{id:"ingredients",icon:ol,label:"Ingredients",permission:"ingredients"},{id:"sales",icon:ym,label:"Sales",permission:"sales"},{id:"reports",icon:Jn,label:"Reports",permission:"reports"},{id:"history",icon:ju,label:"History",permission:"history"}].forEach(H=>{C.includes(H.permission)&&T.push({...H,roles:["ADMIN"]})}),T}if((e==null?void 0:e.employeeRole)==="Store")return[{id:"dashboard",icon:Jn,label:"Dashboard",roles:["STORE"]},{id:"pos",icon:xn,label:"Point of Sale",roles:["STORE"]},{id:"inventory",icon:Cr,label:"Inventory",roles:["STORE"]},{id:"categories",icon:vi,label:"Categories",roles:["STORE"]},{id:"ingredients",icon:ol,label:"Ingredients",roles:["STORE"]},{id:"sales",icon:ym,label:"Sales",roles:["STORE"]},{id:"reports",icon:Jn,label:"Reports",roles:["STORE"]},{id:"history",icon:ju,label:"History",roles:["STORE"]}];if((e==null?void 0:e.employeeRole)==="Production")return[{id:"dashboard",icon:Jn,label:"Dashboard",roles:["PRODUCTION"]},{id:"production",icon:Cn,label:"Production",roles:["PRODUCTION"]},{id:"ingredients",icon:ol,label:"Ingredients",roles:["PRODUCTION"]},{id:"transfer",icon:dl,label:"Transfer",roles:["PRODUCTION"]},{id:"history",icon:ju,label:"History",roles:["PRODUCTION"]}];const P=[{id:"dashboard",icon:Jn,label:"Dashboard",roles:["ADMIN","STORE","PRODUCTION"]}],S=[{id:"pos",icon:xn,label:"Point of Sale",roles:["ADMIN","STORE"]},{id:"production",icon:Cn,label:"Production",roles:["ADMIN","PRODUCTION"]},{id:"inventory",icon:Cr,label:"Inventory",roles:["ADMIN","STORE"]},{id:"categories",icon:vi,label:"Categories",roles:["ADMIN","STORE"]},{id:"ingredients",icon:ol,label:"Ingredients",roles:["ADMIN","STORE","PRODUCTION"]},{id:"transfer",icon:dl,label:"Transfer",roles:["ADMIN","PRODUCTION"]},{id:"sales",icon:ym,label:"Sales",roles:["ADMIN","STORE"]},{id:"reports",icon:Jn,label:"Reports",roles:["ADMIN","STORE"]},{id:"stores",icon:Po,label:"Stores",roles:["ADMIN"]},{id:"employees",icon:wA,label:"Users",roles:["ADMIN"]},{id:"suppliers",icon:vi,label:"Suppliers",roles:["ADMIN"]},{id:"discounts",icon:qu,label:"Discounts",roles:["ADMIN"]},{id:"history",icon:ju,label:"History",roles:["ADMIN","STORE","PRODUCTION"]},{id:"transactions",icon:So,label:"Transactions",roles:["ADMIN","STORE","PRODUCTION"]}];return[...P,...S].filter(C=>C.roles.includes((e==null?void 0:e.role)||""))},_=P=>{const S=A.map(C=>C.id);if((e==null?void 0:e.role)==="POS"&&P!=="pos"){console.warn("POS users can only access POS page");return}if(!S.includes(P)){console.warn(`User does not have access to ${P}`);return}P==="inventory"&&p(C=>C+1),n(P),s(!1)};if(!e)return o.jsx(uG,{onLogin:j});if(e.role==="POS")return o.jsxs(sA,{children:[o.jsxs("div",{className:"size-full flex flex-col bg-background",children:[o.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6 shadow-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o.jsx(xn,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Point of Sale"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"POS Terminal"})]})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm",children:"Live"})]}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-secondary rounded-lg",children:[o.jsx(Pi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm hidden sm:inline",children:e.fullName})]}),o.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors border border-red-200",children:[o.jsx(Z1,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(lj,{currentUser:e})})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm mx-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Logout"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout?"}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-medium",children:"Logout"})]})]})}),o.jsx(dA,{})]});const A=O();return o.jsxs(sA,{children:[o.jsxs("div",{className:"size-full flex bg-background",children:[o.jsxs("aside",{className:`fixed lg:sticky inset-y-0 left-0 z-50 w-64 h-screen bg-primary text-primary-foreground transform transition-transform duration-300 ease-in-out flex flex-col ${a?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[o.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-primary-foreground/20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jn,{className:"w-8 h-8"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-sm font-semibold leading-tight",children:"LZT Meat Products"}),o.jsx("span",{className:"text-xs opacity-80",children:"Management System"})]})]}),o.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-2 hover:bg-primary-foreground/10 rounded",children:o.jsx(mr,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"px-4 py-3 border-b border-primary-foreground/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-foreground/20 rounded-full flex items-center justify-center",children:o.jsx(Pi,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:e.fullName}),o.jsx("p",{className:"text-xs opacity-70",children:e.role})]})]})}),o.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:A.map(P=>{const S=P.icon,C=r===P.id;return o.jsxs("button",{onClick:()=>_(P.id),className:`w-full flex items-center gap-3 px-6 py-3 transition-colors ${C?"bg-primary-foreground text-primary border-r-4 border-primary":"hover:bg-primary-foreground/10"}`,children:[o.jsx(S,{className:"w-5 h-5"}),o.jsx("span",{children:P.label})]},P.id)})}),o.jsxs("div",{className:"p-4 border-t border-primary-foreground/20",children:[o.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-primary-foreground/10 hover:bg-primary-foreground/20 py-2.5 rounded-lg transition-colors",children:[o.jsx(Z1,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]}),o.jsxs("div",{className:"mt-3 text-xs opacity-70 text-center",children:[o.jsx("p",{children:" 2026 LZT Meat Products"}),o.jsx("p",{className:"mt-1",children:"v1.0.0"})]})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>s(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-2 hover:bg-accent rounded",children:o.jsx(oM,{className:"w-6 h-6"})}),o.jsx("h2",{className:"text-lg md:text-xl",children:(k=A.find(P=>P.id===r))==null?void 0:k.label})]}),o.jsxs("div",{className:"flex items-center gap-3 relative",children:[o.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-primary/10 text-primary rounded-lg",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm",children:"Live"})]}),o.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-secondary hover:bg-secondary/80 rounded-lg transition-colors",children:[o.jsx(Pi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm hidden sm:inline",children:e.username})]})]})]}),o.jsxs("main",{className:"flex-1 overflow-auto",children:[r==="dashboard"&&o.jsx(dG,{userRole:e.role,userName:e.fullName,onNavigate:_}),r==="pos"&&o.jsx(lj,{currentUser:e}),r==="production"&&o.jsx(tG,{}),r==="inventory"&&o.jsx(rG,{currentUser:e},f),r==="ingredients"&&o.jsx(oG,{currentUser:e}),r==="transfer"&&o.jsx(lG,{}),r==="sales"&&o.jsx(fG,{userRole:e.role,currentUser:e}),r==="reports"&&o.jsx(PG,{currentUser:e}),r==="categories"&&o.jsx(yG,{}),r==="stores"&&o.jsx(vG,{}),r==="employees"&&o.jsx(bG,{}),r==="suppliers"&&o.jsx(wG,{}),r==="discounts"&&o.jsx(SG,{}),r==="history"&&o.jsx(NG,{}),r==="transactions"&&o.jsx(OG,{user:e})]})]})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm mx-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Logout"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout?"}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{onClick:v,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors font-medium",children:"Logout"})]})]})}),o.jsx(dA,{})]})}s4.createRoot(document.getElementById("root")).render(o.jsx(AG,{}));
